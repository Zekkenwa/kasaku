;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ee44a68e-7bac-69cc-12ed-8fd9a2ad47ab")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2807115,2760613,e=>{"use strict";var i=e.i(3267987),l=e.i(1381818),t=e.i(8674454),n=e.i(6694387),r=e.i(4991687),s=e.i(8459493),o=e.i(5468328),a=e.i(4064233),u=e.i(6143247),c=e.i(854682),d=e.i(4655443);e.i(6728635);var j=e.i(2630141);e.i(3182268);var b=e.i(7849855),x=e.i(7114658),h=e.i(1717203),P=e.i(7557283),y=e.i(1053524),f=e.i(6891161),v=e.i(8522580);let m=(0,e.i(7883293).create)(e=>({active:!1,setActive:i=>e({active:i})}));function g(e){let{onOpenExcludeModal:i}=e,{can:t,isLoading:n}=(0,h.default)(),{isObservabilityPlusForProjectsFlagEnabled:r,toggleObservabilityPlusForProject:o,isCurrentProjectExcluded:a,isValidating:u}=(0,x.useObservabilityPlusForProjects)(),{projectSlug:c}=(0,b.useProjectSlug)();if(!r||!c)return null;let d=!n&&t(P.Action.Update,P.Resource.ObservabilityConfiguration);return a?(0,l.jsx)(s.MenuItem,{disabled:!d||u||n,onClick:()=>{c&&o({projectName:c,disabled:!1})},children:(0,l.jsx)(p,{text:d?void 0:"Please ask your team owners",children:"Include Project in Plus"})}):(0,l.jsx)(s.MenuItem,{disabled:!d||u||n,onClick:i,type:"error",children:(0,l.jsx)(p,{text:d?void 0:"Please ask your team owners",children:"Exclude Project from Plus"})})}function p(e){let{text:i,children:t}=e;return i?(0,l.jsx)(o.Tooltip,{text:i,children:t}):t}e.s(["ExcludeProjectConfirmationModal",0,()=>{let{active:e,setActive:i}=m(),[t,n]=(0,y.useState)(!1),r=()=>i(!1),{toggleObservabilityPlusForProject:s}=(0,x.useObservabilityPlusForProjects)(),{projectSlug:o}=(0,b.useProjectSlug)();if(!o)return null;let a=async()=>{if(o){n(!0);try{await s({projectName:o,disabled:!0}),r()}finally{n(!1)}}};return(0,l.jsxs)(f.Modal.Modal,{active:e,onClickOutside:r,width:"500px",children:[(0,l.jsx)(f.Modal.Body,{children:(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(f.Modal.Title,{children:"Exclude Project from Observability Plus?"}),(0,l.jsxs)("p",{children:["Excluding ",(0,l.jsx)("strong",{children:o})," from Observability Plus will disable the following features for this project:"]}),(0,l.jsxs)(v.Note,{type:"warning",children:[(0,l.jsx)("strong",{children:"Anomaly Alerts"})," will stop being sent"]}),(0,l.jsx)(v.Note,{type:"warning",children:"Logs retention will decrease from 14 days to 3 days"}),(0,l.jsx)(v.Note,{type:"warning",children:"Data will no longer appear in the Query Builder"}),(0,l.jsx)("p",{children:"You can re-enable Observability Plus for this project at any time."})]})}),(0,l.jsxs)(f.Modal.Actions,{children:[(0,l.jsx)(f.Modal.Action,{disabled:t,onClick:r,type:"secondary",children:"Cancel"}),(0,l.jsx)(f.Modal.Action,{disabled:t,loading:t,onClick:a,type:"error",children:"Exclude Project"})]})]})},"useExcludeProjectConfirmationModalState",0,m],2760613),e.s(["OptionsMenu",0,function(e){let{children:o,className:b}=e,x=(0,d.useParams)(),{hasObservabilityPlusAccess:h,impersonating:P,hasObservabilityPlusSubscribed:y}=(0,c.useHasObservabilityPlus)(),f=(0,j.useOpenEnableModal)(),{setActive:v}=m();return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(r.MenuContainer,{position:"bottom-end",children:[(0,l.jsx)(n.MenuButton,{"aria-label":"More Actions",className:(0,u.cn)("shrink-0",b),shape:"square",svgOnly:!0,type:"true"!==i.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==i.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===i.default.env.NEXT_PUBLIC_DASH?"tertiary":"secondary",children:(0,l.jsx)(a.MoreHorizontal,{})}),(0,l.jsxs)(t.Menu,{width:230,children:[o,h?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.MenuItem,{isLink:!0,href:`/${x?.teamSlug}/~/settings/billing#observability`,children:"Configure Observability Plus"}),(0,l.jsx)(g,{onOpenExcludeModal:()=>v(!0)})]}):null,h&&(!P||y)?null:(0,l.jsx)(s.MenuItem,{onClick:()=>f({via:"header-menu"}),children:"Upgrade to Observability Plus"})]})]})})}],2807115)},9030678,e=>{"use strict";var i=e.i(3267987),l=e.i(1381818),t=e.i(4655443),n=e.i(854682);e.i(6728635);var r=e.i(2630141);e.i(3182268);var s=e.i(7849855),o=e.i(7114658),a=e.i(1717203),u=e.i(7557283),c=e.i(2760613),d=e.i(1295503),j=e.i(2807115);function b(){let e=(0,t.useParams)(),{hasObservabilityPlusAccess:i,impersonating:s,hasObservabilityPlusSubscribed:o}=(0,n.useHasObservabilityPlus)(),a=(0,r.useOpenEnableModal)(),{setActive:u}=(0,c.useExcludeProjectConfirmationModalState)();return(0,l.jsxs)(l.Fragment,{children:[i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.ActionMenuLink,{href:`/${e?.teamSlug}/~/settings/billing#observability`,children:"Configure Observability Plus"}),(0,l.jsx)(x,{onOpenExcludeModal:()=>u(!0)})]}):null,i&&(!s||o)?null:(0,l.jsx)(d.ActionMenuItem,{onClick:()=>a({via:"header-menu"}),children:"Upgrade to Observability Plus"})]})}function x(e){let{onOpenExcludeModal:i}=e,{can:t,isLoading:n}=(0,a.default)(),{isObservabilityPlusForProjectsFlagEnabled:r,toggleObservabilityPlusForProject:c,isCurrentProjectExcluded:j,isValidating:b}=(0,o.useObservabilityPlusForProjects)(),{projectSlug:x}=(0,s.useProjectSlug)();if(!r||!x)return null;let h=!n&&t(u.Action.Update,u.Resource.ObservabilityConfiguration);return j?(0,l.jsx)(d.ActionMenuItem,{disabled:!h||b||n,onClick:()=>{x&&c({projectName:x,disabled:!1})},children:"Include Project in Plus"}):(0,l.jsx)(d.ActionMenuItem,{disabled:!h||b||n,onClick:i,type:"error",children:"Exclude Project from Plus"})}e.s(["ObservabilityActions",0,function(){return"true"===i.default.env.NEXT_PUBLIC_TESTMODE||"true"===i.default.env.NEXT_PUBLIC_TESTSERVER||"1"!==i.default.env.NEXT_PUBLIC_DASH?(0,l.jsx)(j.OptionsMenu,{}):(0,l.jsx)(b,{})}])}]);

//# debugId=ee44a68e-7bac-69cc-12ed-8fd9a2ad47ab
//# sourceMappingURL=be2170877339c066.js.map