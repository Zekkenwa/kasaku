;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="3f0dbdcf-743e-2d76-3abb-eef310e8bf7f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6287020,e=>{e.q("/_next/static/media/worker.1c70e3c7.ts")},4240811,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM7.53033 4.71967L7 4.18934L5.93934 5.25L6.46967 5.78033L8.68934 8L6.46967 10.2197L5.93934 10.75L7 11.8107L7.53033 11.2803L10.1036 8.70711C10.4941 8.31658 10.4941 7.68342 10.1036 7.29289L7.53033 4.71967Z" fill="currentColor"/>');e.s(["ChevronCircleRightFill",0,t])},6439983,e=>{"use strict";var t=e.i(9171423),r=e.i(8042625),a=e.i(1903235);let i=async(e,t,r)=>{let i=(0,a.getPermutationKey)(e);if(t.knownPermutations.has(i))return;t.knownPermutations.add(i),t.pendingPermutations.add(i);let{string:n,type:o}=e;try{await s[o](n,t,r)}catch(e){t.knownPermutations.delete(i),console.log(e)}finally{t.pendingPermutations.delete(i),r()}},s={account:async(e,t)=>{},team:async(e,t)=>{},project:async(e,i,s)=>{if(!(await Promise.allSettled([(0,t.fetchApi)(`/api/v2/dashboard/projects${(0,r.encode)({search:e,teamId:i.params.team,limit:10})}`,{throwOnHTTPError:!0}).then(e=>{if(!e||"object"!=typeof e)throw Error("Invalid projects API response");for(let t of e.projects||[])(0,a.addProject)(i,t);s()}),(0,t.fetchApi)(`/api/dashboard/find/projects${(0,r.encode)({query:e,limit:10})}`,{throwOnHTTPError:!0}).then(e=>{if(!e||"object"!=typeof e)throw Error("Invalid projects API response");for(let t of e.projects)(0,a.addProject)(i,t);s()})])).some(e=>"fulfilled"===e.status))throw Error("Failed to fetch projects")},deployment:async(e,a)=>{let i=await (0,t.fetchApi)(`/api/v1/dashboard/find/branches${(0,r.encode)({query:e,teamId:a.params.team})}`,{throwOnHTTPError:!0});if(!i||"object"!=typeof i)throw Error("Invalid projects API response");for(let e of i.branches){let t=e.project.deployment.status;if("CANCELED"===t)continue;let r=a.projects.get(e.project.id)?.name;if(!r)continue;let i=e.project.deployment.id.replace("dpl_","");a.deployments.set(i,{id:i,readyState:t,meta:{githubDeployment:"1",gitCommitRef:e.branch},createdAt:0,url:"",aliasAssigned:!0}),a.activeBranches.set(`${e.project.id}_${e.branch}`,{projectId:e.project.id,project:r,branch:e.branch,deployment:i})}}};e.s(["fetchParamPermutation",0,i])},6161994,e=>{"use strict";var t=e.i(850302),r=e.i(8042625),a=e.i(277234),i=e.i(5338940);e.s(["useMicrofrontendsGroups",0,function(e,s){let{enabled:n,overWriteTeamSlug:o}=e??{},{isReady:l,team:c}=(0,i.useTeam)(o),d=l&&(n??!0);return(0,t.default)(()=>d?`/api/v1/microfrontends/groups${(0,r.encode)({teamId:c?.id})}`:null,async e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),{revalidateOnFocus:!1,dedupingInterval:1e4,...s})}])},472117,e=>{"use strict";var t=e.i(4597921);e.s(["useChecksPrivateBetaFlag",0,()=>(0,t.useServerFlag)("enable-checks-private-beta",!1),"useChecksSettingsFlag",0,()=>(0,t.useServerFlag)("enable-marketplace-checks",!1),"useCiChecksAndPoliciesFlagV2",0,()=>(0,t.useServerFlag)("enable-ci-checks-and-policies",!1)])},100247,e=>{"use strict";let t={QUEUED:"This deployment is queued.",BUILDING:"This deployment is building.",READY:"This deployment is ready.",ERROR:"This deployment had an error.",CANCELED:"This deployment was canceled.",INITIALIZING:"This deployment is initializing.",UPLOADING:"This deployment is initializing.",DEPLOYING:"This deployment is initializing.",DELETED:"This deployment has been deleted."};e.s(["getDeploymentStatus",0,function(e){let t=e?.readyState==="READY",r=t&&e?.checksState&&!e?.checksConclusion,a=t&&(!e?.checksState||["success","skipped"].includes(e?.checksConclusion??""))&&!e?.aliasAssigned&&!e?.aliasError&&!["ROLLING","STAGED"].includes(e?.readySubstate??"");return{readyState:e?.readyState??"INITIALIZING",hasChecksConclusionFailed:e?.checksConclusion==="failed",isAliasAssigned:!!e?.aliasAssigned,promotionRequirementsStatus:e?.checks?.["deployment-alias"]?.state,hasAliasError:!!e?.aliasError,aliasErrorMessage:e?.aliasError?.message??"",areChecksRunning:r??!1,areDomainsAssigning:a??!1,isBuildContainerProvisioning:!!(!e?.buildingAt&&e?.connectConfigurationId&&(e?.connectBuildsEnabled??!0)),isDeleted:e?.deleted!==void 0}},"getDeploymentStatusText",0,e=>{let{areChecksRunning:t,areDomainsAssigning:r,isBuildContainerProvisioning:a,hasChecksConclusionFailed:i,hasAliasError:s,readyState:n,isDeleted:o,promotionRequirementsStatus:l,enableCiChecksAndPolicies:c,promotionStatusVisible:d=!1}=e,u=`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()}`;return d?u:a?"Provisioning":t?"Running Checks":i||"failed"===l&&"READY"===n&&c?"Checks Failed":"pending"===l&&"READY"===n&&c?"Running Checks":s?"Domain Error":r?"Assigning Domains":o?"Deleted":u},"getDeploymentStatusTitle",0,function(e){let{areChecksRunning:r,areDomainsAssigning:a,isBuildContainerProvisioning:i,hasChecksConclusionFailed:s,hasAliasError:n,aliasErrorMessage:o,readyState:l,isDeleted:c,isAliasAssigned:d,promotionRequirementsStatus:u,enableCiChecksAndPolicies:m}=e;return i?"The build container for this deployment is being provisioned via Vercel Secure Compute.":"failed"===u&&"READY"===l&&m?"Requirements are blocking promotion to production.":"pending"===u&&"READY"===l&&m?"Requirements are running and blocking promotion to production.":r?"The checks for this deployment are running.":s?"The checks for this deployment have failed.":n?o:d?"This deployment is ready.":a?"This deployment is assigning custom domains.":c?"This deployment has been deleted.":t[l]}])},2940029,e=>{"use strict";var t=e.i(1381818),r=e.i(5255926),a=e.i(6143247),i=e.i(9722978);function s(e){let{title:r,children:a,className:n,...o}=e;return(0,t.jsxs)("div",{className:(0,i.clsx)("flex flex-col gap-1",n),...o,children:[r?(0,t.jsx)(s.Title,{children:r}):null,a]})}s.Title=function(e){let{children:r}=e;return(0,t.jsx)("span",{className:"text-label-14 text-gray-900",children:r})},s.Item=function(e){let{children:r,Icon:i,mono:s=!1,className:n,...o}=e;return(0,t.jsxs)("div",{className:(0,a.cn)("flex h-5 items-center gap-2 whitespace-nowrap [&>*]:text-ellipsis",s?"text-label-13-mono":"text-label-14",n),...o,children:[i?(0,t.jsx)(i,{className:"flex-none",color:"gray-900"}):null,r]})},s.ItemSkeleton=function(e){let{width:a=128}=e;return(0,t.jsx)(s.Item,{children:(0,t.jsx)(r.Skeleton,{height:16,width:a})})},e.s(["Attribute",0,s])},8216525,e=>{"use strict";var t=e.i(1381818),r=e.i(9722978),a=e.i(1053524),i=e.i(4004502),s=e.i(5468328),n=e.i(57106),o=e.i(1853611),l=e.i(7780974),c=e.i(100247),d=e.i(2940029),u=e.i(215852),m=e.i(4244280),p=e.i(134877),h=e.i(8042625);let g={deployments:[],pagination:{count:0,next:0,prev:0}};var f=e.i(472117),y=e.i(4597921);function b(e){let{label:n=!1,deployment:o,projectSlug:l,teamSlug:u,hint:m=!1,dotSize:p,labelStyle:h,labelClassName:g,labelWeight:E,...k}=e,S=(0,f.useChecksPrivateBetaFlag)(),C=(0,f.useCiChecksAndPoliciesFlagV2)(),N=S||C,A=(0,y.useServerFlag)("promotion-status-visible",!1);if(!o)return null;let{areChecksRunning:I,areDomainsAssigning:P,isBuildContainerProvisioning:R}=(0,c.getDeploymentStatus)(o),T=j(I,P,R,o,N),L=n||m?x(I,P,R,N,o,A):"";return(0,t.jsxs)(d.Attribute.Item,{"aria-label":T,"data-testid":(0,i.tid)("deployment","status"),...k,className:(0,r.clsx)("gap-1 h-5 items-center -ml-[3px]",k.className),children:[(0,t.jsx)(b.Dot,{dotColor:v(I,P,o,A,N),size:p}),n?(0,t.jsx)(s.Tooltip,{position:"left",text:T,children:(0,t.jsx)(b.Label,{className:g,style:{...h,...E&&{fontWeight:E}},children:L})}):null,m&&u&&l&&L.length<9&&o&&"meta"in o?(0,t.jsx)(a.Suspense,{fallback:null,children:(0,t.jsx)(w,{deployment:o,projectSlug:l,teamSlug:u})}):null]})}b.Label=function(e){let{children:a,className:i,style:s,...n}=e;return(0,t.jsx)("span",{className:(0,r.clsx)("text-label-14",i),style:s,...n,children:a})},b.Dot=function(e){let{dotColor:a,className:i,size:s,...n}=e;return(0,t.jsx)("span",{className:"size-4 flex items-center justify-center",children:(0,t.jsx)("span",{className:(0,r.clsx)("size-2.5 flex-none rounded-full",(e=>{switch(e){case"green":return"bg-geist-cyan";case"red":return"bg-geist-error";case"yellow":return"bg-geist-warning";case"gray":return"bg-[var(--accents-2)]";default:return""}})(a),i),style:s?{width:s,height:s,...n.style||{}}:n.style,...n})})};let v=(e,t,r,a,i)=>"checks"in r&&"pending"===(r.checks?.["deployment-alias"]).state&&"READY"===r.readyState&&!a&&i?"yellow":"checks"in r&&"failed"===(r.checks?.["deployment-alias"]).state&&"READY"===r.readyState&&!a&&i?"red":"BUILDING"===r.readyState?"yellow":r.aliasAssigned?"green":["INITIALIZING","QUEUED"].includes(r.readyState??"")?"gray":"failed"===r.checksConclusion||r.aliasError||"ERROR"===r.readyState?"red":e||t||["BUILDING","UPLOADING","DEPLOYING","DELETED"].includes(r.readyState??"")||void 0!==r.deleted?"yellow":"gray",x=(e,t,r,a,i,s)=>(0,c.getDeploymentStatusText)({enableCiChecksAndPolicies:a,areChecksRunning:e,areDomainsAssigning:t,isBuildContainerProvisioning:r,promotionRequirementsStatus:"checks"in i?i.checks?.["deployment-alias"]?.state:void 0,hasChecksConclusionFailed:"failed"===i.checksConclusion,isAliasAssigned:!!i.aliasAssigned,hasAliasError:!!i.aliasError,aliasErrorMessage:i.aliasError?.message??"",readyState:i.readyState??"INITIALIZING",isDeleted:void 0!==i.deleted,promotionStatusVisible:s}),j=(e,t,r,a,i)=>(0,c.getDeploymentStatusTitle)({enableCiChecksAndPolicies:i,areChecksRunning:e,areDomainsAssigning:t,isBuildContainerProvisioning:r,promotionRequirementsStatus:"checks"in a?a.checks?.["deployment-alias"]?.state:void 0,hasChecksConclusionFailed:"failed"===a.checksConclusion,isAliasAssigned:!!a.aliasAssigned,hasAliasError:!!a.aliasError,aliasErrorMessage:a.aliasError?.message??"",readyState:a.readyState??"INITIALIZING",isDeleted:void 0!==a.deleted});function w(e){let{teamSlug:r,projectSlug:i,deployment:s}=e,c=(0,a.useMemo)(()=>{if(!r||!i||!s.meta)return null;let e=Array.from(Object.entries(s.meta)).find(e=>{let[t]=e;return t.endsWith("CommitRef")});if(!e)return null;let[t,a]=e;if(!a)return null;let n=new URLSearchParams;return n.set("filterBranch",a),{deploymentsUrl:`/${r}/${i}/deployments?${n.toString()}`,metaProperty:t,name:a}},[r,i,s]),d=function(e,t,r,a){let{data:i}=function(e){let{limit:t,teamSlug:r,projectSlug:a,from:i,target:s,...n}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6";return(0,u.useIsomorphicSuspenseSWR)(`${(0,m.API_DEPLOYMENTS)(l)}${(0,h.encode)({projectId:a,limit:t,from:i||null,teamId:r,target:s,...n})}`,async(e,r)=>{if(!t)return g;try{return await r(e)}catch(e){if((0,p.isAPIErrorForbidden)(e)||(0,p.isAPIErrorNotFound)(e))return g;throw e}},o)}({teamSlug:e,projectSlug:t,limit:r&&a?1:0,meta:{[r]:a}});return i.deployments[0]}(r,i,c?.metaProperty||"",c?.name||"");if(!c)return null;let f=d?.uid===("id"in s?s.id:s.uid);return c.deploymentsUrl&&d?(0,t.jsx)(n.Link,{className:"text-gray-900 hover:underline",href:c.deploymentsUrl,onClick:()=>o.analytics.track(l.VercelActivityAction.DeploymentOverviewStatusClick,{isLatest:f},{send_to:{data_warehouse_legacy:!0}}),children:f?"Latest":"Stale"}):null}e.s(["DeploymentStatus",0,b],8216525)},2695633,e=>{"use strict";var t=e.i(1381818),r=e.i(9222994),a=e.i(5371931),i=e.i(3959677);function s(e,r){let a=r?.type==="github"||r?.type==="github-limited"?r:null,s=a?.org??e.githubCommitOrg,n=a?.repo??e.githubCommitRepo,o=e.githubCommitOrg!==e.githubOrg;return{logo:(0,t.jsx)(i.default,{}),branchUrl:`https://github.com/${s}/${n}/tree/${e.githubCommitRef||e.gitCommitRef}`,branchName:`${o?`${e.githubCommitOrg}:`:""}${e.githubCommitRef||e.gitCommitRef}`,commitUrl:`https://github.com/${s}/${n}/commit/${e.githubCommitSha||e.gitCommitSha}`,commitMessage:e.githubCommitMessage||e.gitCommitMessage||"",sha:e.githubCommitSha||e.gitCommitSha||"",gitDirty:e.gitDirty,scopeName:e.githubCommitOrg,repoName:e.githubCommitRepo,repoNamespace:e.githubCommitOrg,gitProvider:"github"}}function n(e,r){let i=r?.type==="gitlab"?r:null,s=i?.projectNamespace&&i?.projectName?`${i.projectNamespace}/${i.projectName}`:e.gitlabProjectPath;return{logo:(0,t.jsx)(a.default,{}),branchUrl:`https://gitlab.com/${s}/tree/${e.gitlabCommitRef}`,branchName:e.gitlabCommitRef||e.gitCommitRef,commitUrl:`https://gitlab.com/${s}/commit/${e.gitlabCommitSha}`,commitMessage:e.gitlabCommitMessage||e.gitCommitMessage||"",sha:e.gitlabCommitSha||e.gitCommitSha||"",gitDirty:e.gitDirty,scopeName:e.gitlabProjectPath,repoName:e.gitlabProjectName,repoNamespace:e.gitlabProjectNamespace,gitProvider:"gitlab"}}function o(e,a){let i=a?.type==="bitbucket"?a:null,s=i?.owner??e.bitbucketRepoOwner,n=i?.slug??e.bitbucketRepoSlug;return{logo:(0,t.jsx)(r.default,{}),branchUrl:`https://bitbucket.org/${s}/${n}/branch/${e.bitbucketCommitRef||e.gitCommitRef}`,branchName:e.bitbucketCommitRef||e.gitCommitRef,sha:e.bitbucketCommitSha||e.gitCommitSha||"",commitUrl:`https://bitbucket.org/${s}/${n}/commits/${e.bitbucketCommitSha}`,commitMessage:e.bitbucketCommitMessage||e.gitCommitMessage||"",gitDirty:e.gitDirty,scopeName:e.bitbucketRepoOwner,repoName:e.bitbucketRepoSlug,repoNamespace:e.bitbucketRepoOwner,gitProvider:"bitbucket"}}e.s(["GitLogo",0,function(e){let{gitType:s,...n}=e;switch(s){case"github":case"github-custom-host":return(0,t.jsx)(i.default,{...n});case"gitlab":return(0,t.jsx)(a.default,{...n});case"bitbucket":return(0,t.jsx)(r.default,{...n});default:return null}},"getBitbucketMetaInfo",0,o,"getGitMeta",0,function(e,t){if(e&&0!==Object.keys(e).length){if(e.githubDeployment)return s(e,t);if(e.gitlabDeployment)return n(e,t);if(e.bitbucketDeployment)return o(e,t)}},"getGithubMetaInfo",0,s,"getGitlabMetaInfo",0,n,"parseCommitMessage",0,function(e){let t=Array.from(e.matchAll(/#(?<number>\d+)(?!\w)/g));if(0===t.length)return{hasPR:!1,messageText:e};let r=t[t.length-1],a=Number.parseInt(r.groups?.number||r[0].substring(1),10),i=r.index,s=i+r[0].length,n=i>0&&"("===e[i-1],o=s<e.length&&")"===e[s],l=i,c=s,d=r[0];return n&&o&&(l=i-1,c=s+1,d=`(${r[0]})`),{hasPR:!0,messageText:e.substring(0,l)+"{{PR}}"+e.substring(c),prNumber:a,prText:d}}])},2686817,e=>{"use strict";e.s(["swrRequest",0,function(e){return e}])},5044530,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM10.5 5.5H5.5V10.5H10.5V5.5Z" fill="currentColor"/>');e.s(["StopCircle",0,t])},7254823,e=>{"use strict";var t=e.i(3267987),r=e.i(1381818),a=e.i(1053524),i=e.i(9722978),s=e.i(9689002),n=e.i(8735244),o=e.i(2331152),l=e.i(5044530),c=e.i(3339979),d=e.i(8866156),u=e.i(1853611),m=e.i(7780974);let p="find-bar-activated";function h(e){let{variant:c="header"}=e,{isOpen:h,toggle:g,open:f,prompt:y}=(0,d.useFind)(),b=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=e=>{let r=e.metaKey||e.ctrlKey;if("true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH&&r&&"k"===e.key.toLowerCase())e.preventDefault(),e.stopPropagation(),h||u.analytics.track(m.VercelActivityAction.FindModalOpened,{via:"keyboard"},{send_to:{data_warehouse_legacy:!0}}),g(b.current);else{let t;r||"f"!==e.key.toLowerCase()||(t=document.activeElement)&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName||"VERCEL-LIVE-FEEDBACK"===t.tagName||t.getAttribute("contenteditable"))||(window.dispatchEvent(new CustomEvent(p)),e.preventDefault(),e.stopPropagation(),h||u.analytics.track(m.VercelActivityAction.FindModalOpened,{via:"keyboard"},{send_to:{data_warehouse_legacy:!0}}),f(b.current))}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[f,g,h]),(0,r.jsxs)("button",{className:(0,i.clsx)("relative z-[calc(var(--header-zindex)_+_1)] cursor-pointer overflow-visible border-0 bg-transparent p-0 [webkit-tap-highlight-color:transparent] focus-visible:outline-focus focus-visible:outline-2 focus-visible:outline-offset-[3px] rounded-full md:rounded","header"===c&&"mr-px size-[30px] md:m-0 md:h-8 md:w-40 xl:w-48","sidebar"===c&&"h-9 w-full",!y.cancel&&"md:cursor-text",!h&&"pointer-events-auto",h&&"invisible"),onClick:()=>{y.cancel?y.cancel():(h||u.analytics.track(m.VercelActivityAction.FindModalOpened,{via:"pointer"},{send_to:{data_warehouse_legacy:!0}}),f(b.current))},ref:b,type:"button",children:[(0,r.jsx)("span",{className:"absolute inset-0 origin-top-left rounded-full border-none bg-background-100 outline outline-1 outline-gray-alpha-300 md:rounded","data-bg-layer":!0}),(0,r.jsxs)("span",{className:"relative flex flex-row items-center",children:[(0,r.jsx)("span",{className:(0,i.clsx)("grid place-content-center text-gray-1000 md:text-gray-900","header"===c&&"size-[30px] md:size-8","sidebar"===c&&"size-9 pl-1"),"data-search-icon":!0,children:"idle"===y.status?(0,r.jsx)(o.MagnifyingGlass,{}):(0,r.jsx)(n.Spinner,{})}),(0,r.jsx)("span",{className:(0,i.clsx)("text-copy-14 hidden flex-1 text-left text-gray-800 md:flex","sidebar"===c&&"pl-0.5"),"data-placeholder":!0,children:"idle"===y.status?"Find…":"thinking"===y.status?"Thinking…":"Navigating…"},y.status),(0,r.jsx)("span",{className:(0,i.clsx)("hidden place-content-center pointer-coarse:hidden md:grid","header"===c&&"size-8","sidebar"===c&&"size-9"),children:"idle"===y.status?(0,r.jsx)(s.Kbd,{className:"!m-0",small:!0,children:"F"}):(0,r.jsx)(l.StopCircle,{color:"gray-900"})})]})]})}function g(e){let{variant:t="header"}=e;return(0,r.jsxs)("button",{className:(0,i.clsx)("relative z-[calc(var(--header-zindex)_+_1)] cursor-pointer overflow-visible border-0 bg-transparent p-0 [webkit-tap-highlight-color:transparent]","header"===t&&"mr-px size-[30px] md:m-0 md:h-8 md:w-40 xl:w-48","sidebar"===t&&"h-9 w-full","md:cursor-text"),disabled:!0,type:"button",children:[(0,r.jsx)("span",{className:"absolute inset-0 origin-top-left rounded-full border-none bg-background-100 outline outline-1 outline-gray-alpha-300 md:rounded","data-bg-layer":!0}),(0,r.jsxs)("span",{className:"relative flex flex-row items-center",children:[(0,r.jsx)("span",{className:(0,i.clsx)("grid place-content-center text-gray-1000 md:text-gray-900","header"===t&&"size-[30px] md:size-8","sidebar"===t&&"size-9 pl-1"),"data-search-icon":!0,children:(0,r.jsx)(o.MagnifyingGlass,{})}),(0,r.jsx)("span",{className:(0,i.clsx)("text-copy-14 hidden flex-1 text-left text-gray-800 md:flex","sidebar"===t&&"pl-0.5"),"data-placeholder":!0,children:"Find…"}),(0,r.jsx)("span",{className:(0,i.clsx)("hidden place-content-center pointer-coarse:hidden md:grid","header"===t&&"size-8","sidebar"===t&&"size-9"),children:(0,r.jsx)(s.Kbd,{className:"!m-0",small:!0,children:"F"})})]})]})}function f(){let{prompt:e}=(0,d.useFind)();return"thinking"===e.status?(0,r.jsx)(c.Portal,{children:(0,r.jsx)("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[calc(var(--header-zindex)_+_1)] overflow-hidden",style:{height:32},children:(0,r.jsx)("div",{className:"absolute bottom-0 left-1/2 w-full -translate-x-1/2",style:{height:32},children:(0,r.jsx)("div",{className:"absolute inset-0 bg-background-100",style:{mask:"radial-gradient(ellipse at 50% -20%, #000 16%, transparent 72%)"},children:(0,r.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,r.jsx)("div",{className:"pointer-events-none absolute -inset-2.5 overflow-hidden text-white blur-2xl invert transition-opacity duration-500 dark:text-black dark:opacity-70 dark:invert-0",style:{transform:"translate3d(0, 0, 0)","--background-color":"var(--ds-background-200)","--duration":"23s","--gaps":"repeating-linear-gradient(110deg, var(--background-color) 0%, var(--background-color) 7%, transparent 10%, transparent 12%, var(--background-color) 19%)","--lights":"repeating-linear-gradient(110deg, var(--ds-teal-500) 10%, var(--ds-blue-700) 15%, var(--ds-purple-700) 20%, var(--ds-pink-700) 25%, var(--ds-amber-700) 30%)",backgroundImage:"var(--gaps), var(--lights)",backgroundSize:"120%, 200%",backgroundPosition:"50% 50%, 50% 50%"},children:(0,r.jsx)("div",{className:"absolute h-full w-[300%] mix-blend-difference motion-safe:animate-northern-lights",style:{backgroundImage:"var(--gaps), var(--lights)",backgroundSize:"100%, 100%",backgroundPosition:"50% 50%"}})})})})})})}):null}e.s(["EVENT_FIND_OPENED_VIA_F",0,p,"FindBar",0,function(e){let{variant:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{}),(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(g,{variant:t}),children:(0,r.jsx)(h,{variant:t})})]})}])},2938727,e=>{e.v(function(t,r){return e.b(t,"static/chunks/turbopack-worker-41958ed249bfad8c.js",["static/chunks/be2a21c6b64315e4.js","static/chunks/319a06c96fa229a1.js","static/chunks/turbopack-3cb00cd3d557a724.js"],r)})},4577993,e=>{"use strict";var t=e.i(3267987),r=e.i(1381818),a=e.i(1053524),i=e.i(4655443),s=e.i(6143247),n=e.i(57106),o=e.i(4394511),l=e.i(8866156),c=e.i(7420728),d=e.i(3181399),u=e.i(6439983),m=e.i(4585051),p=e.i(9689002),h=e.i(8735244),g=e.i(8216525),f=e.i(1438473),y=e.i(2331152),b=e.i(2259462),v=e.i(2712781),x=e.i(6942035),j=e.i(4240811),w=e.i(2720056),E=e.i(2695633),k=e.i(1903235);let S="find:recent-selections",C=()=>{try{let e=JSON.parse(localStorage.getItem(S)||"[]");if(!Array.isArray(e))throw Error("Recent selections must be an array");return e}catch(e){return[]}},N=e=>{let t=C();if(!e)return t;let r=[e,...t.filter(t=>t.href!==e.href)];return r.splice(10),localStorage.setItem(S,JSON.stringify(r)),r},A=e=>{if("dash"!==e.type)return!1;let t=e.page.type;return"account"===t||"team"===t||"project"===t},I=e=>"dash"!==e.type?null:{route:e.page.route,params:e.params,search:e.search,hash:e.hash,href:e.href,timestamp:Date.now()};var P=e.i(8042625);let R=(e,t)=>{let r=(0,k.detectScopeType)(e.route);if("unknown"===r)throw Error(`Unknown scope type for route: ${e.route}`);let a={type:r,search:"",hash:"",...e};return{type:"dash",score:0,page:a,params:t,href:(0,k.createHref)(a,t)}},T=e=>({type:"prompt",score:0,href:`prompt:${e}`,query:e}),L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;for(let r=t;r--;)e.sort(()=>Math.sign(Math.random()-.5));return e},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=new Set,a=[],i=0,s=0;for(let n=0;;++n){let o=n%e.length,l=e[o].shift();if(!l){if(++s===e.length)break;continue}let c=a[o];if(c||(c=[],a[o]=c),s=0,r.has(l.href)){--n;continue}if(r.add(l.href),c.push(l),++i===t)break}return a.flat()};var $=e.i(8213147),M=e.i(1853611),_=e.i(7780974),O=e.i(8977282);function F(n){let{variant:c="header"}=n,{open:d}=(0,$.useNavDocs)(),{close:m,refresh:g,refreshRef:f,memoryRef:b,fromRef:v,modalRef:j,prompt:w}=(0,l.useFind)(),E=(0,a.useMemo)(()=>{if("sidebar"===c)return"4px";let e=v.current;if(!e)return"32px";let t=Math.max(32,16+window.innerWidth-384-e.getBoundingClientRect().left);return`${Math.round(t)}px`},[v,c]),F=(()=>{let[e,t]=(0,a.useState)(C);return(0,a.useEffect)(()=>{let e=e=>{e.key===S&&(0,a.startTransition)(()=>{t(C())})};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),e})(),U=(0,a.useMemo)(()=>{var e;let t,r,a;return D((a=e=b.current,[(()=>{let e=C(),t=[];for(let r of e)t.push(R({route:r.route,search:r.search?(0,P.encode)(r.search):"",hash:r.hash||""},r.params));return t})(),(e=>{let t=[];e:for(let r of e.recentPreviews)for(let a of r.previews){if(e.params.project&&a.project!==e.params.project)continue;let r=R({route:"/[teamSlug]/[project]/[id]"},{team:e.params.team,project:a.project,id:a.deployment});if(6===t.push(r))break e}return t})(e),(e=>{let t=[];{let r=e.frecency.scopes.find(e=>!e.includes("/")),a="";e.params.team&&"/[teamSlug]"!==e.route?a=e.params.team:r&&(a=r);let i=e.frecency.scopes.find(e=>e.includes("/")),s="",n="";for(let r of(e.params.project?(s=e.params.project,n=e.params.team||a):i&&([n,s]=i.split("/")),e.frecency.routes)){let i;if(r in e.routes){if(r.startsWith("/[teamSlug]/[project]")){if(!s)continue;i={team:n,project:s}}else{if(!a)continue;i={team:a}}t.push(R({route:r},i))}}}if(e.params.project)"/[teamSlug]/[project]"!==e.route?t.push(R({route:"/[teamSlug]/[project]"},{team:e.params.team,project:e.params.project})):t.push(R({route:"/[teamSlug]/[project]/deployments"},{team:e.params.team,project:e.params.project}));else for(let[r]of Array.from(e.projectWeights.entries()).sort((e,t)=>t[1]-e[1])){let a=e.projects.get(r);if(!a||a.owner!==e.params.team)continue;let i=R({route:"/[teamSlug]/[project]"},{team:e.params.team,project:a.name});if(6===t.push(i))break}return e.params.team&&"/[teamSlug]"!==e.route&&t.push(R({route:"/[teamSlug]"},{team:e.params.team})),t})(e),(e=>{let t=[];for(let[r,a]of Object.entries(e.routes)){let i={},s=(0,k.detectScopeType)(r);if("project"===s){if(!e.params.project)continue;i.project=e.params.project,i.team=e.params.team}else if("team"===s){if(!e.params.team)continue;i.team=e.params.team}else if("account"!==s)continue;for(let[e,s]of(a.promote&&t.push(R({route:r},i)),Object.entries(a.search||{})))s.promote&&t.push(R({route:r,search:e},i));for(let[i,s]of Object.entries(a.hash||{}))s.promote&&t.push(R({route:r,hash:i},e.params))}return L(t)})(e),(t=e.routes[e.route],!(r=t?.docs)?[]:[{type:"docs",title:t.label,href:`/docs${r}`,score:0}]),(e=>{let t=[],{project:r,team:a}=e.params;if(a){let a=new Set,i=new Set;for(let t of(r&&(a.add(r),i.add(""),i.add(r)),e.recentPreviews))for(let e of t.previews)a.add(e.project),i.add(e.project);for(let[t,r]of e.projectWeights){if(r<1.1)continue;let s=e.projects.get(t)?.name;s&&(a.add(s),i.add(s))}for(let e of i)t.push(`${e} visitors this week`.trim(),`${e} bounce rate last week`.trim(),`failed requests${e?` on ${e}`:""}`,`finished builds${e?` for ${e}`:""}`,`How do I add another domain${e?` to ${e}`:""}`,`${e} production deployments`.trim(),`${e} visits this morning`.trim()),e&&t.push(`${e} usage`);r&&t.push("how do I set up oidc?","how do I turn on fluid compute?"),t.push("successful production deployments","failing production deployments","queued production deployments","what did we deploy today?","how do I add a domain?")}else t.push("What teams am I on?");return L(t).slice(0,1).map(T)})(e)].map(e=>e.filter(e=>e.href!==a.href))))},[b]),q=(0,a.useMemo)(()=>Array.from(new Set([...F.map(e=>e.href),...U.map(e=>e.href)])),[F,U]),[z,G]=(0,a.useState)([]),[V,X]=(0,a.useState)(0),K=(0,a.useRef)(V);K.current=V;let W=(0,a.useRef)(0),H=(0,a.useRef)(0),Y=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{let t,r=e.r(2938727)(Worker);Y.current=r;let a="";return r.addEventListener("message",e=>{let r=e.data;if(r.requestId<H.current)return;H.current=r.requestId;let{results:i,permutations:s}=r,n=i;if(a===r.query&&t){n=t.slice();let e=t.filter((e,t)=>t!==K.current&&!i.some(t=>t.href===e.href)),r=i.filter(e=>!t?.some(t=>t.href===e.href));for(let a=0;a<i.length;++a){let i=t[a];if(!i||e.includes(i)){let e=r.shift();if(!e)break;n[a]=e}}}a=r.query,t=n,G(n);let o=()=>{for(let e of s)(0,u.fetchParamPermutation)(e,b.current,g)};(0,k.normalizeParam)(String(r.query.at(-1))).length?Z.current=setTimeout(o,250):o()}),()=>{Y.current?.terminate(),Y.current=void 0}},[b,g]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&m()},t=!1,r=e=>{t=!j.current?.contains(e.target)},a=e=>{if(e.metaKey||e.ctrlKey||e.button)return;let r=e.target;if(!j.current?.contains(r)){t&&setTimeout(()=>m());return}r.closest("a[href],button")&&setTimeout(()=>m())};return window.addEventListener("keydown",e),window.addEventListener("pointerdown",r,!0),window.addEventListener("click",a,!0),()=>{window.removeEventListener("keydown",e),window.removeEventListener("pointerdown",r,!0),window.removeEventListener("click",a,!0)}},[m,j]);let Z=(0,a.useRef)(0),J=(0,a.useCallback)(e=>{let t=e.target.value;if(!t.trim()){f.current=void 0,H.current=++W.current,G([]);return}clearTimeout(Z.current),f.current=()=>{let e={requestId:++W.current,query:t,priorityHrefs:q,memory:b.current};Y.current?.postMessage(e)},g(),X(0)},[b,q,f,g]),Q=(0,o.useOnNavigate)(),ee=(0,i.useRouter)();(0,a.useEffect)(()=>{let e=!1,t=-1,r=()=>{e=!0,-1!==t&&(X(t),t=-1)},a=r=>{let a=r.target;if(!j.current?.contains(a))return;let i=a.closest("a[href],button");if(!i)return;let s=Number(i.dataset.index||-1);-1===s||V!==s&&(e?(X(s),e=!1):t=s)},i=e=>{let{key:t}=e;if("Enter"===t){e.preventDefault(),e.stopPropagation();let t=(z.length?z:U)[V];M.analytics.track(_.VercelActivityAction.FindModalResultSelected,{resultType:t.type,route:"dash"===t.type?t.page.route:void 0,via:"keyboard"},{send_to:{data_warehouse_legacy:!0}}),"prompt"===t.type?w.start(t.query):"docs"===t.type&&window.innerWidth>=960?d(t.href):("dash"===t.type&&t.params.team&&(0,O.setScope)(t.params.team),Q(t.href),ee.push(t.href),A(t)&&N(I(t))),m();return}let r=Number("ArrowDown"===t)-Number("ArrowUp"===t);r&&(e.preventDefault(),e.stopPropagation(),X(Math.max(0,Math.min(V+r,(z.length||U.length)-1))))};return window.addEventListener("pointermove",r),window.addEventListener("pointerover",a),window.addEventListener("keydown",i),()=>{window.removeEventListener("pointermove",r),window.removeEventListener("pointerover",a),window.removeEventListener("keydown",i)}},[ee,m,z,U,V,j,w,d,Q]),(0,a.useEffect)(()=>()=>{f.current=void 0},[f]),(0,a.useLayoutEffect)(()=>{if(window.innerWidth<=600||matchMedia("(prefers-reduced-motion: reduce)").matches)return;let e=v.current,t=j.current;if(e&&t){let r,a,i,s;(r=t.closest("[data-backdrop]"))&&r.animate([{backgroundColor:"transparent"},{}],{duration:300,easing:"ease"}),(()=>{let r=e.querySelector("[data-search-icon] > *"),a=t.querySelector("[data-search-icon] > *");if(!r||!a||a.getAnimations().length)return;let i=r.getBoundingClientRect(),s=a.getBoundingClientRect();a.animate([{transform:`translateX(${i.left-s.left}px)`},{transform:"none"}],{duration:150,easing:"ease"})})(),(()=>{let r=t.querySelector("[data-bg-layer]");if(!r||r.getAnimations().length)return;let a=e.getBoundingClientRect(),i=r.getBoundingClientRect();r.animate([{transform:`translate(${a.left-i.left}px,${a.top-i.top}px) scale(${a.width/i.width},${a.height/i.height})`},{transform:"none"}],{duration:150,easing:"ease"})})(),(()=>{let r=e.querySelector("[data-placeholder]"),a=t.querySelector("input");if(!r||!a||a.getAnimations().length)return;let i=r.getBoundingClientRect(),s=a.getBoundingClientRect();a.animate([{transform:`translateX(${i.left-s.left}px)`},{transform:"none"}],{duration:150,easing:"ease"})})(),(a=t.querySelector("label"))&&!a.getAnimations().length&&a.animate([{borderBottomColor:"transparent"},{}],{delay:50,duration:250,easing:"ease",fill:"backwards"}),(i=t.querySelector("[data-results-list]"))&&!i.getAnimations().length&&i.animate([{opacity:"0"},{}],{delay:50,duration:250,easing:"ease",fill:"backwards"}),(s=t.querySelector("kbd"))&&!s.getAnimations().length&&s.animate([{opacity:"0",transform:"translateX(-20%) scale(0.95)"},{}],{delay:50,duration:250,easing:"ease",fill:"backwards"})}},[v,j]);let et=!!(z.length&&b.current.pendingPermutations.size);return(0,r.jsx)("div",{className:(0,s.cn)("fixed inset-0 z-[10000]","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"bg-background-100 md:bg-background-100/60":"bg-background-100/60"),"data-backdrop":!0,children:(0,r.jsx)("div",{className:(0,s.cn)("fixed inset-0 flex flex-col items-center justify-start","header"===c&&"md:items-end md:pr-[var(--x-offset)] md:pt-2","sidebar"===c&&"md:items-start md:pl-[var(--x-offset)] md:pt-[calc(var(--navbar-height)-6px)]"),style:{"--x-offset":E},children:(0,r.jsx)("div",{className:(0,s.cn)("h-screen w-screen md:h-[384px] md:max-w-96 md:p-0","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"p-0":"p-2"),children:(0,r.jsxs)("div",{className:"relative flex flex-col",ref:j,children:[(0,r.jsx)("div",{className:(0,s.cn)("absolute -inset-px origin-top-left","true"!==t.default.env.NEXT_PUBLIC_TESTMODE&&"true"!==t.default.env.NEXT_PUBLIC_TESTSERVER&&"1"===t.default.env.NEXT_PUBLIC_DASH?"md:material-modal":"material-modal"),"data-bg-layer":!0}),(0,r.jsxs)("label",{className:(0,s.cn)("relative flex flex-row items-center border-0 border-b border-solid border-gray-300"),children:[(0,r.jsx)("div",{className:"grid size-12 place-content-center","data-search-icon":!0,children:(0,r.jsx)(y.MagnifyingGlass,{color:"gray-900"})}),(0,r.jsx)("input",{className:"text-copy-14 h-12 flex-1 border-0 border-none bg-transparent py-4 pl-0 pr-4 outline-none",onChange:J,placeholder:"Find…",ref:e=>{e?.focus()},width:"100%"}),(0,r.jsx)("button",{"aria-label":"Close",className:"grid size-12 cursor-pointer place-content-center border-none bg-transparent outline-none",onClick:()=>m(),type:"button",children:et?(0,r.jsx)(h.Spinner,{className:"animate-partial-fade-in"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Kbd,{className:"!ml-0 mr-1.5 pointer-coarse:hidden",small:!0,children:"Esc"}),(0,r.jsx)(x.Cross,{className:"pointer-fine:hidden",color:"gray-900"})]})})]}),(0,r.jsx)("div",{className:"relative h-[18.5rem] overflow-y-auto overflow-x-clip md:overflow-y-clip","data-results-list":!0,children:(0,r.jsxs)("div",{className:"flex flex-col p-1",children:[(z.length?z:U).map((e,t)=>(0,r.jsx)(B,{index:t,result:e,memory:b.current},e.href)),(0,r.jsx)("div",{className:"pointer-events-none absolute inset-x-1 top-1 h-12 rounded bg-gray-alpha-100",style:{transform:`translateY(${3*V}rem)`,transition:"transform 0.1s ease"}})]})})]})})})})}function B(e){let{index:t,memory:a,result:i}=e,{label:s,icon:n,prefix:o,avatar:l}=G(i,a),c=V(i,a);return(0,r.jsxs)(U,{className:"flex h-12 flex-none flex-row items-center rounded p-0 active:bg-gray-100",index:t,result:i,children:[(0,r.jsx)("span",{"aria-hidden":!0,className:"grid size-11 flex-none place-content-center",children:(0,r.jsxs)("div",{className:"relative",children:[o||(0,r.jsx)(n,{color:"gray-900"}),l?(0,r.jsx)("div",{className:"absolute left-full top-full -ml-2 -mt-2 grid size-auto place-content-center rounded-full bg-background-100 p-0.5",children:l}):null]})}),(0,r.jsxs)("div",{className:"flex flex-1 select-none flex-col overflow-hidden pr-2",children:[(0,r.jsx)("div",{className:"text-label-13 h-4 truncate",children:(0,r.jsx)("strong",{children:s})}),(0,r.jsx)("div",{className:"text-label-13 h-4 truncate text-gray-900",children:c})]})]})}function U(e){let{className:t,index:a,result:i,children:s}=e;return"prompt"===i.type?(0,r.jsx)(z,{className:t,index:a,result:i,children:s}):(0,r.jsx)(q,{className:t,index:a,result:i,children:s})}function q(e){let{className:t,index:i,result:s,children:o}=e,{open:l}=(0,$.useNavDocs)(),c="dash"===s.type?s.page.route:void 0,d=(0,a.useCallback)(e=>{M.analytics.track(_.VercelActivityAction.FindModalResultSelected,{resultType:s.type,route:c,via:"pointer"},{send_to:{data_warehouse_legacy:!0}}),A(s)&&N(I(s)),"dash"===s.type&&s.params.team&&(0,O.setScope)(s.params.team),"docs"!==s.type||e.button||e.ctrlKey||e.metaKey||window.innerWidth<960||(l(s.href),e.preventDefault())},[l,s,c]);return(0,r.jsx)(n.Link,{className:t,"data-index":i,href:s.href,onClick:d,tab:"docs"===s.type,children:o})}function z(e){let{className:t,index:i,result:n,children:o}=e,{prompt:c}=(0,l.useFind)(),d=(0,a.useCallback)(()=>{M.analytics.track(_.VercelActivityAction.FindModalResultSelected,{resultType:n.type,via:"pointer"},{send_to:{data_warehouse_legacy:!0}}),c.start(n.query)},[n.query,n.type,c]);return(0,r.jsx)("button",{className:(0,s.cn)("cursor-pointer border-none bg-transparent text-left outline-none",t),"data-index":i,onClick:d,type:"button",children:o})}let G=(e,t)=>{let a;switch(e.type){case"prompt":return{icon:v.Sparkles,label:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-gray-900",children:"“"}),e.query,(0,r.jsx)("span",{className:"text-gray-900",children:"”"})]})};case"docs":return{icon:b.File,label:e.title};case"dash":{let i,s=c.Routes[e.page.route],n=s;e.page.search&&(n=n.search[e.page.search]),e.page.hash&&(n=n.hash[e.page.hash]);let o="",l=e.params.team===t.params.team,u=e.params.project===t.params.project,p=l&&(u||!e.params.project),h=t.teams.get(e.params.team||"");h&&(a=e=>(0,r.jsx)(m.Avatar,{hash:h.avatar,size:e,teamId:h.id}));let y=e.params.project||"",b=t.slugs.get(e.params.team||"")?.get(y);if(b&&(a=t=>(0,r.jsx)(w.ProjectAvatar,{error:(0,r.jsx)(j.ChevronCircleRightFill,{size:Math.min(t,16),color:"gray-900"}),teamId:e.params.team,project:{id:b,name:y},size:t})),"/[teamSlug]"===e.page.route)h&&(o=h.name);else if("/[teamSlug]/[project]"===e.page.route)o=y;else if("deployment"===e.page.type){let s=e.params.id||"",n=t.deployments.get(s);if(n&&(a&&!p?(i=a(21),a=()=>(0,r.jsx)(g.DeploymentStatus,{deployment:n})):i=(0,r.jsx)(g.DeploymentStatus,{deployment:n})),"/[teamSlug]/[project]/[id]"===e.page.route){if(X(e,t))o="Production Deployment";else if(n){let e=(0,E.getGitMeta)(n.meta);e?.branchName&&(o=e.branchName)}}}return a&&(n?.label==="Overview"?(i=a(21),a=void 0):p&&(a=void 0)),{avatar:a?.(12),icon:d.RouteIcons[n?.label||""]??d.RouteIcons[s?.label||""]??d.RouteIcons[n?.group||""]??d.RouteIcons[s?.group||""]??(a?j.ChevronCircleRightFill:f.ArrowRight),prefix:i,label:o||n?.label||K(e.page.route)}}}},V=(e,t)=>(0,a.useMemo)(()=>{switch(e.type){case"prompt":return"Navigation Assistant";case"docs":return"Documentation"}let r=[],a=e.params.team||"",i=e.params.project||"",s=t.teams.get(a)?.name||"",n=t.slugs.get(a)?.get(i),o=n?t.projects.get(n):void 0,l=o?.name||i,d=s&&l&&s===l,u="/[teamSlug]"===e.page.route,m="/[teamSlug]/[project]"===e.page.route,p=a&&a!==t.params.team||i&&i!==t.params.project;if(u?r.push("Team"):m?r.push("Project"):i?d?r.push(s||"Team",l):r.push(l):a&&r.push(s||"Team"),"deployment"===e.page.type)if(X(e,t)||p);else if("/[teamSlug]/[project]/[id]"===e.page.route)r.splice(0),r.push("Latest Deployment");else{let a=t.deployments.get(e.params.id||""),i=(0,E.getGitMeta)(a?.meta);r.splice(0),i?.branchName?r.push(i.branchName):r.push("Deployment")}else e.params.id&&(r.splice(0),r.push("Deployment"));if(!p){let t=c.Routes[e.page.route];t&&((e.page.search||e.page.hash)&&r.push(t.label),t.group&&t.group!==t.label&&r.push(t.group))}return r.join(" / ")||""},[e,t]),X=(e,t)=>"dash"===e.type&&t.projectDeployments.get(e.params.project||"")?.id.replace("dpl_","")===e.params.id,K=e=>{let t=e.split("/").pop();return!t||t.startsWith("[")?"":t.replace(/(?:^|-)(?<word>.*?)(?=-|$)/g,(e,t)=>`${t.substring(0,1).toUpperCase()}${t.substring(1)}`)};e.s(["FindModal",0,function(e){let{variant:t}=e,{isOpen:a}=(0,l.useFind)();return a?(0,r.jsx)(F,{variant:t}):null}],4577993)},7622583,e=>{"use strict";var t=e.i(1053524),r=e.i(4655443),a=e.i(850302),i=e.i(9171423),s=e.i(8042625),n=e.i(5338940),o=e.i(5140444),l=e.i(2686817),c=e.i(6161994),d=e.i(2695633),u=e.i(8866156),m=e.i(7497619),p=e.i(1903235);e.i(3267987);class h{name;onInit;version;constructor({name:e,init:t,version:r}){this.name=e,this.onInit=t,this.version=r}open(){return"indexedDB"in globalThis?new Promise((e,t)=>{let r=globalThis.indexedDB.open(this.name,this.version);r.addEventListener("upgradeneeded",e=>{let t=e.target;this.onInit(t.result,e)}),r.addEventListener("error",e=>{let r=e.target;t(Error(r.error?.message))}),r.addEventListener("success",t=>{e(t.target.result)})}):Promise.reject("IndexedDB is not supported in this context")}async store(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readwrite";return(await this.open()).transaction(e,t).objectStore(e)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,a)=>{"object"==typeof t?this.getAll(e,{...t,limit:1}).then(e=>r(e[0])):this.store(e,"readonly").then(e=>{let i=e.get(t);i.addEventListener("success",e=>{r(e.target.result)}),i.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}getKey(e,t){return new Promise((r,a)=>{this.store(e,"readonly").then(e=>{let i=e.index(t.index).getKey(t.query);i.addEventListener("success",e=>{r(e.target.result)}),i.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}getAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,a)=>{(async()=>{let i,s=await this.store(e,"readonly");t.index&&(s=s.index(t.index)),(i=t.query?s.getAll(t.query,t.limit):s.getAll(null,t.limit)).addEventListener("success",e=>{r(e.target.result)}),i.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})()})}async iterateOver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=await this.store(e,"readonly");return r.index&&(a=a.index(r.index)),new Promise((e,i)=>{let s;(s=r.query?a.openCursor(r.query,r.direction):a.openCursor(null,r.direction)).addEventListener("success",async r=>{let a=r.target?.result;a&&!1!==await t(a.value)?a.continue():e()}),s.addEventListener("error",e=>{let t=e.target;i(Error(t.error?.message))})})}async take(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return await this.iterateOver(e,e=>r.push(e)!==t.limit,t),r}add(e,t){return new Promise((r,a)=>{this.store(e).then(e=>{let i=e.add(t);i.addEventListener("success",e=>{r(e.target.result)}),i.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}put(e,t){return new Promise((r,a)=>{this.store(e).then(e=>{let i=e.put(t);i.addEventListener("success",e=>{r(e.target.result)}),i.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}async set(e,t){let r=t[(await this.store(e)).keyPath];if(!r)throw Error(`Cannot set an object in store "${e}" without an id`);await this.get(e,r)?await this.put(e,t):await this.add(e,t)}delete(e,t){return new Promise((r,a)=>{this.store(e).then(e=>{let i=e.delete(t);i.addEventListener("success",()=>{r()}),i.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}clear(){return indexedDB.deleteDatabase(this.name)}}let g=(e,t)=>{f(e.createObjectStore(t.name,{keyPath:t.keyPath??"id"}),t.props)},f=(e,t)=>{for(let r of t)e.createIndex(r,r)},y=(e,t)=>{let r=e.reduce((e,t)=>e+t.visits,0),a=new Map;for(let e of t)a.set(e,e.updatedAt.valueOf());let i=e.map(e=>[e,Math.round(3*e.visits/r)]);return i.sort((e,t)=>t[1]-e[1]||(a.get(t[0])||0)-(a.get(e[0])||0)||t[0].visits-e[0].visits),i.map(e=>e[0])},b=async()=>{try{let e=new h({name:"vcf-frecency",version:1,init:(e,t)=>{t.oldVersion<1&&(g(e,{name:"Routes",props:["route","visits","updatedAt"],keyPath:"route"}),g(e,{name:"Scopes",props:["scope","team","project","visits","updatedAt"],keyPath:"scope"}))}}),[t,r,a,i]=await Promise.all([e.take("Routes",{index:"visits",direction:"prev",limit:10}),e.take("Routes",{index:"updatedAt",direction:"prev",limit:10}),e.take("Scopes",{index:"visits",direction:"prev",limit:10}),e.take("Scopes",{index:"updatedAt",direction:"prev",limit:10})]),s=y(t,r).map(e=>e.route),n=y(a,i).map(e=>e.scope);return{routes:s,scopes:n}}catch(e){return{routes:[],scopes:[]}}};var v=e.i(6190050),x=e.i(9611727);e.s(["SearchMemorySync",0,function(){let{memoryRef:e,refresh:h}=(0,u.useFind)(),g=(0,r.useParams)(),f=g?.teamSlug;f!==e.current.params.team&&(e.current.isLoadingProjects=!0),(0,t.useEffect)(()=>{try{indexedDB.deleteDatabase("vcf-cache"),indexedDB.deleteDatabase("vcf-frecency")}catch{}},[]),(0,t.useEffect)(()=>{if(!f)return;let t=e.current;t.mfe.clear(),(async()=>{t.isLoadingProjects=!0;let e=await (0,i.fetchApi)(`/api/v2/dashboard/projects${(0,s.encode)({favorites:1,teamId:f,limit:25})}`,{throwOnHTTPError:!1});if(t.isLoadingProjects=!1,e&&"object"==typeof e){for(let r of e.projects||[])(0,p.addProject)(t,r),t.projectWeights.set(r.id,1.01);for(let r of e.favorites||[])t.inferred.project||(t.inferred.project=r.name),(0,p.addProject)(t,r),t.projectWeights.set(r.id,1.1);t.inferred.project||(t.inferred.project=e.projects?.[0]?.name),h()}})()},[e,h,f]);let y=(0,t.useCallback)(async()=>{e.current.frecency=await b()},[e]);(0,t.useEffect)(()=>void y(),[y]);let j=(0,v.useRoute)(),w=(0,r.useSearchParams)();(0,t.useEffect)(()=>{if(!j||!g)return;e.current.route=j,e.current.href=`${location.pathname}${location.search}${location.hash}`;let t=m.RouteFilters[j];t&&w?e.current.filters=t.decode(Object.fromEntries(w.entries())):e.current.filters={},h()},[j,w,e,h,g]);let E=(0,n.useSortedTeams)();(0,t.useEffect)(()=>{for(let t of E){let r=e.current;r.teams.set(t.slug,t),r.teamIds.set(t.id,t.slug)}h()},[e,h,E]);let{user:k}=(0,o.useUser)(),S=function(e){let{data:r}=(0,a.default)(e?(0,l.swrRequest)(`/api/recents${(0,s.encode)({type:"preview",teamId:e,hydrateLimit:30,limit:7})}`):"",async e=>{if(!e)return[];let t=await (0,i.fetchApi)(e);return Array.isArray(t)?t.filter(e=>e.payload.items.length>0):[]},{revalidateIfStale:!1,revalidateOnFocus:!0});return(0,t.useMemo)(()=>r||[],[r])}(f);(0,t.useEffect)(()=>{if(!k)return;let t=e.current;t.recentPreviews.splice(0);let r=Date.now()-144e5;for(let e of S){let a=e.payload.items,i=a[0];if(!i)continue;let s=(0,d.getGitMeta)(i.deployment.meta),n={branch:s?.branchName||"",commit:s?.commitMessage||"",pr:i.prMetadata,previews:[]};for(let e of a){if(e!==i&&"CANCELED"===e.deployment.readyState||e.deployment.createdAt<r||e.deployment.creator.uid!==k.uid)continue;let a=e.deployment.id.replace("dpl_","");n.previews.push({project:e.project.name,deployment:a}),t.deployments.set(a,e.deployment),t.projects.has(e.project.name)||(0,p.addProject)(t,e.project);let s={projectId:e.project.id,project:e.project.name,branch:n.branch,deployment:a};t.activeBranches.set(`${e.project.id}_${n.branch}`,s)}n.previews.length>0&&t.recentPreviews.push(n)}},[e,h,k,S]);let{data:C}=(0,c.useMicrofrontendsGroups)();return(0,t.useEffect)(()=>{if(!C)return;let t=e.current,r=t.params.team;if(r){for(let{group:e,projects:a}of C.groups)for(let i of(t.mfe.set(e.name,a.map(e=>e.name)),a))t.projects.set(i.id,{owner:r,name:i.name});h()}},[e,h,C]),(0,t.useEffect)(()=>{if(!g)return;let t=e.current;t.params.team=g.teamSlug,t.params.project=g.project,t.params.id=g.id,x.PRESERVED_PARAMS.forEach(e=>{t.params[e]=g[e]}),t.inferred.team=g.teamSlug,g.project&&(t.inferred.project=g.project),h()},[e,g,h]),null}],7622583)}]);

//# debugId=3f0dbdcf-743e-2d76-3abb-eef310e8bf7f
//# sourceMappingURL=60c745d63977276f.js.map