;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="4a839403-095a-0dc0-b0a1-d6d9830190fe")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6855136,e=>{e.v({avatar:"group-module__Dj5yHG__avatar",group:"group-module__Dj5yHG__group",note:"group-module__Dj5yHG__note",noteText:"group-module__Dj5yHG__noteText"})},7609806,e=>{"use strict";var t=e.i(1381818),r=e.i(9722978),i=e.i(1053524),n=e.i(1344973),s=e.i(4585051),a=e.i(6855136),o=e.i(3025777),l=e.i(3896588),c=e.i(6683690);let d=(0,i.memo)(e=>{let{member:r,size:i,showIcon:n,iconBackground:a,lazy:d=!1}=e;return"teamId"in r?(0,t.jsx)(s.Avatar,{lazy:d,size:i,teamId:r.teamId,title:r.teamName},r.teamId):r.githubUser?(0,t.jsx)("span",{title:r.name,children:(0,t.jsx)(o.GitHubAvatar,{iconBackground:a,lazy:d,showIcon:n,size:i,username:r.username})},r.username):r.gitlabUser?(0,t.jsx)("span",{title:r.name,children:(0,t.jsx)(l.GitLabAvatar,{iconBackground:a,lazy:d,showIcon:n,size:i,url:r.url})},r.username):r.bitbucketUser?(0,t.jsx)("span",{title:r.name,children:(0,t.jsx)(c.BitbucketAvatar,{iconBackground:a,lazy:d,showIcon:n,size:i,url:r.url})},r.username):r.username?(0,t.jsx)(s.Avatar,{size:i,username:r.username},r.username):r.url?(0,t.jsx)(s.Avatar,{size:i,url:r.url},r.url):(0,t.jsx)(s.Avatar,{size:i,uid:r.uid},r.uid)});d.displayName="GroupAvatar";let u=e=>{let{members:i,limit:s=3,extra:o=0,size:l=24,showIcon:c=!1,iconBackground:u=!0,ariaHidden:p,lazy:m=!1}=e;0===s&&(s=i.length),s-=1;let g=i.slice(0,s),h=i.slice(s),f=h.length+o,x=f>9?"9+":`+${f}`,v=`${f} more avatars in this group`;return(0,t.jsxs)("div",{"aria-hidden":p,className:a.default.group,children:[g.map(e=>(0,t.jsx)("span",{className:a.default.avatar,children:"component"in e?e.component:(0,t.jsx)(d,{member:e,size:l,showIcon:c,iconBackground:u,lazy:m})},"teamId"in e?e.teamId:e.uid||e.username||e.url)),h.length||o>0?(0,t.jsxs)("span",{"aria-label":v,className:(0,r.clsx)(a.default.note,{[a.default.avatar||""]:h.length}),title:v,children:[h.length?"component"in h[0]?h[0].component:(0,t.jsx)(d,{member:h[0],size:l,showIcon:c,iconBackground:u,lazy:m}):null,f>1?(0,t.jsx)(n.Text,{as:"span",className:(0,r.clsx)(a.default.noteText,"dark-theme"),color:"gray-1000",size:10,weight:600,children:x}):null]}):null]})};u.displayName="AvatarGroup";let p=(0,i.memo)(u);e.s(["AvatarGroup",0,p])},9861498,e=>{e.v({button:"custom-module__vVV9Vq__button"})},7668531,e=>{"use strict";var t=e.i(1381818),r=e.i(9722978),i=e.i(9861498),n=e.i(7602961);e.s(["CustomButtonLink",0,e=>{let{normal:s,active:a,hover:o,className:l,...c}=e;return(0,t.jsx)(n.ButtonLink,{...c,className:(0,r.clsx)(i.default.button,l),"data-custom-button":"",style:{"--button-custom-fg":`${s?.foreground||""}`,"--button-custom-bg":`${s?.background||""}`,"--button-custom-border":`${s?.border||""}`,"--button-custom-fg-active":`${a?.foreground||""}`,"--button-custom-bg-active":`${a?.background||""}`,"--button-custom-border-active":`${a?.border||""}`,"--button-custom-fg-hover":`${o?.foreground||""}`,"--button-custom-bg-hover":`${o?.background||""}`,"--button-custom-border-hover":`${o?.border||""}`},children:c.children})}])},3584802,e=>{"use strict";var t;let r=(t=e=>`/${e.params.teamSlug}/~/integrations/checkout/${e.params.integrationSlug}`,e=>{let r=Object.entries(e.searchParams||{}).reduce((e,t)=>{let[r,i]=t;return null!=i&&(e[r]=i),e},{}),i=t(e),n=i.startsWith("/")?i.substring(1):i;if(Object.entries(r).length>0){let e=new URLSearchParams(r).toString();return`/${n}?${e}`}return`/${n}`});e.s(["getIntegrationCheckoutUrl",0,function(e){return r({...e,searchParams:{...e.searchParams,nonce:Date.now().toString(36)}})}],3584802)},8711152,e=>{"use strict";var t=e.i(1053524);e.s(["getConfigurationStatusByIntegrationId",0,function(e,t){if(!e)return{isLoading:!0};let r=e.find(e=>e.integrationId===t);return r?{isInstalled:!0,configuration:r,isLoading:!1}:{isInstalled:!1,isLoading:!1}},"getConfigurationStatusByTeamId",0,function(e,t){if(!e||!t)return{isLoading:!0};let r=e.get(t);return r?{isInstalled:!0,configuration:r,isLoading:!1}:{isInstalled:!1,isLoading:!1}},"useConfigurationStatus",0,function(e){let{initialConfigurationStatus:r}=e,[i,n]=(0,t.useState)(r);return(i.isLoading||!i.isInstalled)&&r!==i&&n(r),{configurationStatus:i,onConfigurationInstalled:(e,t)=>n({isInstalled:!0,configuration:e,billingPlan:t,isLoading:!1})}}])},9623675,4217693,4714999,7811023,7012263,7527320,e=>{"use strict";var t=e.i(1381818),r=e.i(6835270),i=e.i(6891161);function n(e){return"modal"===(0,r.useInstallMarketplaceProductDisplayMode)()?(0,t.jsx)(i.Modal.Actions,{children:e.children}):(0,t.jsx)("footer",{className:"bg-background-200 sticky bottom-0 flex shrink-0 justify-between gap-4 border-t border-[var(--ds-gray-alpha-400)] py-4",children:e.children})}function s(e){return"modal"===(0,r.useInstallMarketplaceProductDisplayMode)()?(0,t.jsx)(i.Modal.Body,{children:e.children}):(0,t.jsx)("footer",{children:e.children})}e.s(["CheckoutActions",0,n],4217693),e.s(["CheckoutBody",0,s],4714999);var a=e.i(9722978);function o(e){let i,n=(0,r.useInstallMarketplaceProductDisplayMode)();i="inline"===n?"bg-transparent":"default"!==e.variant?"bg-[var(--geist-background)]":"bg-background-200";let s="py-[var(--geist-gap)] px-[var(--modal-padding)]";return"modal"===n&&("no-padding"===e.variant?s="p-0":"no-padding-no-bottom"===e.variant&&(s="mb-0 p-0")),(0,t.jsx)("div",{className:(0,a.clsx)(`
          mx-[calc(-1*var(--modal-padding))]
          mb-[calc(-1*var(--modal-padding))]
          border-x-0
          border-y
          border-solid
          border-[var(--accents-2)]
          last:border-b-0
         `,s,i),children:e.children})}function l(e){return"modal"===(0,r.useInstallMarketplaceProductDisplayMode)()?(0,t.jsx)(i.Modal.Subtitle,{children:e.children}):(0,t.jsx)("div",{className:"text-copy-16",children:e.children})}function c(e){return"modal"===(0,r.useInstallMarketplaceProductDisplayMode)()?(0,t.jsx)(i.Modal.Title,{center:e.center,children:e.children}):(0,t.jsx)("h3",{className:"text-copy-24 text-left",children:e.children})}e.s(["CheckoutContent",0,o],7811023),e.s(["CheckoutSubtitle",0,l],7012263),e.s(["CheckoutTitle",0,c],7527320);var d=e.i(5074599),u=e.i(9544652),p=e.i(5338940),m=e.i(4585051),g=e.i(6143247),h=e.i(1053524);function f(e){let{configuration:r}=e;return(0,t.jsx)(h.Suspense,{fallback:(0,t.jsx)(v,{}),children:(0,t.jsx)(x,{configuration:r})})}function x(e){let{configuration:i}=e,n=(0,r.useInstallMarketplaceProductDisplayMode)(),{team:s}=(0,p.useTeam)();return s?(0,t.jsxs)("div",{className:(0,g.cn)("flex items-center gap-1 ",{"justify-center":"modal"===n}),children:[(0,t.jsx)("p",{className:"text-copy-14 text-[var(--ds-gray-900)]",children:"Installing into"}),(0,t.jsx)(m.Avatar,{teamId:s.id,size:16,hash:s.avatar}),(0,t.jsx)("p",{className:"text-copy-14 font-medium",children:s.name}),i?.externalId?(0,t.jsxs)("p",{className:"text-copy-14 font-medium",children:["(",i?.externalId,")"]}):null]}):(0,t.jsx)(v,{})}function v(){let e=(0,r.useInstallMarketplaceProductDisplayMode)();return(0,t.jsx)("div",{className:(0,g.cn)("flex items-center gap-1 ",{"justify-center":"modal"===e}),children:(0,t.jsx)("p",{className:"text-copy-14 text-[var(--ds-gray-900)]",children:"Installing into ..."})})}e.s(["ResourceModalWrapper",0,function(e){let{cancelLabel:r,children:a,integration:p,hideCancel:m,SecondaryButton:g,onBack:h,SuccessAction:x,product:v,from:y,checkoutContentVariant:j,configuration:b}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(f,{configuration:b}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(c,{center:!0,children:(0,d.resourceModalTitle)({product:v,integration:p,from:y})}),(0,t.jsx)(l,{children:(0,d.resourceModalSubtitle)({product:v,integration:p,from:y})})]})]}),(0,t.jsx)(o,{variant:j,children:a})]})}),(0,t.jsxs)(n,{children:[g||!m&&(0,t.jsx)(u.DisabledContext.Provider,{value:!1,children:(0,t.jsx)(i.Modal.Action,{onClick:h,type:"secondary",children:r})})||(0,t.jsx)("div",{}),x]})]})}],9623675)},5746918,e=>{"use strict";var t=e.i(850302),r=e.i(277234),i=e.i(4244280);e.s(["useLastInstalledUserConfigurationsByIntegration",0,function(e,n){return(0,t.default)(`${i.API_INTEGRATION_CONTROLLER}/integration/${encodeURIComponent(e)}/installed?source=${n}`,async e=>{let t=await (0,r.fetchAPI)(e),i=new Map;return t.forEach(e=>{e.installationType!==n&&(e.installationType||"external"!==n)||i.set(e.ownerId,e)}),i})}])},7093637,e=>{"use strict";e.i(9623675),e.s([])},5561425,e=>{"use strict";var t=e.i(1381818),r=e.i(4585051),i=e.i(3306538),n=e.i(6881349),s=e.i(6891161),a=e.i(1053524),o=e.i(5338940),l=e.i(1853611),c=e.i(5746918);e.i(7093637);var d=e.i(9623675),u=e.i(8711152),p=e.i(3758860);function m(e){let{account:s,integrationId:l,onChange:d,type:p,excludeTeamId:m}=e,{teams:g}=(0,o.useTeam)(),{data:h}=(0,c.useLastInstalledUserConfigurationsByIntegration)(l,p),f=(0,a.useMemo)(()=>g?g.filter(e=>!m||e.id!==m).map(e=>{let t=!!h&&!!h.get(e.id);return{...e,hasConfiguration:t}}).sort((e,t)=>e.hasConfiguration&&!t.hasConfiguration?1:!e.hasConfiguration&&t.hasConfiguration?-1:0):[],[g,h,m]),x=(0,a.useMemo)(()=>s?`${s.name} (${s.slug})`:void 0,[s]);return(0,t.jsxs)(n.Combobox,{noInputPrefix:!0,noTextSelection:!0,onChange:e=>{let t=f.find(t=>t.id===e);e&&t&&d(t,(0,u.getConfigurationStatusByTeamId)(h,t.id))},placeholder:"Select a team",value:x,children:[(0,t.jsx)(n.Combobox.Input,{}),(0,t.jsx)(n.Combobox.List,{children:f.map(e=>{var s;return(0,t.jsx)(n.Combobox.Option,{label:(s=e,`${s.name} ${s.slug}`),value:e.id,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-1.5 flex-initial",children:[(0,t.jsx)(r.Avatar,{hash:e.avatar,size:20}),(0,t.jsx)("p",{className:"text-copy-14 line-clamp-1",style:{wordBreak:"break-all"},children:`${e.name} (${e.slug})`}),e.hasConfiguration?(0,t.jsx)(i.Badge,{children:"Installed"}):null]})},e.id)})})]})}e.s(["MarketplaceTeamSelectModalStep",0,function(e){let{integration:r,onBack:i,onTeamSelected:n,product:o}=e,[c,u]=(0,a.useState)(null),[g,h]=(0,a.useState)();return(0,t.jsx)(d.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(s.Modal.Action,{disabled:!c,onClick:()=>{c&&l.analytics.track("marketplace_team_selection_continued",{integration_id:r.id,integration_slug:r.slug,team_id:c.id,team_slug:c.slug},{send_to:{product_analytics:!0}}),n(c,g)},"data-track-intent":"continue_team_selection","data-track-context":"marketplace_team_select",children:"Continue"}),cancelLabel:"Cancel",checkoutContentVariant:"default",from:"team-selection",integration:r,onBack:()=>{let e=new URL(window.location.href);e.searchParams.delete("teamSlug"),window.history.pushState(null,"",e.toString()),i()},product:o?(0,p.getProductWithSupportedProtocols)(o):{name:"",supportedProtocols:(0,p.getSupportedProtocols)(r.products[0]),slug:r.products[0].slug,id:r.products[0].id},children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Select a Vercel team to install the integration to:"}),(0,t.jsx)(m,{account:c??void 0,integrationId:r.id,onChange:(e,t)=>{let i=!!t&&"isInstalled"in t&&t.isInstalled;l.analytics.track("marketplace_team_dropdown_selected",{integration_id:r.id,integration_slug:r.slug,team_id:e.id,team_slug:e.slug,has_existing_configuration:i},{send_to:{product_analytics:!0}}),u(e),h(t);let n=new URL(window.location.href);n.searchParams.set("teamSlug",e.slug),window.history.pushState(null,"",n.toString())},type:"marketplace"})]})})},"TeamSelect",0,m])},4367648,e=>{e.v({checkbox:"choicebox-group-module__kLcSnq__checkbox",checked:"choicebox-group-module__kLcSnq__checked",choicebox:"choicebox-group-module__kLcSnq__choicebox","choicebox-group":"choicebox-group-module__kLcSnq__choicebox-group",content:"choicebox-group-module__kLcSnq__content",description:"choicebox-group-module__kLcSnq__description",disabled:"choicebox-group-module__kLcSnq__disabled",icon:"choicebox-group-module__kLcSnq__icon",input:"choicebox-group-module__kLcSnq__input",option:"choicebox-group-module__kLcSnq__option",radio:"choicebox-group-module__kLcSnq__radio",title:"choicebox-group-module__kLcSnq__title"})},9957872,e=>{"use strict";var t=e.i(1381818),r=e.i(1053524),i=e.i(9722978),n=e.i(9508212),s=e.i(9544652),a=e.i(692265),o=e.i(3671642),l=e.i(9992076),c=e.i(3869281),d=e.i(4367648);let u=(0,r.createContext)({disabled:!1,name:"",required:!1,selectedValue:"",setSelected:()=>{},type:"radio"});function p(e){let r,{children:l,className:c,direction:p="column",disabled:m,gap:g=3,label:h,name:f,onChange:x,required:v,showLabel:y,type:j,value:b}=e,N=(0,s.useDisabled)()||m,_=(0,a.useId)("choicebox-"),S=(0,a.useId)("choicebox-name-");return r={name:f??S,disabled:N,required:v??!1,type:j,setSelected:x,selectedValue:b},(0,t.jsx)(u.Provider,{value:r,children:(0,t.jsxs)("div",{"aria-label":y?void 0:h,"aria-labelledby":y?_:void 0,"aria-multiselectable":"checkbox"===j,"aria-required":v??!1,className:(0,i.clsx)(d.default["choicebox-group"],c),role:"radio"===j?"radiogroup":"group",children:[y?(0,t.jsx)(o.Label,{bypassCasing:!0,id:_,value:h}):null,(0,t.jsx)(n.Stack,{as:"ul",direction:p,gap:g,justify:"stretch",children:l})]})})}u.displayName="ChoiceboxContext",p.Item=function(e){let{children:s,className:a,contentClassName:o,description:p=null,disabled:m,title:g,value:h,"data-testid":f,optionClassName:x,titleDescriptionClassName:v,...y}=e,{type:j,selectedValue:b,setSelected:N,disabled:_,name:S}=(0,r.useContext)(u),w="radio"===j?b===h:b.includes(h),C=_||m,I=(0,r.useCallback)(e=>{"radio"===j?N(h):!e.target.checked&&b.includes(h)?N(b.filter(e=>e!==h)):e.target.checked&&N([...b,h])},[b,N,j,h]);return(0,t.jsxs)(n.Stack,{"aria-selected":w,as:"label",className:(0,i.clsx)(d.default.choicebox,C&&d.default.disabled,w&&d.default.checked,a),"data-testid":f,flex:1,children:[(0,t.jsxs)(n.Stack,{align:"center",className:(0,i.clsx)(d.default.option,x),direction:"row",gap:6,justify:"space-between",children:[(0,t.jsxs)(n.Stack,{as:"span",gap:1,className:v,children:[(0,t.jsx)("span",{className:d.default.title,children:g}),(0,t.jsx)("span",{className:d.default.description,children:p})]}),"radio"===j?(0,t.jsx)(l.Radio,{checked:w,className:d.default.radio,disabled:C,iconClassName:d.default.icon,inputClassName:d.default.input,name:S,onChange:I,value:h,...y}):(0,t.jsx)(c.Checkbox,{checked:w,className:d.default.checkbox,disabled:C,iconClassName:d.default.icon,name:S,onChange:I,value:h,...y})]}),w?(0,t.jsx)("span",{className:(0,i.clsx)(d.default.content,o),children:s}):null]})},e.s(["ChoiceboxGroup",0,p])},2470467,e=>{e.v({description:"description-module__J9KQsG__description",ellipsis:"description-module__J9KQsG__ellipsis",icon:"description-module__J9KQsG__icon",right:"description-module__J9KQsG__right"})},4245131,e=>{"use strict";var t=e.i(1381818),r=e.i(1053524),i=e.i(9722978),n=e.i(2988836),s=e.i(5468328),a=e.i(2470467);let o=(0,r.memo)(function(e){let{title:r,content:o,tooltip:l,right:c,className:d,ellipsis:u,"data-testid":p,tooltipProps:m}=e;return(0,t.jsxs)("dl",{className:(0,i.clsx)(a.default.description,{[String(a.default.right)]:c,[String(a.default.ellipsis)]:u},d),"data-testid":p,"data-version":"v1",children:[(0,t.jsxs)("dt",{"data-geist-description-title":"",children:[r,l?(0,t.jsx)("span",{className:a.default.icon,children:(0,t.jsx)(s.Tooltip,{text:l,...m,children:(0,t.jsx)(n.InformationFillSmall,{size:14})})}):null]}),(0,t.jsx)("dd",{"data-geist-description-content":"",children:o})]})});e.s(["Description",0,o])},923772,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 2.75C6.75 2.05964 7.30964 1.5 8 1.5C8.69036 1.5 9.25 2.05964 9.25 2.75V3H6.75V2.75ZM5.25 3V2.75C5.25 1.23122 6.48122 0 8 0C9.51878 0 10.75 1.23122 10.75 2.75V3H12.9201H14.25H15V4.5H14.25H13.8846L13.1776 13.6917C13.0774 14.9942 11.9913 16 10.6849 16H5.31508C4.00874 16 2.92263 14.9942 2.82244 13.6917L2.11538 4.5H1.75H1V3H1.75H3.07988H5.25ZM4.31802 13.5767L3.61982 4.5H12.3802L11.682 13.5767C11.6419 14.0977 11.2075 14.5 10.6849 14.5H5.31508C4.79254 14.5 4.3581 14.0977 4.31802 13.5767Z" fill="currentColor"/>');e.s(["Trash",0,t])},6064230,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.53035 12.7804L1.00002 13.3108L-0.0606384 12.2501L0.469692 11.7198L4.18936 8.00011L0.469692 4.28044L-0.0606384 3.75011L1.00002 2.68945L1.53035 3.21978L5.60358 7.29301C5.9941 7.68353 5.9941 8.3167 5.60357 8.70722L1.53035 12.7804ZM8.75002 12.5001H8.00002V14.0001H8.75002H15.25H16V12.5001H15.25H8.75002Z" fill="currentColor" />');e.s(["Terminal",0,t])},1201436,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.75 0.5C1.7835 0.5 1 1.2835 1 2.25V9.75C1 10.7165 1.7835 11.5 2.75 11.5H3.75H4.5V10H3.75H2.75C2.61193 10 2.5 9.88807 2.5 9.75V2.25C2.5 2.11193 2.61193 2 2.75 2H8.25C8.38807 2 8.5 2.11193 8.5 2.25V3H10V2.25C10 1.2835 9.2165 0.5 8.25 0.5H2.75ZM7.75 4.5C6.7835 4.5 6 5.2835 6 6.25V13.75C6 14.7165 6.7835 15.5 7.75 15.5H13.25C14.2165 15.5 15 14.7165 15 13.75V6.25C15 5.2835 14.2165 4.5 13.25 4.5H7.75ZM7.5 6.25C7.5 6.11193 7.61193 6 7.75 6H13.25C13.3881 6 13.5 6.11193 13.5 6.25V13.75C13.5 13.8881 13.3881 14 13.25 14H7.75C7.61193 14 7.5 13.8881 7.5 13.75V6.25Z" fill="currentColor"/>');e.s(["Copy",0,t])},7602085,e=>{e.v({noBorder:"tabs-module__Da1ZWG__noBorder",tab:"tabs-module__Da1ZWG__tab",tabIcon:"tabs-module__Da1ZWG__tabIcon",tabs:"tabs-module__Da1ZWG__tabs"})},4237893,e=>{"use strict";var t=e.i(1381818),r=e.i(9722978),i=e.i(1053524),n=e.i(5468328),s=e.i(7602085);function a(e){let{tooltip:a,icon:o,title:l,isActive:c,showFocusRing:d,setShowFocusRing:u,onKeyDown:p,onMouseDown:m,disabled:g,tabClassName:h,...f}=e,x=(0,i.useId)();return(0,t.jsx)(n.Tooltip,{disableTriggers:void 0===a,text:a,children:(0,t.jsxs)("button",{"aria-controls":x,"aria-selected":c,className:(0,r.clsx)(s.default.tab,h),"data-geist-tab":"","data-show-focus-ring":d,disabled:g,id:x,onBlur:()=>{u?.(!0)},onFocus:()=>{m?.()},onKeyDown:p,role:"tab",tabIndex:c?0:-1,type:"button",...f,children:[o?(0,t.jsx)("div",{className:s.default.tabIcon,children:o}):null,l]})})}function o(e,t){if(!e)return;let r=e.querySelector(`[data-index="${t}"]`);r?.focus({preventScroll:!0})}e.s(["Tabs",0,function(e){let{tabs:n,selected:l,setSelected:c,variant:d,disabled:u,border:p=!0,style:m,tabClassName:g,className:h,...f}=e,[x,v]=(0,i.useState)(!0),y=(0,i.useRef)(null),[j,b]=(0,i.useState)(n[0]?.value),N=void 0!==l,_=N?l:j;function S(e){N||b(e.value),c?.(e.value)}function w(e){if(!u){if("ArrowLeft"===e.key){let e=n.findIndex(e=>e.value===_)-1,t=n[e];if(t?.disabled)return;e>=0&&t&&(o(y.current,e),S(t),v(!1))}else if("ArrowRight"===e.key){let e=n.findIndex(e=>e.value===_)+1,t=n[e];if(t?.disabled)return;e<n.length&&t&&(o(y.current,e),S(t),v(!1))}}}return(0,t.jsx)("div",{"aria-orientation":"horizontal",className:(0,r.clsx)("geist-no-scrollbar",s.default.tabs,h,{[s.default.noBorder]:!p}),"data-geist-tabs":"","data-variant":d,"data-version":"v1",ref:y,role:"tablist",style:m,...f,children:n.map((e,r)=>(0,t.jsx)(a,{...e,disabled:e.disabled||u,isActive:e.value===_,onKeyDown:w,onMouseDown:()=>S(e),setShowFocusRing:v,showFocusRing:x,tabClassName:g},r))})}])},3907972,e=>{e.v({button:"custom-module__xWgFhW__button"})},3225905,e=>{"use strict";var t=e.i(1381818),r=e.i(9722978),i=e.i(2504781),n=e.i(3907972);e.s(["CustomButton",0,e=>{let{normal:s,active:a,hover:o,className:l,...c}=e;return(0,t.jsx)(i.Button,{...c,className:(0,r.clsx)(n.default.button,l),"data-custom-button":"",style:{"--button-custom-fg":`${s?.foreground||""}`,"--button-custom-bg":`${s?.background||""}`,"--button-custom-border":`${s?.border||""}`,"--button-custom-fg-active":`${a?.foreground||""}`,"--button-custom-bg-active":`${a?.background||""}`,"--button-custom-border-active":`${a?.border||""}`,"--button-custom-fg-hover":`${o?.foreground||""}`,"--button-custom-bg-hover":`${o?.background||""}`,"--button-custom-border-hover":`${o?.border||""}`},children:c.children})}])},3124040,e=>{e.v({copyButtonIcon:"copy-button-module__8qN89q__copyButtonIcon",fadeIn:"copy-button-module__8qN89q__fadeIn",fadeOut:"copy-button-module__8qN89q__fadeOut",hidden:"copy-button-module__8qN89q__hidden",icon:"copy-button-module__8qN89q__icon",initial:"copy-button-module__8qN89q__initial",visible:"copy-button-module__8qN89q__visible"})},8225664,e=>{"use strict";var t=e.i(1381818),r=e.i(1053524),i=e.i(9722978),n=e.i(4004502),s=e.i(6318858),a=e.i(1201436),o=e.i(2504781),l=e.i(3225905),c=e.i(455575),d=e.i(3124040);e.s(["CopyButton",0,e=>{let{className:u,textToCopy:p,onClick:m,label:g,title:h,type:f="secondary",variant:x,normal:v,hover:y,active:j,shape:b="square",size:N,icon:_,...S}=e,w=(0,c.useToasts)(),[C,I]=(0,r.useState)(!1),[k,T]=(0,r.useState)(!0),D=(0,r.useRef)(null),E=r.default.useCallback(e=>{T(!1),D.current&&clearTimeout(D.current),navigator.clipboard.writeText(p).then(()=>{I(!0),D.current=setTimeout(()=>{I(!1)},1e3)}).catch(()=>w.error("Failed to copy to clipboard")).finally(()=>m?.(e))},[p,w,m]),$=!!(v||y||j),A=(0,t.jsxs)("div",{style:{position:"relative",height:16,width:16},children:[(0,t.jsx)("div",{className:(0,i.clsx)(d.default.icon,{[String(d.default.initial)]:k,[String(d.default.visible)]:!k&&C,[String(d.default.hidden)]:!k&&!C}),children:(0,t.jsx)(s.Check,{})}),(0,t.jsx)("div",{className:(0,i.clsx)(d.default.icon,{[String(d.default.visible)]:!k&&!C,[String(d.default.hidden)]:!k&&C}),children:_||(0,t.jsx)(a.Copy,{})})]});return $?(0,t.jsx)(l.CustomButton,{active:j,"aria-label":g,className:(0,i.clsx)(u),"data-testid":(0,n.tid)("copy","button"),hover:y,normal:v,onClick:E,shape:b,size:N,svgOnly:!0,title:h,typeName:"button",...S,children:A}):(0,t.jsxs)(o.Button,{"aria-label":g,className:(0,i.clsx)(u),"data-testid":(0,n.tid)("copy","button"),onClick:E,shape:b,size:N,svgOnly:!0,title:h,type:f,typeName:"button",variant:x,...S,children:[C?(0,t.jsx)("div",{"aria-live":"assertive",className:"geist-sr-only",role:"status",children:"Copied!"}):null,A]})}])},9125947,e=>{"use strict";e.s(["default",0,function(e){return new Promise(t=>{setTimeout(t,e)})}])},4363398,e=>{"use strict";let t=["read-write:log-drain","read-write:otel-endpoint","read:billing"],r=["read-write:log-drain"];e.s(["useIntegrationControl",0,function(e){let{account:i,integration:n,configuration:s}=e,a=i&&"slug"in i?i:void 0;if(!a)return null;let o=a.billing?.plan??"hobby",l=!!r.some(e=>(s??n)?.scopes.includes(e)),{available:c,unavailable:d}=function(e){let{scopes:t,billingPlan:r,isTrial:i}=e,n=[],s=[];return t?.forEach(e=>{let t="hobby"===r;switch(e){case"read-write:otel-endpoint":case"read:billing":t?s.push(e):n.push(e);break;case"read-write:log-drain":t||"pro"===r&&i?s.push(e):n.push(e);break;default:n.push(e)}}),{available:n,unavailable:s}}({scopes:s?.scopes??n?.scopes,billingPlan:o,isTrial:a.billing?.status==="trialing"}),u=0===d.length;return{hasPaidAPIScope:l,availableScopes:c,unavailableScopes:d,canInstallIntegration:u,paidScopes:r,proScopes:t}}])},4006546,e=>{"use strict";var t=e.i(1381818),r=e.i(5468328);function i(e){let{entities:r}=e;return 1===r.length?(0,t.jsx)("p",{className:"text-copy-14",children:r[0]},r[0]):(0,t.jsx)(t.Fragment,{children:r.map((e,i)=>(0,t.jsx)("p",{className:"text-copy-14",children:i===r.length-1?`and ${e}`:e},e))})}e.s(["WebhookEventList",0,function(e){if(!e.integration.webhook)return null;let n=function(e){if(!e.webhook)return[];let t=[];return e.webhook.events.some(e=>e.startsWith("deployment.")||e.startsWith("deployment-")&&!e.startsWith("deployment-check"))&&t.push("Deployments"),e.webhook.events.some(e=>e.startsWith("deployment-check")||e.startsWith("deployment.check-"))&&t.push("Deployment Checks"),e.webhook.events.some(e=>e.startsWith("project"))&&t.push("Projects"),e.webhook.events.some(e=>e.startsWith("domains"))&&t.push("Domains"),t}(e.integration);return 0===n.length?null:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["Additionally, it also gets notified through"," ",(0,t.jsx)(r.Tooltip,{text:(0,t.jsxs)("p",{className:"text-copy-14",children:["It will receive updates for:"," ",(0,t.jsx)(i,{entities:n})]}),children:(0,t.jsx)("p",{className:"text-copy-14 text-blue-900",children:"webhook events"})}),"."]})})}])},4819890,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill="#666" fill-rule="evenodd" d="M14.5 8a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0ZM16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM6 11l5.5-3L6 5v6Z" clip-rule="evenodd" style="fill:currentColor;"/>');e.s(["PlayCircle",0,t])},4065455,e=>{"use strict";var t=e.i(1381818),r=e.i(4585051),i=e.i(6891161),n=e.i(4030453),s=e.i(8522580),a=e.i(1053524),o=e.i(4655443),l=e.i(6352514),c=e.i(1853611),d=e.i(6838069),u=e.i(3186231),p=e.i(4363398),m=e.i(4006546),g=e.i(2512825),h=e.i(5561425);function f(){return(0,t.jsx)(s.Note,{type:"warning",children:(0,t.jsx)("p",{className:"text-copy-14",children:"This integration is a community-developed integration. Please review integrator's documentation and End-User License Agreement (EULA) prior to proceeding."})})}e.s(["InstallExternalIntegrationModal",0,function(e){let{integration:s,account:x,teamSlugOrPublic:v,onAnimationDone:y,onSuccessfulInstall:j,view:b="modal",isOwnedByVercel:N,onBack:_,backButtonLabel:S}=e,w="marketplace",[C,I]=(0,a.useState)(!!s),[k,T]=(0,a.useState)(),D=x??k,[E,$]=(0,a.useState)(),A=(0,o.useRouter)(),[P,L]=(0,a.useState)(),[M,R]=(0,a.useState)(!1),{open:z,close:O}=(0,u.useInstallIntegrationPopup)({integration:s,source:w,onSuccess:e=>{let{configuration:t}=e;j?j(t):A.push((0,d.getInstallationDetailsLink)({teamSlug:v.teamSlug??D?.slug??"",configurationId:t.id,integrationSlug:t.slug,isMarketplace:!1})),R(!1)},onError:e=>{let{message:t}=e;L(t),void 0!==t&&R(!1)}});(0,a.useEffect)(()=>{M&&L(void 0)},[M]);let q=(0,p.useIntegrationControl)({account:D??void 0,integration:s}),{reset:F,projectSelectionProps:H,installButtonProps:B}=(0,g.useProjectSelectionStep)({integrationControl:q,configuration:E,onSuccess:e=>{let{projects:t}=e;(async()=>{await z({account:D??null,projects:t.length?t.map(e=>e.id):void 0,additionalQueryParameters:{}}),R(!0)})()},account:D??void 0});(0,a.useEffect)(()=>{C&&c.analytics.track(l.AnalyticsEvent.INTEGRATION_INSTALL_MODAL_OPENED,{source:w,integration:{id:s.id,slug:s.slug}})},[C,w,s]);let V=()=>{L(void 0),R(!1),O(),I(!1),_?.()};if("embedded-modal"===b)return C?U():null;return(0,t.jsx)(i.Modal.Modal,{active:C,allowOverflow:!0,onAnimationDone:()=>{F(),y()},onClickOutside:()=>{M&&c.analytics.track(l.AnalyticsEvent.INTEGRATION_INSTALL_MODAL_CANCELED,{source:w,integration:{id:s.id,slug:s.slug}}),V()},width:"480px",children:U()});function U(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Modal.Title,{className:"flex items-center gap-2 py-5 px-6 border-0 border-b border-gray-200",children:[(0,t.jsx)(r.Avatar,{hash:s.icon,size:36})," Connect"," ",s.name," Account"]}),(0,t.jsx)(i.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[s.approvedAt?null:(0,t.jsx)(f,{}),v.teamSlug?null:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Select a Vercel team to install the integration to:"}),(0,t.jsx)(h.TeamSelect,{account:k,integrationId:s.id,onChange:(e,t)=>{t.isLoading||(T(e),$(t.isInstalled?t.configuration:void 0),D!==e&&F())},type:"external"})]}),(0,t.jsx)(g.ProjectSelectionStep,{...H}),N?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.IntegrationScopeList,{integrationControl:q,scopes:s.scopes}),(0,t.jsx)(m.WebhookEventList,{integration:s})]}),(0,t.jsx)("span",{className:"text-gray-900",children:"Configure and link your Vercel projects on the next step."}),P?(0,t.jsx)(n.Error,{error:P}):null]})}),(0,t.jsxs)(i.Modal.Actions,{children:[(0,t.jsx)(i.Modal.Action,{onClick:V,type:"secondary",children:S??(_?"Back":"Cancel")}),(0,t.jsx)(g.InstallButton,{...B,children:M?"Resume":"Connect Account"})]})]})}}])},2098824,e=>{"use strict";var t=e.i(1381818);e.s(["FormTitleDescription",0,function(e){let{title:r,description:i,as:n,htmlFor:s}=e;return(0,t.jsxs)(t.Fragment,{children:["label"===n?(0,t.jsx)("label",{htmlFor:s,className:"text-[14px] leading-[20px] font-medium text-inherit",children:r}):(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:r}),(0,t.jsx)("p",{className:"text-[14px] font-light leading-[20px] mt-1.5",children:i})]})}])},1087959,e=>{"use strict";var t=e.i(1381818),r=e.i(6226725),i=e.i(2504781),n=e.i(5255926),s=e.i(4004502),a=e.i(6048771);e.s(["ProjectSelectItem",0,function(e){let{project:n,onRemove:o,disabled:l}=e;return(0,t.jsxs)("div",{className:"py-3 px-2 flex flex-row justify-between border border-gray-200 border-t-0 first:border-t first:rounded-t-[6px] last:rounded-b-[6px]","data-testid":(0,s.tid)("project-selected","item"),children:[(0,t.jsxs)("div",{className:"flex flex-col @lg-page:flex-row items-start @lg-page:items-center justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,t.jsx)(a.ProjectLogo,{deploymentId:n.latestDeployments?.[n.latestDeployments.length-1]?.id,framework:n.framework,project:n,size:20}),(0,t.jsx)("p",{className:"font-medium text-sm text-gray-1000",children:n.name})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:n.targets?.production?.alias?.[0]})]}),o&&!l?(0,t.jsx)(i.Button,{className:"p-0 [&>span]:p-0 flex items-center justify-center","aria-label":"Remove project",shape:"circle",size:"tiny",type:"tertiary",style:{width:20,height:20},svgOnly:!0,typeName:"button",onClick:()=>o(n.id),children:(0,t.jsx)(r.CrossCircle,{size:16})}):null]},n.id)},"ProjectSelectItemSkeleton",0,function(){return(0,t.jsxs)("div",{className:"py-3 px-2 flex flex-row justify-between border border-gray-200 border-t-0 first:border-t first:rounded-t-[6px] last:rounded-b-[6px]",children:[(0,t.jsxs)("div",{className:"flex flex-col @lg-page:flex-row items-start @lg-page:items-center justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,t.jsx)(n.Skeleton,{width:20,height:20,boxHeight:20,rounded:!0}),(0,t.jsx)(n.Skeleton,{width:180,height:14})]}),(0,t.jsx)(n.Skeleton,{width:120,height:12})]}),(0,t.jsx)(n.Skeleton,{width:20,height:20,rounded:!0})]})}])},2565125,e=>{"use strict";var t,r=e.i(1381818),i=e.i(1848296),n=e.i(3917098),s=e.i(2098824),a=e.i(1087959),o=e.i(6401841),l=((t={}).ALL="all",t.SOME="some",t);function c(e){let{count:t=2}=e;return 0===t?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"",children:Array.from({length:t}).map((e,t)=>(0,r.jsx)(a.ProjectSelectItemSkeleton,{},t))})})}function d(e){let{error:t}=e;return t?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:"text-copy-14 text-red-900",children:t})]}):null}e.s(["ProjectSelector",0,function(e){let{error:t,projects:o,projectType:l,onProjectTypeUpdated:u,onProjectsUpdated:p,title:m,description:g,disabled:h,isLoading:f,loadingCount:x,comboboxListContainer:v,disableAllProjects:y,allProjectsComponent:j}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:[(0,r.jsx)("div",{children:(0,r.jsx)(s.FormTitleDescription,{description:g,title:m})}),(0,r.jsx)(i.RadioGroup,{disabled:h,onChange:e=>u(e),value:l,children:(0,r.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-6 flex-initial",children:[(0,r.jsx)(i.RadioGroup.Item,{value:"all",disabled:y,children:j||"All Projects"}),(0,r.jsx)(i.RadioGroup.Item,{value:"some",children:"Specific Projects"})]})})]}),"some"===l&&(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:[(0,r.jsx)(n.ProjectSelect,{errored:!!t,disabled:h,onSelect:e=>{p([...o,e])},selected:o,verifyIntegrationsPermissions:!1,comboboxListContainer:v}),f?(0,r.jsx)(c,{count:x}):o.length?(0,r.jsx)("div",{children:o.map(e=>(0,r.jsx)(a.ProjectSelectItem,{disabled:h,onRemove:e=>p(o.filter(t=>t.id!==e)),project:e},e.id))}):null]}),(0,r.jsx)(d,{error:t})]})},"ProjectTypes",()=>l])},3186231,e=>{"use strict";var t=e.i(4655443),r=e.i(1053524),i=e.i(7722264),n=e.i(6352514),s=e.i(1853611),a=e.i(8042625),o=e.i(277234),l=e.i(4244280),c=e.i(4418317),d=e.i(9125947);e.s(["useInstallIntegrationPopup",0,function(e){let{integration:u,source:p,onSuccess:m,onError:g}=e,h=(0,t.useRouter)(),f=(0,t.useSearchParams)(),x=(0,r.useRef)(null),v=async e=>{let t,r,{account:h,projects:v,additionalQueryParameters:y={}}=e;if(x.current)return void x.current.open();let j=`${window.location.origin}/integrations/${u.slug}/loading`,b="datastax-astra-db"===u.slug||u.slug?.includes("aws")||"slack"===u.slug,N=!1,_=null,S=!1,w=h&&"slug"in h?h:void 0,C=h&&"username"in h?h:void 0,I=f?.get("state"),k=async e=>{let{configuration:t,team:r}=e;return s.analytics.track(n.AnalyticsEvent.INTEGRATION_POPUP_INSTALL_FINISHED,{source:p,target:w?"team":"personal-account",integration:{id:u.id,slug:u.slug}}),s.analytics.track(n.AnalyticsEvent.INTEGRATIONS_INSTALL_MODAL_SUCCESS,{source:p}),s.analytics.track(n.AnalyticsEvent.INTEGRATION_INSTALLED,{integration_id:u.id,integration_slug:u.slug,source:p,target:w?"team":"personal-account"}),s.analytics.track(n.AnalyticsEvent.INTEGRATION_INSTALL_SUCCEEDED,{source:p,target:w?"team":"personal-account",integration:{id:u.id,slug:u.slug}}),m({configuration:t,team:r})},T=async e=>{let{id:t,team:r}=e;(await (0,o.fetchAPI)(`${l.API_INTEGRATION_CONTROLLER}/configuration/${t}${(0,a.encode)({teamId:r?.id})}`)).completedAt||await (0,o.fetchAPI)(`${l.API_INTEGRATION_CONTROLLER}/configuration/${t}${(0,a.encode)({teamId:r?.id})}`,{method:"DELETE"})};x.current=new c.default({id:`install-integration:${u.slug}:${Math.random().toString(36).slice(2)}`,url:j,callbacks:{onOpen:()=>{b&&(N=!1),g?.({message:void 0})},onBlocked:()=>{x.current=null,g?.({message:"The installation could not be started."}),s.analytics.track(n.AnalyticsEvent.INTEGRATION_POPUP_INSTALL_BLOCKED,{source:p,target:w?"team":"personal-account"})},onPoll:async e=>{if(N||e.location.href!==j){if(_&&!_.completedAt)try{let e=await (0,o.fetchAPI)(`${l.API_INTEGRATION_CONTROLLER}/configuration/${_.id}${(0,a.encode)({teamId:w?.id})}`,{method:"GET"});e.completedAt&&(_=e)}catch(e){g?.((0,i.isError)(e)?e:{message:"Something went wrong."}),x.current?.close();return}}else{N=!0,s.analytics.track(n.AnalyticsEvent.INTEGRATION_POPUP_INSTALL_STARTED,{source:p,target:w?"team":"personal-account",integration:{id:u.id,slug:u.slug}});try{let e=await (0,o.fetchAPI)(`${l.API_INTEGRATION_CONTROLLER}/integration/${u.slug}/configuration${(0,a.encode)({teamId:w?.id})}`);"error"in e||(_=e);let t=await (0,o.fetchAPI)(_?`${l.API_INTEGRATION_CONTROLLER}/integration/${u.slug}/configuration/${_.id}${(0,a.encode)({teamId:w?.id})}`:`${l.API_INTEGRATION_CONTROLLER}/integration/${u.slug}/configuration${(0,a.encode)({teamId:w?.id})}`,{method:"POST",body:JSON.stringify({projects:v,source:p,scopes:u.scopes})});_||(S=!0,_=t.configuration),r=t.authorizationCode}catch(e){g?.((0,i.isError)(e)?e:{message:"Something went wrong."}),x.current?.close();return}t=`${window.location.origin}/${w?.slug||C?.username}/~/integrations/${_.id}/installed${b?"?autoclose=true":""}`,e.location.href=`${u.redirectUri}${(0,a.encode)({state:I,code:r,teamId:w?.id,configurationId:_.id,source:_.source,...y,next:t})}`}try{let r=!1;r=b?!!(N&&_?.completedAt):!!(N&&_&&e.location.origin+e.location.pathname===t),_&&r&&(x.current?.cancelPolling(),await (0,d.default)(2e3),await k({configuration:_,team:w}),x.current?.close())}catch(e){if(e instanceof DOMException&&"SecurityError"===e.name)return;throw e}},onClose:()=>{x.current=null},onAbort:async()=>{!b&&(x.current=null,g?.({message:"The installation was canceled."}),s.analytics.track(n.AnalyticsEvent.INTEGRATION_INSTALL_CANCELED,{source:p,target:w?"team":"personal-account",integration:{id:u.id,slug:u.slug}}),S&&_&&await T({id:_.id,team:w}))}}}),x.current.open()},y=async e=>{let t,{account:r,projects:c}=e,d=r&&"slug"in r?r:void 0;try{t=await (0,o.fetchAPI)(`${l.API_INTEGRATION_CONTROLLER}/integration/${u.slug}/configuration${(0,a.encode)({teamId:d?.id})}`,{method:"POST",body:JSON.stringify({projects:c,source:p,scopes:u.scopes})})}catch(e){g?.((0,i.isError)(e)?e:{message:"Something went wrong."});return}s.analytics.track(n.AnalyticsEvent.INTEGRATION_INSTALL_SUCCEEDED,{source:p,target:d?"team":"personal-account",integration:{id:u.id,slug:u.slug}});let{configuration:m}=t;h.push(`${window.location.origin}/dashboard/${d?`${d.slug}/`:""}integrations/${m.id}`)};return{open:e=>u.redirectUri?v(e):y(e),close:()=>{console.log("close called"),x.current?.close()}}}])},8804984,e=>{"use strict";var t=e.i(2774527);e.s(["get",()=>t.default])},5297527,e=>{"use strict";let t=["storage","ai","experimentation","observability","video","workflow","authentication","checks","messaging"],r=[...t,"logDrain","traceDrain","other"];e.s(["INTEGRATION_PROTOCOL_TYPES",0,r,"PRIMARY_INTEGRATION_PROTOCOL_TYPES",0,t,"integrationAdapterTags",0,["postgres","mysql","redis","kv","blob","edge-config","vector","libsql","sqlite","rds","drains","mcp"],"paidIntegrationScopes",0,["read-write:otel-endpoint","read-write:log-drain"]])},6838069,e=>{"use strict";var t=e.i(8042625),r=e.i(5297527);let i="/integrations",n="/marketplace",s="my-installations";function a(e){return`/${e}/~${i}`}function o(e){return!!("isPublic"in e&&e.isPublic)}function l(e){if(e.primaryProtocol)return e.primaryProtocol;if(e.supportedProtocols?.length===1)return e.supportedProtocols[0];if(e.supportedProtocols&&e.supportedProtocols.length>1){let t=e.supportedProtocols.filter(e=>r.PRIMARY_INTEGRATION_PROTOCOL_TYPES.includes(e));if(1===t.length)return t[0]}}function c(e){return e?e.startsWith("/")?e.slice(1):e:""}e.s(["MARKETPLACE_DOC_PAGE",0,"/docs","MY_INSTALLATIONS_ANCHOR",0,s,"formatMarketplaceBillingTotal",0,function(e){let t="number"==typeof e?Math.round(100*e)/100:e;return t?`$${t}`:""},"formatMarketplacePeriod",0,function(e,t){let r=new Date(e),i=new Date(t),n=r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),s=i.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return`${n} - ${s}`},"getBrowseMarketplaceLink",0,function(e){let{category:r,search:i,expanded:s,teamSlugOrPublic:l,isPreview:c}=e,d=(0,t.encode)({category:r,search:i,expanded:s,isPreview:c});if(o(l))return`${n}${d}`;let u=[a(l.teamSlug),"marketplace"].join("/");return`${u}${d}`},"getInstallationDetailsLink",0,function(e){let{teamSlug:t,integrationSlug:r,configurationId:i,path:n}=e;return[a(t),r,i,n].filter(e=>!!e).join("/")},"getIntegrationDetailsLink",0,function(e){let{integrationSlug:r,isContentful:i,isConsole:l,teamSlugOrPublic:c,installationHash:d,isFromV0:u}=e,p=(0,t.encode)({console:l,v0:u||null});if(o(c))return`${n}/${r}${p}`;let m=[a(c.teamSlug),r,i?"custom":null].filter(e=>!!e).join("/");return`${m}${p}${d?`#${s}`:""}`},"getIntegrationInstallationLink",0,function(e,t,r,i){var n;return`/${e}/~/integrations/${t}/${r}${(n=i)?n.startsWith("/")?n:`/${n}`:""}`},"getMarketplaceInstallationsLink",0,function(e){let{teamSlug:r,search:i,category:n}=e,s=(0,t.encode)({category:n,search:i});return`${a(r)}${s}`},"getPermissionsLink",0,function(e){let{teamSlug:t,configurationId:r}=e;return`/dashboard/${t}/integrations/${r}/permissions`},"getProjectResourceDashboardLink",0,function(e,t){let{teamSlug:r,projectSlug:n,protocolType:s,path:a}=t;return[`/${r}/${n}${i}`,e.product.integration.slug,e.product.integrationConfigurationId,"resources",s||l(e.product)||"other",e.id,c(a)].filter(e=>!!e).join("/")},"getResourceDashboardLink",0,function(e,t){let{teamSlug:r,protocolType:i,path:n}=t;return[a(r),e.product.integration.slug,e.product.integrationConfigurationId,"resources",i||l(e.product)||"other",e.id,c(n)].filter(e=>!!e).join("/")},"isPublicMarketplacePage",0,o])},8538413,e=>{"use strict";var t=e.i(1053524);function r(e,t){let[r,i]=t;return Math.min(i,Math.max(r,e))}var i=e.i(4178896),n=e.i(9730818),s=e.i(4645584),a=e.i(7118867),o=e.i(9980068),l=e.i(3988623),c=e.i(633177),d=e.i(5046617),u=e.i(1381818),p=["PageUp","PageDown"],m=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],g={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},h="Slider",[f,x,v]=(0,d.createCollection)(h),[y,j]=(0,s.createContextScope)(h,[v]),[b,N]=y(h),_=t.forwardRef((e,n)=>{let{name:s,min:o=0,max:l=100,step:c=1,orientation:d="horizontal",disabled:g=!1,minStepsBetweenThumbs:h=0,defaultValue:x=[o],value:v,onValueChange:y=()=>{},onValueCommit:j=()=>{},inverted:N=!1,form:_,...S}=e,w=t.useRef(new Set),k=t.useRef(0),T="horizontal"===d,[D=[],E]=(0,a.useControllableState)({prop:v,defaultProp:x,onChange:e=>{let t=[...w.current];t[k.current]?.focus(),y(e)}}),$=t.useRef(D);function A(e,t){let i,{commit:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1},s=(String(c).split(".")[1]||"").length,a=r(Math.round((Math.round((e-o)/c)*c+o)*(i=Math.pow(10,s)))/i,[o,l]);E(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=[...e];return i[r]=t,i.sort((e,t)=>e-t)}(e,a,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(r,h*c))return e;{k.current=r.indexOf(a);let t=String(r)!==String(e);return t&&n&&j(r),t?r:e}})}return(0,u.jsx)(b,{scope:e.__scopeSlider,name:s,disabled:g,min:o,max:l,valueIndexToChangeRef:k,thumbs:w.current,values:D,orientation:d,form:_,children:(0,u.jsx)(f.Provider,{scope:e.__scopeSlider,children:(0,u.jsx)(f.Slot,{scope:e.__scopeSlider,children:(0,u.jsx)(T?C:I,{"aria-disabled":g,"data-disabled":g?"":void 0,...S,ref:n,onPointerDown:(0,i.composeEventHandlers)(S.onPointerDown,()=>{g||($.current=D)}),min:o,max:l,inverted:N,onSlideStart:g?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),i=Math.min(...r);return r.indexOf(i)}(D,e);A(e,t)},onSlideMove:g?void 0:function(e){A(e,k.current)},onSlideEnd:g?void 0:function(){let e=$.current[k.current];D[k.current]!==e&&j(D)},onHomeKeyDown:()=>!g&&A(o,0,{commit:!0}),onEndKeyDown:()=>!g&&A(l,D.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:r}=e;if(!g){let e=p.includes(t.key)||t.shiftKey&&m.includes(t.key),i=k.current;A(D[i]+c*(e?10:1)*r,i,{commit:!0})}}})})})})});_.displayName=h;var[S,w]=y(h,{startEdge:"left",endEdge:"right",size:"width",direction:1}),C=t.forwardRef((e,r)=>{let{min:i,max:s,dir:a,inverted:l,onSlideStart:c,onSlideMove:d,onSlideEnd:p,onStepKeyDown:m,...h}=e,[f,x]=t.useState(null),v=(0,n.useComposedRefs)(r,e=>x(e)),y=t.useRef(void 0),j=(0,o.useDirection)(a),b="ltr"===j,N=b&&!l||!b&&l;function _(e){let t=y.current||f.getBoundingClientRect(),r=z([0,t.width],N?[i,s]:[s,i]);return y.current=t,r(e-t.left)}return(0,u.jsx)(S,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:(0,u.jsx)(k,{dir:j,"data-orientation":"horizontal",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=_(e.clientX);c?.(t)},onSlideMove:e=>{let t=_(e.clientX);d?.(t)},onSlideEnd:()=>{y.current=void 0,p?.()},onStepKeyDown:e=>{let t=g[N?"from-left":"from-right"].includes(e.key);m?.({event:e,direction:t?-1:1})}})})}),I=t.forwardRef((e,r)=>{let{min:i,max:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...p}=e,m=t.useRef(null),h=(0,n.useComposedRefs)(r,m),f=t.useRef(void 0),x=!a;function v(e){let t=f.current||m.current.getBoundingClientRect(),r=z([0,t.height],x?[s,i]:[i,s]);return f.current=t,r(e-t.top)}return(0,u.jsx)(S,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:(0,u.jsx)(k,{"data-orientation":"vertical",...p,ref:h,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=v(e.clientY);o?.(t)},onSlideMove:e=>{let t=v(e.clientY);l?.(t)},onSlideEnd:()=>{f.current=void 0,c?.()},onStepKeyDown:e=>{let t=g[x?"from-bottom":"from-top"].includes(e.key);d?.({event:e,direction:t?-1:1})}})})}),k=t.forwardRef((e,t)=>{let{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...g}=e,f=N(h,r);return(0,u.jsx)(c.Primitive.span,{...g,ref:t,onKeyDown:(0,i.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):p.concat(m).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,i.composeEventHandlers)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),f.thumbs.has(t)?t.focus():n(e)}),onPointerMove:(0,i.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)}),onPointerUp:(0,i.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),a(e))})})}),T="SliderTrack",D=t.forwardRef((e,t)=>{let{__scopeSlider:r,...i}=e,n=N(T,r);return(0,u.jsx)(c.Primitive.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...i,ref:t})});D.displayName=T;var E="SliderRange",$=t.forwardRef((e,r)=>{let{__scopeSlider:i,...s}=e,a=N(E,i),o=w(E,i),l=t.useRef(null),d=(0,n.useComposedRefs)(r,l),p=a.values.length,m=a.values.map(e=>R(e,a.min,a.max)),g=p>1?Math.min(...m):0,h=100-Math.max(...m);return(0,u.jsx)(c.Primitive.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:d,style:{...e.style,[o.startEdge]:g+"%",[o.endEdge]:h+"%"}})});$.displayName=E;var A="SliderThumb",P=t.forwardRef((e,r)=>{let i=x(e.__scopeSlider),[s,a]=t.useState(null),o=(0,n.useComposedRefs)(r,e=>a(e)),l=t.useMemo(()=>s?i().findIndex(e=>e.ref.current===s):-1,[i,s]);return(0,u.jsx)(L,{...e,ref:o,index:l})}),L=t.forwardRef((e,r)=>{var s,a,o,d,p;let m,g,{__scopeSlider:h,index:x,name:v,...y}=e,j=N(A,h),b=w(A,h),[_,S]=t.useState(null),C=(0,n.useComposedRefs)(r,e=>S(e)),I=!_||j.form||!!_.closest("form"),k=(0,l.useSize)(_),T=j.values[x],D=void 0===T?0:R(T,j.min,j.max),E=(s=x,(a=j.values.length)>2?`Value ${s+1} of ${a}`:2===a?["Minimum","Maximum"][s]:void 0),$=k?.[b.size],P=$?(o=$,d=D,p=b.direction,g=z([0,50],[0,m=o/2]),(m-g(d)*p)*p):0;return t.useEffect(()=>{if(_)return j.thumbs.add(_),()=>{j.thumbs.delete(_)}},[_,j.thumbs]),(0,u.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[b.startEdge]:`calc(${D}% + ${P}px)`},children:[(0,u.jsx)(f.ItemSlot,{scope:e.__scopeSlider,children:(0,u.jsx)(c.Primitive.span,{role:"slider","aria-label":e["aria-label"]||E,"aria-valuemin":j.min,"aria-valuenow":T,"aria-valuemax":j.max,"aria-orientation":j.orientation,"data-orientation":j.orientation,"data-disabled":j.disabled?"":void 0,tabIndex:j.disabled?void 0:0,...y,ref:C,style:void 0===T?{display:"none"}:e.style,onFocus:(0,i.composeEventHandlers)(e.onFocus,()=>{j.valueIndexToChangeRef.current=x})})}),I&&(0,u.jsx)(M,{name:v??(j.name?j.name+(j.values.length>1?"[]":""):void 0),form:j.form,value:T},x)]})});P.displayName=A;var M=e=>{let r,{value:i,...n}=e,s=t.useRef(null),a=(r=t.useRef({value:i,previous:i}),t.useMemo(()=>(r.current.value!==i&&(r.current.previous=r.current.value,r.current.value=i),r.current.previous),[i]));return t.useEffect(()=>{let e=s.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(a!==i&&t){let r=new Event("input",{bubbles:!0});t.call(e,i),e.dispatchEvent(r)}},[a,i]),(0,u.jsx)("input",{style:{display:"none"},...n,ref:s,defaultValue:i})};function R(e,t,i){return r(100/(i-t)*(e-t),[0,100])}function z(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}e.s(["Range",0,$,"Root",0,_,"Thumb",0,P,"Track",0,D],8538413)},8017289,e=>{e.v({fullWidth:"slider-module__v9lqeq__fullWidth",outerWrapper:"slider-module__v9lqeq__outerWrapper",range:"slider-module__v9lqeq__range",root:"slider-module__v9lqeq__root",sliderWrapper:"slider-module__v9lqeq__sliderWrapper",thumb:"slider-module__v9lqeq__thumb",thumbFocused:"slider-module__v9lqeq__thumbFocused",track:"slider-module__v9lqeq__track"})},7048904,e=>{"use strict";var t=e.i(1381818),r=e.i(8538413),i=e.i(9722978),n=e.i(1053524),s=e.i(3500331),a=e.i(3671642),o=e.i(2630955),l=e.i(9544652),c=e.i(8017289);let d="production"!==o.VERCEL_ENV;e.s(["Slider",0,function(e){let{value:o,onValueChange:u,min:p=0,max:m=100,step:g=1,showStartInput:h,showEndInput:f,label:x,disabled:v,onValueCommit:y,bypassCasing:j,fullWidth:b}=e,N=(0,l.useDisabled)()||v,_=(0,n.useRef)(null),S=(0,n.useId)(),[w,C]=(0,n.useState)(!1),[I,k]=(0,n.useState)(!1);return!function(e){let[t,r]=(0,n.useState)(!1),[i,s]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{let t=e.current;for(;t?.parentNode;){if("FORM"===t.parentNode.nodeName){r(!0);break}t=t.parentNode}s(!0)},[e]),d&&!t&&i)throw Error("Slider must be wrapped in a form element")}(_),(0,t.jsxs)("div",{className:c.default.outerWrapper,ref:_,children:[x?(0,t.jsx)(a.Label,{bypassCasing:j,id:S,value:x}):null,(0,t.jsxs)("div",{className:c.default.sliderWrapper,children:[h?(0,t.jsx)(s.Input,{"aria-label":"Starting range value",disabled:N,id:S,onChange:e=>{let t=[Number(e.target.value)];o[1]&&t.push(o[1]),u(t)},size:"small",value:String(o[0])}):null,(0,t.jsxs)(r.Root,{className:(0,i.clsx)(c.default.root,{[String(c.default.fullWidth)]:b}),disabled:N,max:m,min:p,onValueChange:u,onValueCommit:y,step:g,value:o,children:[(0,t.jsx)(r.Track,{className:c.default.track,children:(0,t.jsx)(r.Range,{className:c.default.range})}),(0,t.jsx)(r.Thumb,{className:(0,i.clsx)(c.default.thumb,{[String(c.default.thumbFocused)]:w}),onMouseDown:()=>C(!0),onMouseUp:()=>C(!1)}),o.length>1?(0,t.jsx)(r.Thumb,{className:(0,i.clsx)(c.default.thumb,{[String(c.default.thumbFocused)]:I}),onMouseDown:()=>k(!0),onMouseUp:()=>k(!1)}):null]}),f?(0,t.jsx)(s.Input,{"aria-label":"Ending range value",disabled:N,id:h?void 0:S,onChange:e=>{let t=[Number(e.target.value)];o[0]&&t.unshift(o[0]),u(t)},size:"small",typeName:"number",value:String(o[1])}):null]})]})}])},4535059,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<g stroke="currentColor" stroke-width="1.5" fill="none">
    <path d="M4.75 0.75H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V4.75" stroke-linecap="square"/>
    <path d="M11.25 15.25H13.25C14.3546 15.25 15.25 14.3546 15.25 13.25V11.25" stroke-linecap="square"/>
    <path d="M11.25 0.75H13.25C14.3546 0.75 15.25 1.64543 15.25 2.75V4.75" stroke-linecap="square"/>
    <path d="M4.75 15.25H2.75C1.64543 15.25 0.75 14.3546 0.75 13.25V11.25" stroke-linecap="square"/>
    <path d="M4.5 5H9.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.5 8L12.5 8" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M4.5 11H9.5" stroke-linecap="round" stroke-linejoin="round"/>
  </g>`);e.s(["Traces",0,t])},6695099,e=>{"use strict";var t=e.i(1053524),r={};e.s(["default",0,function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];var a=[],o=[],l=function(e){var i=(0,t.createContext)(r);a.push(i),o.push(function(){return(0,t.useContext)(i)})};return n.length?n.forEach(function(e){return l(e.name)}):l(e.name),[function(r){for(var i=r.children,s=e(function(e,t){if(null==e)return{};var r,i,n={},s=Object.keys(e);for(i=0;i<s.length;i++)t.indexOf(r=s[i])>=0||(n[r]=e[r]);return n}(r,["children"])),o=i,l=0;l<a.length;l+=1){var c=a[l],d=n[l]||function(e){return e};o=(0,t.createElement)(c.Provider,{value:d(s)},o)}return o}].concat(o)}])},2454893,e=>{e.v({cardLink:"marketplace-integration-card-module__GWffEq__cardLink",descriptionWrapper:"marketplace-integration-card-module__GWffEq__descriptionWrapper",icon:"marketplace-integration-card-module__GWffEq__icon",integrationCard:"marketplace-integration-card-module__GWffEq__integrationCard"})},1282571,397094,e=>{"use strict";var t=e.i(1381818),r=e.i(9722978),i=e.i(9739627),n=e.i(4585051),s=e.i(5255926),a=e.i(2504781),o=e.i(57106),l=e.i(2704354),c=e.i(2454893),d=e.i(4655443);function u(e){return t=>{new URL(String(e.href),window.location.href).origin!==window.location.origin||0!==t.button||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||(t.preventDefault(),e.router.push(String(e.href)))}}function p(e){let{icon:r,name:s,size:a=36}=e;return(0,l.isContentfulIcon)(r)?(0,t.jsx)("div",{className:c.default.icon,children:(0,t.jsx)(i.Image,{alt:s,height:a,srcDark:`https:${r.fields.file.url}`,srcLight:`https:${r.fields.file.url}`,width:a})}):(0,t.jsx)(n.Avatar,{className:c.default.icon,hash:r,size:a})}e.s(["buildOnMouseDown",0,u],397094),e.s(["MarketplaceIntegrationCard",0,function(e){let{Actions:i,children:n,href:s,title:a,icon:l,className:m,"data-testid":g,disabled:h}=e,f=(0,d.useRouter)();return(0,t.jsxs)("div",{className:(0,r.clsx)(m,c.default.integrationCard),children:[(0,t.jsxs)("div",{className:(0,r.clsx)("flex flex-row items-stretch justify-between gap-4 flex-initial",c.default.descriptionWrapper),children:[(0,t.jsxs)("div",{className:(0,r.clsx)("flex flex-row items-center justify-start gap-3 flex-initial",c.default.descriptionWrapper),children:[(0,t.jsx)(p,{icon:l,name:a}),n]}),i]}),h?null:(0,t.jsx)(o.Link,{"aria-label":`Open ${a}`,className:c.default.cardLink,"data-testid":g,href:s,onMouseDown:u({href:s,router:f})})]})},"MarketplaceIntegrationCardIcon",0,p,"MarketplaceIntegrationCardPlaceholder",0,function(e){let{children:i,Action:n,className:o}=e;return(0,t.jsx)("div",{className:(0,r.clsx)(o,c.default.integrationCard),children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial w-full",children:[(0,t.jsx)(s.Skeleton,{height:36,rounded:!0,width:36}),i]}),n??(0,t.jsx)(a.Button,{size:"small",type:"secondary",children:(0,t.jsx)(s.Skeleton,{height:16,width:30})})]})})}],1282571)},4325157,e=>{"use strict";var t=e.i(850302),r=e.i(4545405);let i=(0,r.createServerReference)("7f7b5b4ac89a73d9f58fcd11a7914c22b950021984",r.callServer,void 0,r.findSourceMapURL,"findManyPrivateMarketplaceIntegrationsByProduct");var n=e.i(2704354),s=e.i(9668517);e.s(["useMarketplaceIntegrations",0,e=>{let{protocolType:r}=e,a=(0,s.useTeamSlug)();return(0,t.default)(()=>(0,n.getMarketplaceIntegrationsApiUrl)({teamIdOrSlug:a??null,protocolType:r}),async e=>e&&a?i({protocolType:r,teamIdOrSlug:a}):[])}],4325157)},4110479,e=>{"use strict";var t=e.i(1381818),r=e.i(1053524);let i=(0,r.createContext)(null);e.s(["DrainModalProvider",0,e=>{let{children:n,initialResource:s}=e,[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(s),p=(0,r.useCallback)((e,t)=>{c(e),u(t),o(!0)},[]),m=(0,r.useCallback)(()=>{c(null),u(s),o(!1)},[s]),g=(0,r.useMemo)(()=>({isOpen:a,setIsOpen:o,drain:l,resource:d,openDrain:p,closeModal:m}),[a,l,d,m,p]);return(0,t.jsx)(i.Provider,{value:g,children:n})},"useDrainModalContext",0,()=>{let e=(0,r.useContext)(i);if(null===e)throw Error("useDrainModal must be used within a DrainModalProvider");return e},"useOptionalDrainModalContext",0,()=>(0,r.useContext)(i)])},9412123,e=>{"use strict";var t=e.i(7694836),r=function(e,r,i){if(e&&"reportValidity"in e){var n=(0,t.get)(i,r);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},i=function(e,t){var i=function(i){var n=t.fields[i];n&&n.ref&&"reportValidity"in n.ref?r(n.ref,i,e):n.refs&&n.refs.forEach(function(t){return r(t,i,e)})};for(var n in t.fields)i(n)},n=function(e,r){r.shouldUseNativeValidation&&i(e,r);var n={};for(var s in e){var a=(0,t.get)(r.fields,s);(0,t.set)(n,s,Object.assign(e[s],{ref:a&&a.ref}))}return n},s=function(e,r){for(var i={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!i[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];i[o]={message:l.message,type:l.code}}else i[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),r){var c=i[o].types,d=c&&c[n.code];i[o]=(0,t.appendErrors)(o,r,i,s,d?[].concat(d,n.message):n.message)}e.shift()}return i};e.s(["zodResolver",0,function(e,t,r){return void 0===r&&(r={}),function(a,o,l){try{return Promise.resolve(function(n,s){try{var o=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](a,t)).then(function(e){return l.shouldUseNativeValidation&&i({},l),{errors:{},values:r.rawValues?a:e}})}catch(e){return s(e)}return o&&o.then?o.then(void 0,s):o}(0,function(e){return{values:{},errors:e.isEmpty?{}:n(s(e.errors,!l.shouldUseNativeValidation&&"all"===l.criteriaMode),l)}}))}catch(e){return Promise.reject(e)}}}],9412123)},2199694,e=>{"use strict";e.s(["isCreateFlow",0,function(e){return"mode"in e&&"create"===e.mode},"isUpdateFlow",0,function(e){return"mode"in e&&"update"===e.mode}])},5263903,(e,t,r)=>{"use strict";let i="[a-fA-F\\d:]",n=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${i})|(?<=${i})(?=\\s|$))`:"",s="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",o=`
(?:
(?:${a}:){7}(?:${a}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${a}:){6}(?:${s}|:${a}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${a}:){5}(?::${s}|(?::${a}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${a}:){4}(?:(?::${a}){0,1}:${s}|(?::${a}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${a}:){3}(?:(?::${a}){0,2}:${s}|(?::${a}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${a}:){2}(?:(?::${a}){0,3}:${s}|(?::${a}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${a}:){1}(?:(?::${a}){0,4}:${s}|(?::${a}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${a}){0,5}:${s}|(?::${a}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),l=RegExp(`(?:^${s}$)|(?:^${o}$)`),c=RegExp(`^${s}$`),d=RegExp(`^${o}$`),u=e=>e&&e.exact?l:RegExp(`(?:${n(e)}${s}${n(e)})|(?:${n(e)}${o}${n(e)})`,"g");u.v4=e=>e&&e.exact?c:RegExp(`${n(e)}${s}${n(e)}`,"g"),u.v6=e=>e&&e.exact?d:RegExp(`${n(e)}${o}${n(e)}`,"g"),t.exports=u},3775629,(e,t,r)=>{"use strict";let i=e.r(5263903),n=e.r(6881271);t.exports=e=>{e={strict:!0,...e};let t=`(?:(?:[a-z]+:)?//)${e.strict?"":"?"}`,r=i.v4().source,s=`(?:\\.${e.strict?"(?:[a-z\\u00a1-\\uffff]{2,})":`(?:${n.sort((e,t)=>t.length-e.length).join("|")})`})\\.?`,a=`(?:${t}|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|${r}|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*${s})(?::\\d{2,5})?(?:[/?#][^\\s"]*)?`;return e.exact?RegExp(`(?:^${a}$)`,"i"):RegExp(a,"ig")}},7662235,1094129,e=>{"use strict";var t=e.i(1381818),r=e.i(7694836),i=e.i(9957872),n=e.i(248550),s=e.i(4535059),a=e.i(4524395),o=e.i(2640326),l=e.i(6401841),c=e.i(1053524),d=e.i(3758860),u=e.i(4110479);let p=[{value:"logs",protocol:"logDrain",icon:n.Logs,title:"Logs",description:"Runtime, build and static logs"},{value:"traces",protocol:"traceDrain",icon:s.Traces,title:"Traces",description:"Distributed tracing data"},{value:"speed_insights",protocol:null,icon:a.StopwatchFast,title:"Speed Insights",description:"Performance metrics"},{value:"analytics",protocol:null,icon:o.Analytics,title:"Web Analytics",description:"Page views and custom events"}];e.s(["chooseDrainDataStep",0,{title:"Choose data to drain",component:function(){let{watch:e,setValue:n,resetField:s,register:a,clearErrors:o,formState:{errors:m}}=(0,r.useFormContext)(),g=(0,u.useOptionalDrainModalContext)(),h=g?.resource,f=e("drainType"),x=e("mode");return(0,c.useEffect)(()=>{a("drainType",{required:"required"})},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ChoiceboxGroup,{className:"pt-4",direction:"column",label:"Choose data type",type:"radio",value:f??"",onChange:e=>{n("drainType",e),o("drainType"),"create"!==x||h?(s("delivery.type"),s("delivery.endpoint")):(n("delivery.type","traces"===e?"otlphttp":"http"),n("delivery.endpoint","traces"===e?{traces:""}:"")),s("delivery.encoding"),s("filters.log.sources"),s("filters.deployment.environments")},children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:p.filter(e=>!h||e.protocol&&"integration"===h.type&&(0,d.isProtocolSupported)(h.product,e.protocol)).map(e=>{let r=e.icon;return(0,t.jsx)(i.ChoiceboxGroup.Item,{value:e.value,title:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r,{size:16}),e.title]}),description:e.description},e.value)})})}),m.drainType?.message&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,t.jsx)(l.Stop,{size:14,color:"red-700"}),(0,t.jsx)("p",{className:"text-copy-14 text-red-900",children:m.drainType.message})]})]})},getFieldsToValidate:()=>["drainType"],getIsNextEnabled:()=>!0,getSuffix:function(e,r){if(r)return null;let i=(()=>{switch(e){case"traces":return"Traces";case"logs":return"Logs";case"analytics":return"Web Analytics";case"speed_insights":return"Speed Insights"}})();return(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:i})}}],7662235),e.i(3512434);var m=e.i(9835407),g=e.i(3775629);let h=m.z.enum(["production","preview"]),f=m.z.object({type:m.z.literal("head_sampling"),env:m.z.union([h,m.z.literal("all")]).transform(e=>"all"===e?void 0:e).optional(),rate:m.z.number().min(0,"Sampling rate must be between 0 and 100%").max(1,"Sampling rate must be between 0 and 100%"),requestPath:m.z.string().optional().transform(e=>""===e?void 0:e)}),x=m.z.string().refine(e=>e.startsWith("https://"),{message:"URL must start with https://"}).refine(e=>(0,g.default)({exact:!0}).test(e),{message:"Must be a valid URL"}),v=m.z.object({type:m.z.literal("http"),endpoint:x,encoding:m.z.enum(["json","ndjson"]),headers:m.z.record(m.z.string()),secret:m.z.union([m.z.string(),m.z.object({kind:m.z.literal("INTEGRATION_SECRET")})]).optional(),compression:m.z.enum(["gzip","none"]).optional()}),y=m.z.object({type:m.z.literal("otlphttp"),endpoint:m.z.object({traces:x}),encoding:m.z.enum(["proto","json"]),headers:m.z.record(m.z.string()),secret:m.z.union([m.z.string(),m.z.object({kind:m.z.literal("INTEGRATION_SECRET")})]).optional()}),j=m.z.discriminatedUnion("type",[v,y]),b=m.z.enum(["lambda","edge","static","external","build","firewall","redirect"]),N=m.z.enum(["logs","traces","analytics","speed_insights"]),_=m.z.union([m.z.object({kind:m.z.literal("integration"),resourceId:m.z.string().optional(),integrationId:m.z.string().optional(),integrationConfigurationId:m.z.string().optional()}),m.z.object({kind:m.z.literal("self-served")})]),S=m.z.object({log:m.z.object({sources:m.z.array(b)}),deployment:m.z.object({environments:m.z.array(h)})}),w=m.z.object({name:m.z.string().trim().min(1,"Drain name is required"),projects:m.z.enum(["all","some"]),drainType:N,delivery:j.optional(),sampling:m.z.array(f).max(10,"You can configure up to 10 sampling rules").optional(),projectIds:m.z.array(m.z.string()).optional(),filters:S,source:_.optional(),mode:m.z.literal("create")}),C=m.z.object({name:m.z.string().trim().min(1,"Drain name is required").optional(),projects:m.z.enum(["all","some"]).optional(),drainType:N,delivery:j.optional(),sampling:m.z.array(f).optional(),projectIds:m.z.array(m.z.string()).optional(),status:m.z.enum(["enabled","disabled"]).optional(),filters:S.optional(),source:_.optional(),mode:m.z.literal("update")}),I=m.z.discriminatedUnion("mode",[w,C]).refine(e=>"some"!==e.projects||e.projectIds&&e.projectIds.length>0,{message:"At least one project must be selected when choosing specific projects",path:["projectIds"]}).refine(e=>"logs"!==e.drainType||Number(e.filters?.log?.sources.length)>0,{message:"At least one source must be selected when draining logs",path:["filters.log.sources"]});e.s(["DrainFormSchema",0,I,"httpUrl",0,x,"sourceLabelMap",0,{lambda:"Functions",edge:"Edge Functions",static:"Static Files",external:"Rewrites",build:"Builds",firewall:"Firewall",redirect:"Redirects"}],1094129)},1733572,e=>{"use strict";let t={logs:"Logs",traces:"Traces",analytics:"Web Analytics",speed_insights:"Speed Insights"};e.s(["getDrainType",0,function(e){return e.schemas?.trace?"traces":e.schemas?.analytics?"analytics":e.schemas?.speed_insights?"speed_insights":"logs"},"getDrainTypeLabel",0,function(e){return t[e]}])},3614887,9572009,8249103,3456281,4789955,5664328,e=>{"use strict";let t;var r=e.i(1381818),i=e.i(3500331),n=e.i(3869281),s=e.i(7048904),a=e.i(6401841),o=e.i(2565125),l=e.i(2098824),c=e.i(1094129),d=e.i(1733572),u=e.i(7694836),p=e.i(1053524),m=e.i(6060673);let g=(0,p.createContext)(null),h=()=>(0,p.useContext)(g);e.s(["SheetContainerContext",0,g,"useSheetContainer",0,h],9572009);var f=e.i(5323212),x=e.i(3169345),v=e.i(8161149),y=e.i(2504781),j=e.i(5468328),b=e.i(923772),N=e.i(5169576);function _(){let{register:e,watch:t,setValue:n,formState:{errors:s}}=(0,u.useFormContext)(),o=t("filters.deployment.environments"),l=0===o.length||2===o.length,c=Array.isArray(s.sampling)?s.sampling[0]?.rate?.message:void 0,{fields:d,append:p,remove:m}=(0,u.useFieldArray)({name:"sampling"});return(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"Sampling"}),0===d.length?(0,r.jsx)("div",{className:"flex flex-col items-center justify-start gap-4 flex-initial mt-1.5",children:(0,r.jsx)(v.EmptyState.Root,{secondary:!0,title:"No sampling rules configured",description:"Configure rules to set sampling rates by environment or path prefix.",children:(0,r.jsx)(y.Button,{onClick:()=>p({type:"head_sampling",env:void 0,rate:1}),type:"secondary",typeName:"button",children:"Add Sampling Rule"})})}):(0,r.jsxs)(x.Table,{className:"border-separate border-spacing-0 mt-1.5",children:[(0,r.jsx)(x.Table.Header,{removeSpacing:!0,children:(0,r.jsxs)(x.Table.Row,{children:[(0,r.jsx)(x.Table.Head,{className:"border-t border-l rounded-tl border-solid border-gray-200 text-xs pl-4",children:"Environment"}),(0,r.jsx)(x.Table.Head,{className:"border-t border-solid border-gray-200 text-xs",children:"Rate"}),(0,r.jsx)(x.Table.Head,{className:"border-t border-solid border-gray-200 text-xs",children:(0,r.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:["Request Path Prefix",(0,r.jsx)(j.Tooltip,{text:"The prefix of the request path to sample or the entire request path",children:(0,r.jsx)(N.Information,{size:12,color:"gray-700"})})]})}),(0,r.jsx)(x.Table.Head,{className:"border-t border-r rounded-tr border-solid border-gray-200 text-xs"})]})}),(0,r.jsxs)(x.Table.Body,{className:"[&_td:first-child]:rounded-l-none [&_td:last-child]:rounded-r-none",children:[d.map((a,o)=>{let l=e(`sampling.${o}.env`);e(`sampling.${o}.rate`,{valueAsNumber:!0});let c=t(`sampling.${o}.rate`),d=Array.isArray(s.sampling)?s.sampling[o]?.rate?.message:void 0;return(0,r.jsxs)(x.Table.Row,{children:[(0,r.jsx)(x.Table.Cell,{className:"border-l border-b border-solid border-gray-200 rounded-none py-4 pl-4",children:(0,r.jsx)(f.Select,{size:"small",ref:l.ref,name:l.name,value:t(`sampling.${o}.env`)??"all",onChange:e=>{n(`sampling.${o}.env`,e.target.value)},selectClassName:"capitalize",children:(0,r.jsx)(S,{})})}),(0,r.jsx)(x.Table.Cell,{className:"border-b border-solid border-gray-200 rounded-none max-w-20 py-4",children:(0,r.jsx)(i.Input,{error:d,showErrorMessage:!1,className:"[&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",suffix:"%","aria-labelledby":`sampling-rate-${o}`,typeName:"number",min:"0",max:"100",step:"1",size:"small",defaultValue:"100",style:{width:"100px"},value:"number"==typeof c?`${100*c}`:c,onChange:e=>{let t=e.target.valueAsNumber;"number"!=typeof t||Number.isNaN(t)?n(`sampling.${o}.rate`,t,{shouldDirty:!0}):n(`sampling.${o}.rate`,t/100,{shouldDirty:!0})}})}),(0,r.jsx)(x.Table.Cell,{className:"border-b border-solid border-gray-200 rounded-none py-4",children:(0,r.jsx)(i.Input,{"aria-labelledby":`request-path-${o}`,placeholder:`/api/example-${o+1}`,...e(`sampling.${o}.requestPath`),size:"small"})}),(0,r.jsx)(x.Table.Cell,{className:"border-b border-r border-solid border-gray-200 rounded-none py-4",children:(0,r.jsx)(y.Button,{size:"small",type:"tertiary",onClick:()=>m(o),"aria-label":"Remove sampling config",children:(0,r.jsx)(b.Trash,{color:"gray-700",size:16})})})]},a.id)}),(0,r.jsx)(x.Table.Row,{children:(0,r.jsx)(x.Table.Cell,{colSpan:4,className:"border-b border-l border-r border-solid border-gray-200 !rounded-bl !rounded-br py-4 pl-4",children:(0,r.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-1 flex-initial",children:(0,r.jsx)(j.Tooltip,{text:"You can configure up to 10 sampling rules",disableTriggers:d.length<10,className:"",children:(0,r.jsx)(y.Button,{onClick:()=>p({type:"head_sampling",env:l?"all":o[0],rate:1}),size:"small",type:"tertiary",disabled:d.length>=10,typeName:"button",children:"Add Sampling Rule"})})})})})]})]}),c&&(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,r.jsx)(a.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:"text-copy-14 text-red-900",children:c})]})]})}function S(){let{watch:e}=(0,u.useFormContext)(),t=e("filters.deployment.environments");return 0===t.length||2===t.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("option",{value:"all",children:"All Environments"}),(0,r.jsx)("option",{value:"production",children:"Production"}),(0,r.jsx)("option",{value:"preview",children:"Preview"})]}):(0,r.jsx)(r.Fragment,{children:t.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})}var w=e.i(4597921);let C=["lambda","edge","static","external","build","firewall","redirect"];function I(){let{watch:e,setValue:t,register:i,formState:{errors:s}}=(0,u.useFormContext)(),a=e("filters.log.sources"),o=(0,p.useCallback)(e=>{a.includes(e)?t("filters.log.sources",a.filter(t=>t!==e),{shouldDirty:!0}):t("filters.log.sources",[...a,e],{shouldDirty:!0})},[a,t]);return(0,p.useEffect)(()=>{i("filters.log.sources",{required:"required"})},[i]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsx)(l.FormTitleDescription,{description:"Logs from the selected sources will be forwarded to your drain. At least one must be selected.",title:"Sources"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-3 @md-page:grid-cols-3",children:C.map(e=>(0,r.jsx)(n.Checkbox,{className:"cursor-pointer rounded-md border border-gray-200 p-3 hover:border-gray-300",checked:a.includes(e),onChange:()=>o(e),children:c.sourceLabelMap[e]},e))}),(0,r.jsx)(E,{error:s.filters?.log?.sources?.message})]}),(0,r.jsx)(D,{})]})}function k(){return(0,r.jsx)(r.Fragment,{})}function T(){let{setValue:e,watch:t,register:i}=(0,u.useFormContext)(),n=t("sampling",[{type:"head_sampling",rate:1}]);return(0,p.useEffect)(()=>{i("sampling")},[]),(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,r.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"Sampling"}),(0,r.jsxs)("span",{style:{minWidth:30,fontSize:"12px"},children:[Math.round((n?.[0]?.rate??1)*100),"%"]}),(0,r.jsx)("div",{style:{maxWidth:"200px",flex:1},children:(0,r.jsx)(s.Slider,{max:100,min:1,onValueChange:t=>{e("sampling",[{type:"head_sampling",rate:t[0]/100}],{shouldDirty:!0})},value:[Math.round((n?.[0]?.rate??1)*100)]})})]}),(0,r.jsx)("p",{className:"text-copy-14 text-gray-900",children:"A percentage of data matching the sampling rate will be sent to your drain from the selected environments."})]})}function D(){let{watch:e,setValue:t,formState:{errors:i}}=(0,u.useFormContext)(),s=e("filters.deployment.environments"),a=(e,r)=>{r?t("filters.deployment.environments",[...s,e],{shouldDirty:!0}):t("filters.deployment.environments",s.filter(t=>t!==e),{shouldDirty:!0})};return(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsx)(l.FormTitleDescription,{description:"Select which environments to drain from.",title:"Environment"}),(0,r.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-6 flex-initial",children:[(0,r.jsx)(n.Checkbox,{checked:s.includes("production"),onChange:e=>{a("production",e.target.checked)},children:"Production"}),(0,r.jsx)(n.Checkbox,{checked:s.includes("preview"),onChange:e=>{a("preview",e.target.checked)},children:"Preview"})]}),(0,r.jsx)(E,{error:i.filters?.deployment?.environments?.message})]})}function E(e){let{error:t}=e;return t?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(a.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:"text-copy-14 text-red-900",children:t})]}):null}e.s(["configureDrainStep",0,{title:"Configure the drain",component:function(){let{watch:e,setValue:t,register:n,clearErrors:s,formState:{errors:a}}=(0,u.useFormContext)(),l=e("drainType"),c="logs"===l||"traces"===l,g=(0,w.useServerFlag)("drains-advanced-sampling",!1)&&c,f=e("projects"),x=e("projectIds")||[],v=h();(0,p.useEffect)(()=>{n("projects",{required:"required"}),n("projectIds")},[]);let{data:y,isLoading:j}=(0,m.useProjects)(x.length>0?x:void 0),b=y||[],[N,S]=(0,p.useState)([]);return(0,r.jsx)("div",{className:"pt-4 max-w-2xl",children:(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,r.jsx)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial w-full",children:(0,r.jsx)(i.Input,{label:"Drain Name",id:"drain-name",placeholder:`My ${(0,d.getDrainTypeLabel)(l)} drain`,width:"100%",className:"flex-1",error:a.name?.message,...n("name")})}),(0,r.jsx)(o.ProjectSelector,{error:a.projects?.message||a.projectIds?.message,projects:b,projectType:"all"===f?o.ProjectTypes.ALL:o.ProjectTypes.SOME,onProjectsUpdated:e=>{t("projectIds",e.map(e=>e.id),{shouldDirty:!0}),s("projectIds"),S(e)},onProjectTypeUpdated:e=>{s("projectIds"),t("projects",e===o.ProjectTypes.ALL?"all":"some",{shouldDirty:!0}),e===o.ProjectTypes.ALL?(b.length>0&&S(b),t("projectIds",void 0,{shouldDirty:!0})):t("projectIds",(N.length>0?N:b).map(e=>e.id),{shouldDirty:!0})},title:"Projects",description:"Choose which projects should send data to the specified endpoint.",disabled:!1,isLoading:j&&0===b.length,loadingCount:x.length,comboboxListContainer:v}),"logs"===l&&(0,r.jsx)(I,{}),"traces"===l&&(0,r.jsx)(k,{}),g?(0,r.jsx)(_,{}):(0,r.jsx)(T,{})]})})},getFieldsToValidate:()=>["name","projects","projectIds","filters.log.sources","filters.deployment.environments","sampling"],getIsNextEnabled:()=>!0}],3614887);var $=e.i(1265647),A=e.i(4469437),P=e.i(9334091),L=e.i(1906681),M=e.i(2455417),R=e.i(8735244),z=e.i(6607601),O=e.i(8225664),q=e.i(198667),F=e.i(6318858),H=e.i(4819890),B=e.i(1933683),V=e.i(3973638);let U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",G=(t=(e,t)=>{if(e<0||e>65536)throw RangeError('The value of "size" is out of range. It must be >= 0 && <= 65536. Received '+e);var r=new Uint8Array(e);return(globalThis.crypto.getRandomValues(r),t)?(setTimeout(()=>t(null,r),0),new Uint8Array):r},e=>new Promise(async(r,i)=>{Number.isInteger(e)?e<=0?i(Error("You must supply a length integer greater than zero")):t(e,(e,n)=>{let s;if(e)return i(e);let a=[];for(let e=0;e<n.length;e++){for(s=n[e];s>248;)try{s=t(1)[0]}catch(e){i(e)}a.push(U[s%U.length])}r(a.join(""))}):i(TypeError("You must supply a length integer to `uid-promise`."))}));async function W(e){return G(e)}e.s(["generateSecret",0,W],8249103);var K=e.i(8804984),Y=e.i(6695099),Z=e.i(277234),J=e.i(5338940);function Q(e){if(!e)throw Error("Drain type is required");switch(e){case"logs":return{log:{version:"v1"}};case"traces":return{trace:{version:"v1"}};case"analytics":return{analytics:{version:"v1"}};case"speed_insights":return{speed_insights:{version:"v1"}}}}e.s(["getDrainTypeFromDrain",0,function(e){return e.schemas?.log?"logs":e.schemas?.trace?"traces":e.schemas?.analytics?"analytics":e.schemas?.speed_insights?"speed_insights":"logs"},"getSchemaForDrainType",0,Q],3456281);let[X,ee]=(0,Y.default)(function(){let{team:e}=(0,J.useTeam)(),[t,r]=(0,p.useState)({status:"idle"});return{validationState:t,validateEndpoint:async t=>{r({status:"validating"});try{let{delivery:i,drainType:n}=t,s=Q(n),a={type:i?.type||"http",endpoint:i?.endpoint||"",encoding:i?.encoding||"json",headers:i?.headers||{},...i?.secret&&{secret:i.secret}},o=await (0,Z.fetchAPI)(`/v1/drains/test${e?.id?`?teamId=${e.id}`:""}`,{method:"POST",body:{schemas:s,delivery:a},returnStatus:!0,throwOnHTTPError:!1});if(o.status&&o.status>=200&&o.status<300&&o.body){let{status:e,statusCode:t}=o.body;if(e){if("success"===e)return r({status:"success",message:"Success: Your endpoint sent a 2xx status"}),!0;if("failure"===e){if(t)return r({status:"error",message:`Error: Your endpoint sent a ${t} status instead of 2xx, fix it and try again`}),!1;return r({status:"error",message:"Error: Your endpoint did not reply, fix it and try again"}),!1}}}return r({status:"error",message:"Unknown error, please contact support"}),!1}catch(e){return r({status:"error",message:"Unknown error, please contact support"}),!1}},resetValidation:()=>{r({status:"idle"})}}});function et(e){let{icon:t,onClick:i,successDuration:n=1e3,...s}=e,[a,o]=(0,p.useState)(!1),[l,c]=(0,p.useState)(!0),d=(0,p.useRef)(null),u=async()=>{c(!1),d.current&&clearTimeout(d.current),await i(),o(!0),d.current=setTimeout(()=>{o(!1)},n)};return(0,r.jsx)(y.Button,{...s,onClick:u,children:(0,r.jsxs)("div",{style:{position:"relative",height:16,width:16},children:[(0,r.jsx)("div",{className:`absolute inset-0 transition-all duration-150 ease-out ${l?"opacity-0 scale-50":!l&&a?"opacity-100 scale-100":"opacity-0 scale-50"}`,children:(0,r.jsx)(F.Check,{size:16})}),(0,r.jsx)("div",{className:`absolute inset-0 transition-all duration-150 ease-out ${l||!l&&!a?"opacity-100 scale-100":"opacity-0 scale-50"}`,children:t})]})})}e.s(["EndpointValidationProvider",0,X,"useEndpointValidationContext",0,ee],4789955);let er={http:[{value:"json",label:"JSON"},{value:"ndjson",label:"NDJSON"}],otlphttp:[{value:"json",label:"JSON"},{value:"proto",label:"Protobuf"}]},ei={input:e=>e?Object.entries(e).map(e=>{let[t,r]=e;return`${t}: ${r}`}).join("\n"):"",output(e,t,r){if(!e)return{};let i=e.split("\n").filter(e=>e.trim()),n=[],s=i.reduce((e,t,r)=>{let[i,...s]=t.split(":"),a=s.join(":"),o=en(i?.trim()||""),l=en(a?.trim()||"");return o&&l?e[o]=l:n.push(`Line ${r+1}: "${t}"`),e},{});return n.length>0?t("delivery.headers",{message:`Invalid header format: ${n.join(", ")}. Expected format: "Header-Name: Header-Value"`}):r("delivery.headers"),s}};function en(e){return e?e.replace(/""+/g,'"').replace(/''+/g,"'").replace(/^["']+|["']+$/g,""):e}e.s(["CustomEndpointEditor",0,function(){let e,t,n,{watch:s,setValue:o,register:l,setError:d,clearErrors:m,formState:{errors:g}}=(0,u.useFormContext)(),{validationState:h,validateEndpoint:x,resetValidation:v}=ee();(0,p.useEffect)(()=>()=>{m(),v()},[]);let b=s("delivery.headers"),N=s("delivery.type"),_=s("delivery.endpoint"),S=s("drainType"),[w,C]=(0,p.useState)(ei.input(b||{})),[I,k]=(0,p.useState)(w.length>0),[T,D]=(0,p.useState)(!1),E=s("delivery.secret");return"string"==typeof _?(e="https://your-endpoint.com/ingest",t="delivery.endpoint"):(e="https://your-otlp-endpoint.com/v1/traces",t="delivery.endpoint.traces"),(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial pt-4 max-w-2xl",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 @md-page:grid-cols-[3fr_1fr] @md-page:gap-2 @md-page:items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,r.jsx)(i.Input,{id:"drain-url",label:"URL",prefix:"POST",placeholder:e,width:"100%",...l(t,{onChange:()=>{v(),m(t)}})}),(0,r.jsx)(j.Tooltip,{desktopOnly:!0,text:"Send an example payload to your endpoint for testing",children:(0,r.jsx)(y.Button,{"aria-label":"Test endpoint",type:"secondary",typeName:"button",disabled:!(n="string"==typeof _?_:_?.traces)||!c.httpUrl.safeParse(n).success||h?.status==="validating",svgOnly:!0,onClick:()=>{x(s())},prefix:h?.status==="validating"?(0,r.jsx)(R.Spinner,{size:16}):(0,r.jsx)(H.PlayCircle,{size:16}),children:"Test"})})]}),(0,K.get)(g,`${t}.message`)&&(0,r.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,r.jsx)(a.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:"text-copy-14 text-red-900",children:(0,K.get)(g,`${t}.message`)})]}),h&&"idle"!==h.status&&(0,r.jsx)("div",{className:"mt-2 flex items-center gap-2",children:"validating"===h.status?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.LoadingDots,{}),(0,r.jsx)("p",{className:"text-copy-13 text-gray-900",children:"Validating endpoint"})]}):(0,r.jsxs)(r.Fragment,{children:["success"===h.status?(0,r.jsx)(F.Check,{size:14,color:"green-700"}):(0,r.jsx)(a.Stop,{size:14,color:"red-700"}),(0,r.jsx)("p",{className:`text-copy-13 ${"success"===h.status?"text-green-900":"text-red-900"}`,children:h.message})]})})]}),(0,r.jsx)(f.Select,{label:"Encoding",placeholder:"Select encoding",...l("delivery.encoding"),children:er[N].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),S&&(0,r.jsxs)("div",{className:"text-xs text-gray-900 text-right @md-page:text-right @sm-page:text-left",children:["Need help with the data format?"," ",(0,r.jsxs)("a",{href:{logs:"/docs/drains/reference/logs",traces:"/docs/drains/reference/traces",speed_insights:"/docs/drains/reference/speed-insights",analytics:"/docs/drains/reference/analytics"}[S],target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["View"," ","speed_insights"===S?"Speed Insights":"analytics"===S?"Analytics":S.charAt(0).toUpperCase()+S.slice(1)," ","schema "]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,r.jsx)(i.Input,{label:(0,r.jsxs)(r.Fragment,{children:["Signature verification secret"," ",(0,r.jsxs)("span",{className:"text-gray-900 normal-case",children:["(optional,"," ",(0,r.jsx)("a",{href:"/docs/drains/security",target:"_blank",rel:"noopener noreferrer",className:"text-gray-900 hover:text-gray-700 underline",children:"How to use it"})]}),")"]}),id:"drain-secret",placeholder:"32-character secret",width:"100%",className:"font-mono tracking-wider",typeName:T?"text":"password",prefix:(0,r.jsx)(y.Button,{"aria-label":"Toggle password visibility",variant:"unstyled",svgOnly:!0,typeName:"button",onClick:()=>D(!T),className:"-ml-1",children:T?(0,r.jsx)(V.EyeOff,{size:16}):(0,r.jsx)(B.Eye,{size:16})}),prefixStyling:!1,suffix:(0,r.jsx)(O.CopyButton,{textToCopy:"string"==typeof E?E:"",label:"Copy secret",title:"Copy secret to clipboard",disabled:"string"!=typeof E||!E,variant:"unstyled",className:"-mr-1"}),suffixStyling:!1,...l("delivery.secret")}),(0,r.jsx)(et,{"aria-label":"Generate new secret",shape:"square",svgOnly:!0,type:"secondary",typeName:"button",icon:(0,r.jsx)(q.RefreshClockwise,{size:16}),onClick:async()=>{o("delivery.secret",await W(32),{shouldDirty:!0})}})]})}),(0,r.jsx)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:(0,r.jsx)(L.Toggle,{checked:I,id:"custom-headers",onChange:k,size:"medium",direction:"switch-first",children:(0,r.jsx)("p",{className:"text-copy-14",children:"Custom Headers"})})}),(0,r.jsx)(A.AnimatePresence,{initial:!1,children:I&&(0,r.jsx)($.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut",opacity:{duration:.2}},children:(0,r.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,r.jsx)(P.Textarea,{error:(0,K.get)(g,"delivery.headers.message"),"aria-labelledby":"Custom Headers (Optional)",className:"font-mono",onBlur:()=>{o("delivery.headers",ei.output(w,d,m),{shouldDirty:!0})},onChange:e=>C(e.target.value),placeholder:"Authorization: Bearer token X-Custom-Header: value",rows:3,value:w}),(0,r.jsxs)("p",{className:"text-copy-13 text-gray-900",children:["Format: Header-Name: Header-Value (one per line). The"," ",(0,r.jsx)(z.InlineCode,{children:"content-type"})," header is automatically added."]})]})})})})]})}],5664328)},4576858,3226981,4758962,e=>{"use strict";var t=e.i(1381818),r=e.i(1053524),i=e.i(4237893),n=e.i(6064230),s=e.i(762896),a=e.i(7694836),o=e.i(5664328);e.i(6887680);var l=e.i(6810699),c=e.i(3758860),d=e.i(9957872),u=e.i(4245131),p=e.i(8161149),m=e.i(5255926),g=e.i(5468328);e.i(8703064);var h=e.i(648779),f=e.i(4325157),x=e.i(1017032),v=e.i(9668517),y=e.i(3584802),j=e.i(109803),b=e.i(57106);function N(e){let{drainType:i}=e,n=(0,v.useTeamSlug)(),s="logs"===i?"logDrain":"traceDrain",{data:a,isLoading:o}=(0,f.useMarketplaceIntegrations)({protocolType:s}),{data:d,isLoading:p}=(0,l.useResourceList)({protocolType:s}),{data:g,isLoading:N}=(0,x.useConfigurations)({type:"provisioning",skipBillingData:!0,skip:!1}),_=(0,r.useMemo)(()=>{if(!a||!d||!g)return[];let e=[];for(let t of a)for(let r of t.products)(0,c.isProtocolSupported)(r,s)&&e.push({product:r,integration:t});return e},[a,d,g,s]);return o||p||N?(0,t.jsx)(u.Description,{title:(0,t.jsx)("h2",{className:"text-sm font-medium",children:"Available products"}),content:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[1,2].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 p-4 border border-gray-alpha-400 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,t.jsx)(m.Skeleton,{width:36,height:36,rounded:!0}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(m.Skeleton,{width:"80%",height:14,className:"mb-2"}),(0,t.jsx)(m.Skeleton,{width:"60%",height:12})]})]}),(0,t.jsx)(m.Skeleton,{width:60,height:32})]},e))})}):0!==_.length&&n?(0,t.jsx)(u.Description,{title:(0,t.jsx)("h2",{className:"text-sm font-medium",children:"Available products"}),content:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:_.map(e=>{let{product:r,integration:i}=e,s=(0,y.getIntegrationCheckoutUrl)({params:{integrationSlug:i.slug,teamSlug:n},searchParams:{productSlug:r.slug,cancelUrl:`${window.location.pathname}${window.location.search}`}});return(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 p-4 border border-gray-alpha-400 rounded-lg hover:border-gray-600 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)(h.ProductIcon,{icon:r.iconUrl,size:"large"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("div",{className:"text-sm font-medium truncate",title:r.name,children:r.name}),(0,t.jsx)("div",{className:"text-sm text-gray-600 truncate",title:i.name,children:i.name})]})]}),(0,t.jsx)(b.ButtonLink,{size:"small",type:"secondary",href:s,target:"_blank",rel:"noopener noreferrer",suffix:(0,t.jsx)(j.External,{}),children:"Install"})]},r.id)})})}):null}function _(){let{watch:e,setValue:i}=(0,a.useFormContext)(),n=e("source"),s=e("drainType"),o=n&&"resourceId"in n?n.resourceId??"":"",{data:f,isLoading:x}=(0,l.useResourceList)({protocolType:"traceDrain"}),{data:v,isLoading:y}=(0,l.useResourceList)({protocolType:"logDrain"}),j=(0,r.useMemo)(()=>{let e=[];return"traces"===s&&f?.stores?e.push(...f.stores.filter(e=>(0,c.isProtocolSupported)(e.product,"traceDrain"))):"logs"===s&&v?.stores&&e.push(...v.stores.filter(e=>(0,c.isProtocolSupported)(e.product,"logDrain"))),e},[f,v,s]);if(x||y)return(0,t.jsx)(u.Description,{title:(0,t.jsx)("h2",{className:"text-sm font-medium",children:"Installed products"}),content:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 border border-gray-alpha-400 rounded-lg",children:[(0,t.jsx)(m.Skeleton,{width:40,height:40,rounded:!0}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(m.Skeleton,{width:"80%",height:14,className:"mb-2"}),(0,t.jsx)(m.Skeleton,{width:"60%",height:12})]})]},e))})});let b="logs"===s||"traces"===s;return 0===j.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.EmptyState.Root,{title:"No Integrations Installed",description:"Add an integration that supports drains to get started."}),b&&(0,t.jsx)("div",{className:"flex flex-col gap-6 mt-6",children:(0,t.jsx)(N,{drainType:s})})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)(u.Description,{title:(0,t.jsx)("h2",{className:"text-sm font-medium",children:"Installed products"}),content:(0,t.jsx)(d.ChoiceboxGroup,{type:"radio",label:"Select resource",direction:"row",value:o,onChange:e=>{i("source",{kind:"integration",resourceId:e})},className:"[&>ul]:grid [&>ul]:grid-cols-2 [&>ul]:gap-3 [&_label>div>span:first-child]:overflow-hidden [&_label>div>span:first-child>span]:overflow-hidden",children:j.map(e=>(0,t.jsx)(d.ChoiceboxGroup.Item,{value:e.id,title:(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)(h.ProductIcon,{icon:e.product.iconUrl,size:"large"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1 overflow-hidden",children:[(0,t.jsx)(g.Tooltip,{text:e.name,className:"block truncate",children:(0,t.jsx)("span",{className:"truncate text-sm font-medium block",children:e.name})}),(0,t.jsxs)("div",{className:"truncate text-sm text-gray-600",title:`${e.product.name}${e.billingPlan?.name?` - ${e.billingPlan.name}`:""}`,children:[e.product.name,e.billingPlan?.name?` - ${e.billingPlan.name}`:""]})]})]})},e.id))})}),b&&(0,t.jsx)(N,{drainType:s})]})}var S=e.i(7609806),w=e.i(1282571);function C(e){let{protocolType:r,limit:i=3,size:n=20}=e,{data:s,isLoading:a,error:o}=(0,f.useMarketplaceIntegrations)({protocolType:r});if(a||o||!s||0===s.length)return null;let l=s.map(e=>({uid:e.id,component:(0,t.jsx)(w.MarketplaceIntegrationCardIcon,{icon:e.icon,name:e.name,size:n})}));return(0,t.jsx)(S.AvatarGroup,{members:l,size:n,limit:i})}function I(e,r){if(r)return null;let i="logs"===e?"logDrain":"traces"===e?"traceDrain":null;return i?(0,t.jsx)(C,{protocolType:i}):null}e.s(["configureDestinationStep",0,{title:"Configure the destination",component:function(){let{watch:e,setValue:l}=(0,a.useFormContext)(),c=e("source"),d=e("mode"),u=e("drainType"),p=(0,r.useMemo)(()=>c?.kind==="integration"?"native-integrations":"custom",[c]),m=I(u,!1);return"update"===d&&c?.kind!=="integration"||"logs"!==u&&"traces"!==u?(0,t.jsx)(o.CustomEndpointEditor,{}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial pt-4 max-w-2xl",children:[(0,t.jsx)(i.Tabs,{selected:p,setSelected:e=>{"native-integrations"===e?l("source",{...c,kind:"integration"}):l("source",{...c,kind:"self-served"})},tabs:[{title:"Custom Endpoint",value:"custom",icon:(0,t.jsx)(n.Terminal,{size:16})},{title:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:["Native Integrations",m]}),value:"native-integrations",icon:(0,t.jsx)(s.LogoVercelFill,{size:16})}]}),"custom"===p?(0,t.jsx)(o.CustomEndpointEditor,{}):(0,t.jsx)(_,{})]})},getFieldsToValidate:e=>e.source?.kind==="integration"?["source","source.resourceId"]:["delivery.endpoint","delivery.encoding","delivery.headers","source"],getIsNextEnabled:e=>e.source?.kind!=="integration"||!!("resourceId"in e.source&&e.source.resourceId),getSuffix:I}],4576858);var k=e.i(9722978),T=e.i(2504781),D=e.i(4030453);e.s(["StepWrapper",0,function(e){let{children:r,onNext:i,onBack:n,isFirstStep:s=!1,isLastStep:a=!1,nextLabel:o="Next",isLoading:l=!1,isNextDisabled:c=!1,error:d}=e;return(0,t.jsxs)(t.Fragment,{children:[r,(0,t.jsxs)("div",{className:`flex flex-row items-stretch justify-start gap-2 flex-initial ${(0,k.default)(!a&&"pb-6")}`,children:[!s&&(0,t.jsx)(T.Button,{onClick:n,type:"secondary",typeName:"button",children:"Back"}),i&&(0,t.jsx)(T.Button,{loading:l,disabled:c,onClick:i,typeName:"button",children:o})]}),d&&a&&(0,t.jsx)(D.Error,{children:d})]})}],3226981);var E=e.i(5298575),$=e.i(9979783),A=e.i(5338940),P=e.i(319451),L=e.i(6060673);e.s(["useCreateDrain",0,function(e,t){let{team:r}=(0,A.useTeam)(),{data:i}=(0,L.useProject)(t),n=(0,P.getDrainsKey)({teamIdOrSlug:e,projectIdOrSlug:t,includeMetadata:!0}),{trigger:s,isMutating:a}=(0,E.default)(n,async(e,t)=>{let{arg:n}=t;if(!r?.id)throw Error("Team ID is required");let s={teamId:r.id,...i&&{projectId:i.id}};return(await (0,$.typedFetch)("/v1/drains","post",s,n,{throwOnHTTPError:!0})).body},{throwOnError:!0});return{createDrain:s,isCreating:a}}],4758962)},8404074,e=>{"use strict";var t=e.i(5298575),r=e.i(3657238),i=e.i(9979783),n=e.i(5338940),s=e.i(319451);e.s(["useUpdateDrain",0,function(e,a){let{team:o}=(0,n.useTeam)(),l=(0,s.getDrainsKey)({teamIdOrSlug:e,projectIdOrSlug:a,includeMetadata:!0}),{trigger:c,isMutating:d,error:u}=(0,t.default)(l,async(e,t)=>{let{arg:n}=t;if(!o?.id)throw Error("Team ID is required");let{id:s,...a}=n;(0,r.mutate)(l,e=>{if(e)return{...e,drains:e.drains.map(e=>e.id===s?{...e,...(e=>{let t={};for(let[r,i]of Object.entries(e))t[r]=null===i?void 0:i;return t})(a)}:e)}},!1);try{let e=await (0,i.typedFetch)("/v1/drains/{id}","patch",{id:s,teamId:o.id},a,{throwOnHTTPError:!0});if((0,r.mutate)(l),200!==e.status)throw console.error("Failed to update drain:",e.body),Error("Failed to update drain");return e.body}catch(e){throw console.error("Failed to update drain:",e),(0,r.mutate)(l),e}},{throwOnError:!0});return{updateDrain:c,isUpdating:d,error:u}}])},2521731,e=>{"use strict";var t=e.i(2704354);function r(e){let t=e.toLowerCase().replace("-","").replace(" ","");return!(t.length<2)&&["kv","keyvalue"].some(e=>e.startsWith(t)||t.startsWith(e))}function i(e){let t=e.toLowerCase().replace(/\s/g,"");return["postgres","postgresql","postgress","postgressql"].some(e=>e.startsWith(t)||t.startsWith(e))}e.s(["integrationMatchesSearch",0,function(e,t){if(!t.trim())return!0;let n=t.toLowerCase().trim(),s=e.products?.some(e=>{let s=e.name.toLowerCase().includes(n),a=e.tags?.some(e=>e===`tag_${n}`),o=r(t)&&(e.tags?.includes("redis")||e.tags?.includes("kv")),l=i(t)&&e.tags?.some(e=>e.toLowerCase().startsWith("postgres"));return s||a||o||l}),a=e.name.toLowerCase().includes(n);return s||a},"integrationPubliclyVisible",0,function(e){return(0,t.isMarketplaceIntegration)(e)?e.products.some(e=>"published"===e.reviewStatus):!0===e.public&&void 0!==e.approvedAt},"integrationSupportsLogDrains",0,function(e){return"scopes"in e&&e.scopes.includes("read-write:log-drain")},"searchMatchesKV",0,r,"searchMatchesLogDrains",0,function(e){let t=e.toLowerCase().replace("-","").replace(" ","");return!!("logdrain".startsWith(t)||"logdrains".startsWith(t)||"logs".startsWith(t))},"searchMatchesPostgres",0,i])},7908739,e=>{"use strict";e.s(["HIDE_ADD_BUTTON_SLUGS",0,["bigcommerce"],"HIDE_DEPLOY_BUTTON_SLUGS",0,["agility-cms","gel","motherduck"]])},6269556,e=>{"use strict";var t=e.i(4655443),r=e.i(1053524),i=e.i(6838069);e.s(["useMarketplaceNavigation",0,function(){let e=(0,t.useSearchParams)(),n=(0,t.useParams)(),s=e?.get("category")??null,a=e?.get("search")??null,o=!!e?.get("expanded"),l=!!e?.get("isPreview"),c=(0,r.useMemo)(()=>n?.teamSlug?{teamSlug:n.teamSlug.toString(),isPublic:!1}:{isPublic:!0,teamSlug:void 0},[n?.teamSlug]);return{categorySlug:s,isRootCategory:!s||!!o,searchQuery:a,expanded:o,teamSlugOrPublic:c,isPreview:!!l,getBrowseMarketplaceLink:e=>(0,i.getBrowseMarketplaceLink)({teamSlugOrPublic:c,...e})}}])},7594446,e=>{"use strict";var t=e.i(1717203),r=e.i(7557283);e.s(["useIntegrationPermissions",0,function(){let{can:e,isLoading:i}=(0,t.default)(),n=e(r.Action.Read,r.Resource.IntegrationConfigurationProjects);return{canReadProjects:n,canUpdateIntegrationConfiguration:e(r.Action.Update,r.Resource.IntegrationConfiguration),canCreateIntegrationConfiguration:e(r.Action.Create,r.Resource.IntegrationConfiguration),isLoading:i}}])},6315360,e=>{e.v({bradcrumbsWrapper:"details-layout-module__xg7Djq__bradcrumbsWrapper",breadcrumbsText:"details-layout-module__xg7Djq__breadcrumbsText",cta:"details-layout-module__xg7Djq__cta",header:"details-layout-module__xg7Djq__header",marketplaceDetailsProductsGrid:"details-layout-module__xg7Djq__marketplaceDetailsProductsGrid",marketplaceProduct:"details-layout-module__xg7Djq__marketplaceProduct",message:"details-layout-module__xg7Djq__message",mobileHeaderButtons:"details-layout-module__xg7Djq__mobileHeaderButtons",wrapper:"details-layout-module__xg7Djq__wrapper"})},1033832,e=>{"use strict";var t=e.i(1381818),r=e.i(5468328),i=e.i(4991687),n=e.i(6694387),s=e.i(8459493),a=e.i(8674454),o=e.i(4064233),l=e.i(57106),c=e.i(1053524),d=e.i(5338940),u=e.i(1857939),p=e.i(2504781),m=e.i(3225905),g=e.i(7668531),h=e.i(2704354),f=e.i(7908739),x=e.i(6838069),v=e.i(1017032),y=e.i(8794163),j=e.i(4065455),b=e.i(6269556),N=e.i(7594446),_=e.i(6315360),S=e.i(9722978);let w={normal:{foreground:"#000",background:"#fff",border:"#fff"},hover:{foreground:"#fff",background:"#000",border:"#fff"},active:{foreground:"#fff",background:"#000",border:"#fff"}};function C(e){let{isCta:r,...i}=e;return r?(0,t.jsx)(g.CustomButtonLink,{...w,...i}):(0,t.jsx)(l.ButtonLink,{...i})}function I(e){let{isCta:r,...i}=e;return r?(0,t.jsx)(m.CustomButton,{...w,...i}):(0,t.jsx)(p.Button,{...i})}function k(e){let{integration:i,isCta:n,type:s,size:a,className:o,loginRedirect:l}=e,{isLoggedOut:p}=(0,u.useIsLoggedIn)(),{teamSlugOrPublic:m}=(0,b.useMarketplaceNavigation)(),{canCreateIntegrationConfiguration:g}=(0,N.useIntegrationPermissions)(),f=s??((0,h.isMarketplaceIntegration)(i)?"secondary":"default"),{isReady:_,team:S}=(0,d.useTeam)(),{hasConfigurations:w,data:k}=(0,v.useConfigurations)({integrationId:i.id,type:"external",skip:m.isPublic,skipBillingData:!0}),T=k?.[0],[D,E]=(0,c.useState)(!1),$=!!(S?.billing?.plan==="hobby"||S?.billing?.trial)&&i.proOnly,A=!g,P=$||A,L=!!(0,y.useV0Marketplace)()?.token;if((0,h.isMarketplaceOnlyIntegration)(i))return null;let M=!i.canInstall&&!!i.hiddenAt;return T&&m.teamSlug?(0,t.jsx)(r.Tooltip,{disableTriggers:g,text:g?void 0:"You don't have permission to manage this integration.",children:(0,t.jsx)(C,{className:o,href:(0,x.getInstallationDetailsLink)({teamSlug:m.teamSlug,configurationId:T.id,integrationSlug:i.slug,isMarketplace:!1}),isCta:n,type:f,size:a,disabled:!g,children:"Manage"})}):M?null:p?(0,t.jsx)(C,{className:o,disabled:(0,h.isLegacyIntegration)(i),href:l??`/login?next=${(0,x.getIntegrationDetailsLink)({integrationSlug:i.slug,teamSlugOrPublic:m,isFromV0:L})}`,isCta:n,type:f,size:a,rel:"nofollow",children:"Connect Account"}):(0,t.jsxs)(t.Fragment,{children:[w?null:(0,t.jsx)(r.Tooltip,{disableTriggers:!P,text:A?"You need additional permissions to install integrations.":"You need a paid account to install this integration",children:(0,t.jsx)(I,{className:o,disabled:P,isCta:n,onClick:()=>E(!0),type:f,size:a,children:"Connect Account"})}),D&&_?(0,t.jsx)(j.InstallExternalIntegrationModal,{account:S,integration:i,onAnimationDone:()=>E(!1),teamSlugOrPublic:m}):null]})}e.s(["ConnectAndTemplateMenu",0,function(){let{size:e,integrationSlug:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r&&f.HIDE_DEPLOY_BUTTON_SLUGS.includes(r)?null:(0,t.jsxs)(i.MenuContainer,{children:[(0,t.jsx)(n.MenuButton,{"aria-label":"More",shape:"square",svgOnly:!0,type:"secondary",size:e,children:(0,t.jsx)(o.MoreHorizontal,{})}),(0,t.jsx)(a.Menu,{children:(0,t.jsx)(s.MenuItem,{children:(0,t.jsx)(l.Link,{href:"#template",prefetch:!1,children:"Deploy Template"})})})]})},"ConnectExternalIntegrationButton",0,k,"ConnectExternalIntegrationCTA",0,function(e){let{integration:r}=e,{teamSlugOrPublic:i}=(0,b.useMarketplaceNavigation)(),{hasConfigurations:n}=(0,v.useConfigurations)({integrationId:r.id,type:"external",skip:i.isPublic,skipBillingData:!0}),s=!r.canInstall&&!!r.hiddenAt;return n||s?null:(0,t.jsx)("div",{className:_.default.wrapper,children:(0,t.jsxs)("div",{className:(0,S.default)("flex flex-col items-stretch justify-start gap-3 flex-initial",_.default.cta),children:[(0,t.jsxs)("div",{className:_.default.message,children:["Get started with Vercel and ",r.name,"."]}),(0,t.jsx)(k,{integration:r,isCta:!0})]})})}])},7589392,3199886,e=>{"use strict";var t=e.i(1381818),r=e.i(1053524),i=e.i(2504781),n=e.i(455575),s=e.i(5806401),a=e.i(6942035),o=e.i(6318858),l=e.i(109803),c=e.i(7694836),d=e.i(9412123),u=e.i(6143247),p=e.i(2199694),m=e.i(7662235),g=e.i(3614887),h=e.i(4576858),f=e.i(3226981),x=e.i(4758962),v=e.i(8404074),y=e.i(3456281);function j(e){let{filters:t}=e;if(!t)return;let r=t?.deployment?.environments?.length>0,i=t?.log?.sources?.length>0;if(i||r)return{version:"v2",filter:{type:"basic",...i?{log:t.log}:{},...r?{deployment:t.deployment}:{}}}}var b=e.i(6818658),N=e.i(3196486),_=e.i(7917902),S=e.i(4789955),w=e.i(8249103),C=e.i(1094129),I=e.i(9572009),k=e.i(4110479);e.i(8703064);var T=e.i(648779);function D(e){let{drain:i,active:n,onClose:a,teamSlug:o,projectIdOrSlug:l,onDrainCreated:c,onDrainUpdated:d,onOpenExternalModal:p,drainType:m,defaultProjectId:g}=e,h=(0,r.useRef)(null);return(0,t.jsx)(s.Sheet,{open:n,onOpenChange:e=>!e&&a(),children:(0,t.jsx)(s.SheetContent,{ref:h,className:(0,u.cn)("m-3 h-[calc(100%-1.5rem)] w-[calc(100%-1.5rem)] overflow-y-auto rounded-[1rem] bg-white p-0 pb-6 lg:w-3/4 sm:max-w-[800px]"),side:"right",children:(0,t.jsx)(I.SheetContainerContext.Provider,{value:h.current,children:(0,t.jsx)(S.EndpointValidationProvider,{children:(0,t.jsx)(E,{drain:i,onClose:a,teamSlug:o,projectIdOrSlug:l,onDrainCreated:c,onDrainUpdated:d,onOpenExternalModal:p,drainType:m,defaultProjectId:g})})})})})}function E(e){let{drain:o,onClose:I,teamSlug:D,projectIdOrSlug:E,onDrainCreated:A,onDrainUpdated:P,onOpenExternalModal:L,drainType:M,defaultProjectId:R}=e,z=o?"update":"create",O=(0,n.useToasts)(),q=M?2:1,[F,H]=(0,r.useState)(q),{validateEndpoint:B}=(0,S.useEndpointValidationContext)(),V=(0,k.useOptionalDrainModalContext)(),U=V?.resource,G=(0,c.useForm)({resolver:(0,d.zodResolver)(C.DrainFormSchema),defaultValues:async()=>{let e,t,r;if("update"!==z||!o)return(e=>{let{secret:t,resourceId:r,drainType:i,projectId:n}=e;return{mode:"create",name:"",...n?{projectIds:[n],projects:"some"}:{projects:"all",projectIds:[]},drainType:i,filters:{log:{sources:[]},deployment:{environments:[]}},delivery:r?void 0:{type:"http",endpoint:"",encoding:"json",secret:t,headers:{},compression:void 0},sampling:[],source:r?{kind:"integration",resourceId:r}:{kind:"self-served"}}})({secret:await (0,w.generateSecret)(32),resourceId:U?.id,drainType:M,projectId:R});return e=function(e){if(!e)return{log:{sources:[]},deployment:{environments:[]}};if("v2"===e.version)if("basic"===e.filter.type)return{log:{sources:e.filter.log?.sources||[]},deployment:{environments:e.filter.deployment?.environments||[]}};else return{log:{sources:[]},deployment:{environments:[]}};throw Error("Unsupported filter version")}(o.filterV2),t=(0,y.getDrainTypeFromDrain)(o),r=o.source?.kind==="integration"?void 0:o.delivery?.type==="http"||o.delivery?.type==="otlphttp"?o.delivery:void 0,{mode:"update",name:o.name??"",projects:o.projectAccess.access,projectIds:"some"===o.projectAccess.access?o.projectAccess.projectIds:void 0,drainType:t,filters:e,delivery:r,sampling:o.sampling,source:o.source}}}),W=(0,r.useCallback)(()=>{I(),G.reset(),H(q)},[I,G,q]),{handleSubmit:K,isLoading:Y}=function(e){let{teamSlug:t,projectIdOrSlug:i,drainId:n,onSuccess:s,onError:a,onDrainCreated:o}=e,{team:l,user:c}=(0,_.useAccount)(),{createDrain:d,isCreating:u}=(0,x.useCreateDrain)(t,i),{updateDrain:m,isUpdating:g}=(0,v.useUpdateDrain)(t,i);return{handleSubmit:(0,r.useCallback)(async e=>{try{if((0,p.isCreateFlow)(e)){let t={name:e.name.trim(),projects:e.projects,projectIds:e.projectIds,...e.delivery&&{delivery:e.delivery},sampling:e.sampling,schemas:(0,y.getSchemaForDrainType)(e.drainType),filter:j({filters:e.filters}),...e.source&&{source:e.source}},r=await d(t);o?.(e,r)}else if((0,p.isUpdateFlow)(e)){if(!n)throw Error("Drain ID is required for update mode");let t={id:n,...void 0!==e.name&&{name:e.name.trim()},...void 0!==e.status&&{status:e.status},...void 0!==e.delivery&&{delivery:e.delivery},...void 0!==e.sampling&&{sampling:e.sampling},...void 0!==e.filters&&{filter:j({filters:e.filters})},...(void 0!==e.projectIds||void 0!==e.projects)&&{projectIds:e.projectIds,projects:e.projects}};await m(t),e.status&&(0,N.sendToSnowflake)(b.Topic.VercelAppV0LogDrainToggle,{event_time:Date.now(),user_id:null!==c?c.uid:"",team_id:null!==l?l.id:"",log_drain_id:n,enabled:"enabled"===e.status},"vercel-app")}s?.()}catch(e){a?.(e)}},[d,m,n,t,i,s,a,l,c,o]),isLoading:u||g}}({teamSlug:D,projectIdOrSlug:E,drainId:o?.id,onSuccess:async()=>{"update"===z&&await P?.(),W(),O.success({text:`Drain ${"create"===z?"created":"updated"} successfully.`,key:`${"create"===z?"add":"edit"}-drain`})},onError:e=>{console.error(e),G.setError("root.serverError",{message:e.message}),O.error({text:`Failed to ${z} drain`})},onDrainCreated:e=>{A?.({drainType:e.drainType,kind:e.source?.kind==="integration"?`integration${"externalResourceId"in e.source?"-external":""}`:e.source?.kind})}}),Z=(0,r.useCallback)(async e=>{if(G.clearErrors(),(0,p.isCreateFlow)(e))await K(e);else if(G.formState.isDirty&&Object.keys(G.formState.dirtyFields).length>0){var t;let r,i,n=(t=G.formState.dirtyFields,r=t.projects||t.projectIds,i=Object.keys(t).reduce((r,i)=>t[i]?{...r,[i]:e[i]}:r,{}),r?{...i,projects:e.projects,projectIds:e.projectIds}:i);await K({...n,mode:"update",drainType:e.drainType})}else W(),O.success({text:"No changes to save.",key:"edit-drain"})},[K,G.formState.isDirty,G.formState.dirtyFields,O,W,G.clearErrors,A,o]),J=(0,r.useMemo)(()=>{let e=[m.chooseDrainDataStep,g.configureDrainStep,h.configureDestinationStep],t=[g.configureDrainStep,h.configureDestinationStep];return U&&(e=[m.chooseDrainDataStep,g.configureDrainStep],t=[g.configureDrainStep]),("update"===z?t:e).map((e,t)=>({...e,id:t+1,number:t+1,isComplete:t+1<F,isActive:F===t+1,disabled:t+1>F}))},[z,F,U]),Q=J.length,X=J.find(e=>e.id===F),ee=async()=>{let e=G.getValues(),t=X?.getFieldsToValidate(e);if(!t)return;let r=await G.trigger(t),i=e.source?.kind==="self-served";if(r&&X?.component===h.configureDestinationStep.component)if(i){if(G.setValue("source",{kind:"self-served"}),!await B(e)){let t="string"==typeof e.delivery?.endpoint?"delivery.endpoint":"delivery.endpoint.traces";G.setError(t,{message:""});return}}else G.setValue("delivery",void 0);r&&(F===Q?G.handleSubmit(Z,e=>{console.error("[DrainModal] RHF validation failed with errors:",e)})():F<Q&&H(F+1))},et=()=>{F>1&&(G.clearErrors(),H(F-1))};return(0,t.jsxs)("main",{className:"flex h-full shrink-0 grow-0 flex-col",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 bg-background-100 pt-7",children:(0,t.jsxs)("section",{className:"flex items-center justify-start gap-4 px-8",children:[(0,t.jsxs)(s.SheetTitle,{className:"text-heading-24 flex items-center gap-4",children:[(0,t.jsxs)("span",{children:["create"===z?"Add":"Edit"," Drain"]}),U&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,t.jsx)(T.ProductIcon,{icon:U.product.iconUrl,size:"medium"}),(0,t.jsx)("span",{children:U.name})]})]}),(0,t.jsx)(s.SheetDescription,{className:"sr-only",children:"Configure a drain to send your data to external services"}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-3",children:["create"===z&&!U&&L&&(0,t.jsx)(i.Button,{type:"tertiary",size:"small",onClick:L,suffix:(0,t.jsx)(l.External,{}),className:"!text-gray-600 hover:!text-gray-900",children:"External Integrations"}),(0,t.jsx)(i.Button,{svgOnly:!0,"aria-label":"close modal",shape:"circle",size:"tiny",onClick:W,className:"!border-0 !bg-transparent",children:(0,t.jsx)(a.Cross,{color:"gray-1000"})})]})]})}),(0,t.jsx)("div",{className:"px-8 pb-4 pt-6",children:(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)(c.FormProvider,{...G,children:(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),ee()},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ee())},children:J.map(e=>{let r=e.getSuffix?.(G.watch("drainType"),e.isActive);return(0,t.jsxs)("div",{children:[(0,t.jsx)($,{step:e,onClick:()=>{var t;(t=e.number)>F||(G.clearErrors(),H(t))},suffix:r}),e.isActive&&(0,t.jsx)("div",{className:`flex flex-col items-stretch justify-start gap-6 flex-initial ${(0,u.cn)("pl-6 ml-[1.6rem] -mt-1 -mb-1",e.number!==Q&&"border-gray-400 border-dashed border-l")}`,children:(()=>{var e,r,i;if(!X)return null;let n=X.component,s=X.getIsNextEnabled(G.getValues());return(0,t.jsx)(f.StepWrapper,{error:G.formState.errors.root?.serverError?.message,isLoading:Y,onNext:ee,onBack:et,isFirstStep:1===F,isLastStep:F===Q,nextLabel:(e=F,r=Q,i=z,e===r?"create"===i?"Create Drain":"Update Drain":"Next"),isNextDisabled:!s,children:(0,t.jsx)(n,{})})})()})]},e.number)})})})})})]})}function $(e){let{step:r,onClick:i,suffix:n}=e;return(0,t.jsxs)("div",{className:(0,u.cn)("flex items-center gap-3 px-3 py-3 cursor-pointer transition-colors",{"hover:bg-gray-50":!r.disabled&&!r.isActive,"opacity-80 cursor-not-allowed":r.disabled&&r.isNext,"opacity-50 cursor-not-allowed":r.disabled&&!r.isNext,"hover:bg-success-100":r.isComplete&&!r.isActive}),onClick:i,title:r.isComplete&&!r.isActive?"Click to return to this step":void 0,children:[(0,t.jsx)("div",{className:(0,u.cn)("flex size-7 items-center justify-center rounded-full text-sm font-medium border",{"bg-success text-black border-success":r.isComplete,"bg-black text-white border-black":!r.isComplete&&r.isActive,"bg-white text-gray-900 border-gray-500":!r.isComplete&&!r.isActive}),children:r.isComplete?(0,t.jsx)(o.Check,{size:14}):r.number}),(0,t.jsx)("p",{className:(0,u.cn)("text-[16px] leading-[24px]",r.isActive&&"font-medium"),children:r.title}),n]})}e.s(["DrainModal",0,D],3199886);var A=e.i(6891161),P=e.i(57106),L=e.i(1017032),M=e.i(2704354),R=e.i(9668517),z=e.i(850302),O=e.i(2521731),q=e.i(1282571),F=e.i(1033832),H=e.i(7743427);function B(e){let{config:r,teamSlug:i}=e,{data:n,isLoading:s}=(0,H.useIntegration)(r.integrationId,{teamId:i});return s||!n?null:(0,t.jsx)(q.MarketplaceIntegrationCard,{Actions:(0,t.jsx)(P.ButtonLink,{size:"small",type:"secondary",prefix:(0,t.jsx)(l.External,{size:14}),href:(0,M.getConfigureUrl)(n,r.id),target:"_blank",children:"Configure"}),className:"p-3 px-4",disabled:!0,href:"#",icon:n.icon,title:n.name,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-1000",children:n.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-900",children:["Connected ",new Date(r.createdAt).toLocaleDateString()]})]})})}function V(e){let r,{teamSlug:i,onClose:n}=e,{data:s}=(0,L.useConfigurations)({skipBillingData:!0}),{data:a}=(r=(0,R.useTeamSlug)(),(0,z.default)(r?(0,M.getMarketplaceIntegrationsApiUrl)({integrationType:"external",teamIdOrSlug:r}):null,e=>fetch(e).then(e=>e.json()))),o=s?.filter(e=>"external"===e.installationType&&e.scopes.includes("read-write:log-drain"))||[],l=Array.isArray(a)?a.filter(e=>!!(0,O.integrationSupportsLogDrains)(e)&&!s?.some(t=>"external"===t.installationType&&t.integrationId===e.id)):[];return(0,t.jsxs)(A.Modal.Modal,{active:!0,onClickOutside:n,children:[(0,t.jsxs)(A.Modal.Body,{children:[(0,t.jsx)(A.Modal.Header,{children:(0,t.jsx)(A.Modal.Title,{center:!0,children:"External Integration Log Drains"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-6 mt-4",children:[o.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-1000 mb-3",children:"Installed Integrations"}),(0,t.jsx)("div",{className:"rounded-md border border-accents-2 shadow-[0px_1px_2px_0px_rgba(0,0,0,0.04)]",children:o.map(e=>(0,t.jsx)(B,{config:e,teamSlug:i},e.id))})]}),l.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-1000 mb-3",children:"Available Integrations"}),(0,t.jsx)("div",{className:"rounded-md border border-accents-2 shadow-[0px_1px_2px_0px_rgba(0,0,0,0.04)]",children:l.map(e=>(0,t.jsx)(q.MarketplaceIntegrationCard,{Actions:(0,t.jsx)(F.ConnectExternalIntegrationButton,{integration:e,size:"small"}),className:"p-3 px-4",disabled:!0,href:"#",icon:e.icon,title:e.name,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-1000",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-gray-900",children:e.shortDescription})]})},e.id))})]}),0===o.length&&0===l.length&&(0,t.jsx)("p",{className:"text-center py-8 text-gray-700",children:"No external integrations available for log drains."})]})]}),(0,t.jsxs)(A.Modal.Actions,{children:[(0,t.jsx)("div",{}),(0,t.jsx)(A.Modal.Action,{type:"secondary",onClick:n,children:"Close"})]})]})}var U=e.i(8633387);e.s(["DrainModals",0,function(e){let{isOpen:i,closeModal:n,teamSlug:s,projectIdOrSlug:a,onDrainCreated:o,drain:l,drainType:c}=e,[d,u]=(0,r.useState)(!1),{data:p}=(0,U.useDashboardProject)({projectSlug:a,teamSlug:s});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D,{drain:l,active:i,onClose:()=>{n()},teamSlug:s,projectIdOrSlug:a,onDrainCreated:o,onOpenExternalModal:()=>{n(),u(!0)},drainType:c,defaultProjectId:p?.id},l?.id),d&&(0,t.jsx)(V,{teamSlug:s,onClose:()=>u(!1)})]})}],7589392)}]);

//# debugId=4a839403-095a-0dc0-b0a1-d6d9830190fe
//# sourceMappingURL=ef05bef9157d8711.js.map