;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="97957ffe-df2b-c279-e39e-2522aadeec2e")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,291786,e=>{"use strict";var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.s(["default",0,function(e){return t.test(e)}])},2218591,e=>{"use strict";var t=e.i(7761765);let a=function(e,a,n){var i=e.length;return n=void 0===n?i:n,!a&&n>=i?e:(0,t.default)(e,a,n)};var n=e.i(291786),i="\\ud800-\\udfff",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",s="[^"+i+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+r+"|"+o+")?",u="[\\ufe0e\\ufe0f]?",p="(?:\\u200d(?:"+[s,l,c].join("|")+")"+u+d+")*",g=RegExp(o+"(?="+o+")|"+("(?:"+[s+r+"?",r,l,c,"["+i+"]"].join("|"))+")"+(u+d+p),"g"),m=e.i(8946843);e.s(["default",0,function(e){e=(0,m.default)(e);var t,i=(0,n.default)(e)?(t=e,(0,n.default)(t)?t.match(g)||[]:t.split("")):void 0,r=i?i[0]:e.charAt(0),o=i?a(i,1).join(""):e.slice(1);return r.toUpperCase()+o}],2218591)},6881271,e=>{e.v(JSON.parse('["aaa","aarp","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","link","live","living","lk","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mv","mw","mx","my","mz","na","nab","nagoya","name","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shell","shia","shiksha","shoes","shop","shopping","shouji","show","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","vermögensberater","vermögensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volvo","vote","voting","voto","voyage","vu","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","ελ","ευ","бг","бел","дети","ею","католик","ком","мкд","мон","москва","онлайн","орг","рус","рф","сайт","срб","укр","қаз","հայ","ישראל","קום","ابوظبي","ارامكو","الاردن","البحرين","الجزائر","السعودية","العليان","المغرب","امارات","ایران","بارت","بازار","بيتك","بھارت","تونس","سودان","سورية","شبكة","عراق","عرب","عمان","فلسطين","قطر","كاثوليك","كوم","مصر","مليسيا","موريتانيا","موقع","همراه","پاکستان","ڀارت","कॉम","नेट","भारत","भारतम्","भारोत","संगठन","বাংলা","ভারত","ভাৰত","ਭਾਰਤ","ભારત","ଭାରତ","இந்தியா","இலங்கை","சிங்கப்பூர்","భారత్","ಭಾರತ","ഭാരതം","ලංකා","คอม","ไทย","ລາວ","გე","みんな","アマゾン","クラウド","グーグル","コム","ストア","セール","ファッション","ポイント","世界","中信","中国","中國","中文网","亚马逊","企业","佛山","信息","健康","八卦","公司","公益","台湾","台灣","商城","商店","商标","嘉里","嘉里大酒店","在线","大拿","天主教","娱乐","家電","广东","微博","慈善","我爱你","手机","招聘","政务","政府","新加坡","新闻","时尚","書籍","机构","淡马锡","游戏","澳門","点看","移动","组织机构","网址","网店","网站","网络","联通","谷歌","购物","通販","集团","電訊盈科","飞利浦","食品","餐厅","香格里拉","香港","닷넷","닷컴","삼성","한국"]'))},9859596,e=>{e.v({$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0})},4350397,e=>{e.v({$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1})},9219571,e=>{"use strict";var t=e.i(850302),a=e.i(277234),n=e.i(4244280),i=e.i(5338940);e.s(["useMarketplaceBillingBalance",0,function(e,r){let{team:o}=(0,i.useTeam)(),s=r?.teamId||o?.id;return(0,t.default)(()=>{if(!s||!e)return null;let t=new URLSearchParams({teamId:s}).toString();return`${n.API_INTEGRATION_CONTROLLER}/installations/${e}/billing/balance?${t}`},async e=>{let t=await (0,a.fetchAPI)(e,{throwOnHTTPError:!0});if(!t)return{balance:null,threshold:null};let n=t.balances?.find(e=>void 0===e.resourceId),i=t.thresholds?.find(e=>void 0===e.resourceId);return{balance:n?{currencyValueInCents:n.currencyValueInCents}:null,threshold:i?{billingPlanId:i.billingPlanId,minimumAmountInCents:i.minimumAmountInCents,purchaseAmountInCents:i.purchaseAmountInCents,maximumAmountPerPeriodInCents:i.maximumAmountPerPeriodInCents}:null}},r)}])},7623643,e=>{"use strict";var t=e.i(277234),a=e.i(4244280),n=e.i(9186321);function i(e,t){return e?e.length>t?e.substring(0,t):e:""}async function r(e){let{integration:r,teamId:o,source:s,acceptedPolicies:l,metadata:c,billingPlanId:d,authorizationId:u}=e,p=new URLSearchParams;o&&p.append("teamId",o);let g=p.toString(),m=r.flags?.includes(n.LaunchDarklyIntegrationFlags.AwsIntegration)===!0?function(){try{let e=navigator.userAgent;return{userAgent:i(e,500),operatingSystem:function(e){if(/Windows/i.test(e))return/Windows NT 10\.0/.test(e)?"Windows-10":/Windows NT 11/.test(e)?"Windows-11":/Windows NT 6\.3/.test(e)?"Windows-8_1":/Windows NT 6\.2/.test(e)?"Windows-8":/Windows NT 6\.1/.test(e)?"Windows-7":"Windows";if(/Mac OS X|Macintosh/i.test(e)){let t=e.match(/Mac OS X (\d+)[._](\d+)/);return t?`macOS-${t[1]}_${t[2]}`:"macOS"}if(/Linux/i.test(e)&&!/Android/i.test(e))return"Linux";if(/Android/i.test(e)){let t=e.match(/Android (\d+)/);return t?`Android-${t[1]}`:"Android"}if(/iPhone|iPad|iPod/i.test(e)){let t=e.match(/OS (\d+)_(\d+)/);return t?`iOS-${t[1]}_${t[2]}`:"iOS"}return/CrOS/i.test(e)?"ChromeOS":"Unknown"}(e),timezone:function(){try{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&/^[A-Za-z]+(?:\/[A-Za-z_]+)*$/.test(e))return e;return"UTC"}catch{return"UTC"}}(),acceptedLanguage:function(){try{if(navigator.language)return navigator.language;if(navigator.languages&&navigator.languages.length>0)return navigator.languages[0];return"en-US"}catch{return"en-US"}}(),acceptedCharset:"UTF-8",...function(){try{let e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return{capabilitiesJsWebgl:!1,gpuVendor:"unknown",gpuModel:"unknown"};let a=t.getExtension("WEBGL_debug_renderer_info");if(a){let e=t.getParameter(a.UNMASKED_VENDOR_WEBGL),n=t.getParameter(a.UNMASKED_RENDERER_WEBGL);return{capabilitiesJsWebgl:!0,gpuVendor:i(e||"unknown",100),gpuModel:i(n||"unknown",200)}}let n=t.getParameter(t.VENDOR),r=t.getParameter(t.RENDERER);return{capabilitiesJsWebgl:!0,gpuVendor:i(n||"unknown",100),gpuModel:i(r||"unknown",200)}}catch(e){return{capabilitiesJsWebgl:!1,gpuVendor:"error",gpuModel:"error"}}}(),plugins:function(){try{if(!navigator.plugins||0===navigator.plugins.length)return"none";let e=Array.from(navigator.plugins).map(e=>e.name).filter(e=>e?.trim()).join(" ");return i(e||"none",1e3)}catch(e){return"error"}}()}}catch{return{userAgent:"",operatingSystem:"Unknown",timezone:"UTC",acceptedLanguage:"en-US",acceptedCharset:"UTF-8",capabilitiesJsWebgl:!1,gpuVendor:"error",gpuModel:"error",plugins:"error"}}}():void 0;return await (0,t.fetchAPI)(`${a.API_INTEGRATION_CONTROLLER_V2}/integration/${r.id}/marketplace/install${g?`?${g}`:""}`,{method:"POST",body:{acceptedPolicies:l,source:s??"marketplace",metadata:c,billingPlanId:d,authorizationId:u,deviceFingerprint:m},throwOnHTTPError:!0})}e.s(["installMarketplaceIntegration",0,r],7623643)},3922573,1155101,9288372,e=>{"use strict";var t=e.i(1381818),a=e.i(8522580);e.i(9623499);var n=e.i(5576066),i=e.i(553769),r=e.i(3758860),o=e.i(2218591);e.s(["upperFirst",()=>o.default],1155101);var o=o,s=e.i(4655443),l=e.i(1053524),c=e.i(1853611),d=e.i(6352514),u=e.i(8042625),p=e.i(277234),g=e.i(5338940),m=e.i(4244280);function h(e){let{integration:t,source:a,productSlug:n}=e,{team:i}=(0,g.useTeam)(),r=(0,s.useRouter)(),o=(0,s.useSearchParams)(),h=(0,l.useRef)(null),[f,x]=(0,l.useState)(!1),[y,b]=(0,l.useState)(null),[v,j]=(0,l.useState)(void 0),k=async function(){let e,{projects:r,additionalQueryParameters:s,productSlug:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=l||n,f=`${window.location.origin}/integrations/${t.slug}/loading`,y=null,v=o?.get("state");try{h.current=e=window.open(f,"_blank")}catch{e=null}c.analytics.track(d.AnalyticsEvent.INTEGRATION_POPUP_INSTALL_STARTED,{source:a,target:"team",integration:{id:t.id,slug:t.slug}});let k=await (0,p.fetchAPI)(`${m.API_INTEGRATION_CONTROLLER}/integration/${t.slug}/configuration${(0,u.encode)({teamId:i?.id})}`);"error"in k||(y=k);let w=await (0,p.fetchAPI)(y?`${m.API_INTEGRATION_CONTROLLER}/integration/${t.slug}/configuration/${y.id}${(0,u.encode)({teamId:i?.id})}`:`${m.API_INTEGRATION_CONTROLLER}/integration/${t.slug}/configuration${(0,u.encode)({teamId:i?.id})}`,{method:"POST",body:JSON.stringify({projects:r,source:a,scopes:t.scopes})});y||(y=w.configuration);let C=w.authorizationCode,_=`${window.location.origin}/${i?.slug}/~/integrations/${y.id}/installed${g?`?productSlug=${g}`:""}`,A=`${t.redirectUri}${(0,u.encode)({state:v,code:C,teamId:i?.id,configurationId:y.id,source:y.source,...s,...g?{productSlug:g}:{},next:_})}`,N=!1;if(e)try{e.location.href=A,N=!0,x(!0)}catch{}N||window.location.assign(A),b(y),j(g)};return(0,l.useEffect)(()=>{let e;if(!f||!y)return;let a=y.id;async function n(){if((await (0,p.fetchAPI)(`${m.API_INTEGRATION_CONTROLLER}/configuration/${a}${(0,u.encode)({teamId:i?.id})}`,{method:"GET"})).completedAt){let e=v?`/${i?.slug}/~/integrations/checkout/${t.slug}?installationId=${a}&productSlug=${v}`:`/${i?.slug}/~/integrations/${t.slug}/${a}`;r.push(e);return}e=window.setTimeout(n,3e3)}return e=window.setTimeout(n,3e3),()=>{clearTimeout(e)}},[f,y,i,r,t,v]),{open:e=>{k(e??{})}}}function f(e){let{error:a,integration:n,integrationConfigurationId:i,teamIdOrSlug:r,preselectedProduct:o}=e,s=h({integration:n,source:"marketplace",productSlug:o?.slug});return(0,t.jsx)(x,{error:a,integration:n,openConnectPage:s,integrationConfigurationId:i,teamIdOrSlug:r,preselectedProduct:o})}function x(e){let{error:a,integration:i,openConnectPage:s,integrationConfigurationId:l,teamIdOrSlug:c,preselectedProduct:d}=e,u=function(e,t){if(t.slug.includes("aws")){var a=e;switch(a.toUpperCase()){case"EMAIL_ALREADY_EXISTS":return"You already have an AWS account";case"BLOCKED_EMAIL_ADDRESS_DOMAIN":return"";case"INVALID_LOCATION":return"New AWS account creation through Vercel is not available in your region";case"ACCOUNT_OWNER_ALREADY_EXISTS":case"ACCOUNT_ALREADY_CLOSED":case"SAML_METADATA_INVALID":return"We couldn't complete your request";case"FRAUD":case"INTERNAL_FAILURE":return"AWS couldn't process your request";case"QUOTA_EXCEEDED":return"Resource limit reached";default:return null}}}(a.originalError.externalCode,i),p=function(e,a,i,o,s,l){if(a.slug.includes("aws")&&i){var c=e,d=a,u=i,p=o,g=s,m=l;switch(c.toUpperCase()){case"EMAIL_ALREADY_EXISTS":return(0,t.jsxs)(t.Fragment,{children:["Your email is associated with an existing AWS account.",d.capabilities?.connectedProvisioning?(0,t.jsxs)(t.Fragment,{children:[" ","To continue,"," ",(0,t.jsx)(n.Link,{external:!0,onClick:e=>{e.preventDefault(),u.open()},href:"#",children:"link your existing account"}),".",(0,t.jsx)("br",{}),"If your company uses single-sign-on to access your AWS account, first sign into your account using your existing method before continuing to connect your account."]}):null]});case"BLOCKED_EMAIL_ADDRESS_DOMAIN":return(0,t.jsxs)(t.Fragment,{children:["The domain associated with this email does not allow AWS sign-up. Contact your AWS administrator for assistance. To continue with a different email, update the primary email on your"," ",(0,t.jsx)(n.Link,{external:!0,href:"https://vercel.com/account/settings#email",children:"Vercel account"})," ","to use an email address not associated with an existing AWS account. A new AWS account will be created for that email when you add the integration."]});case"INVALID_LOCATION":return(0,t.jsxs)(t.Fragment,{children:["To continue, create a new"," ",(0,t.jsx)(n.Link,{external:!0,href:"https://aws.amazon.com/free/",children:"AWS account"})," ","and link it with Vercel."]});case"FRAUD":return(0,t.jsxs)(t.Fragment,{children:["There was an error processing your request. Try again, or contact"," ",(0,t.jsx)(n.Link,{external:!0,href:"https://aws.amazon.com/contact-us/",children:"AWS Support"})," ","for assistance."]});case"ACCOUNT_OWNER_ALREADY_EXISTS":case"ACCOUNT_ALREADY_CLOSED":case"INTERNAL_FAILURE":return"There was an error processing your request. Reload the page to try again.";case"SAML_METADATA_INVALID":return(0,t.jsxs)(t.Fragment,{children:["There was an error processing your request. Try again, or contact"," ",(0,t.jsx)(n.Link,{external:!0,href:"https://vercel.com/help",children:"Vercel Support"})," ","for assistance."]});case"QUOTA_EXCEEDED":{let e=g&&m?(0,r.getIntegrationDeepLink)({integrationConfigurationId:g,teamIdOrSlug:m}):null;return(0,t.jsxs)(t.Fragment,{children:["You've reached the maximum number of ",p?.name," ","resources available with the free plan. To remove all limitations, upgrade your account plan",e&&(0,t.jsxs)(t.Fragment,{children:[" ","on AWS"," ",(0,t.jsx)(n.Link,{external:!0,href:e,children:"here"})]}),"."]})}default:return null}}}(a.originalError.externalCode,i,s,d,l,c);return u||p?u&&p?(0,t.jsxs)(y,{children:[u,(0,t.jsx)("br",{}),p]}):(0,t.jsx)(y,{children:u||p}):(0,t.jsx)(y,{children:(0,o.default)(a.form||"There was an unexpected error.")})}function y(e){let{children:n}=e;return(0,t.jsx)(a.Note,{fill:!0,type:"error",children:n})}e.s(["useInstallIntegrationOpen",0,h],9288372),e.s(["InstallationProcessError",0,function(e){var a;let{error:n,integration:r,integrationConfigurationId:s,teamIdOrSlug:l,preselectedProduct:c}=e;return n?"string"==typeof n?(0,t.jsx)(y,{children:(0,o.default)(n)}):(a=n).originalError&&"externalCode"in a.originalError&&(0,i.isAwsIntegration)(r)?(0,t.jsx)(f,{error:n,integration:r,integrationConfigurationId:s,teamIdOrSlug:l,preselectedProduct:c}):(0,t.jsx)(y,{children:(0,o.default)(n.form||"There was an unexpected error.")}):null}],3922573)},8647445,e=>{"use strict";var t=e.i(1381818),a=e.i(57106),n=e.i(1906681),i=e.i(1053524),r=e.i(5684165);e.s(["useResourceProtocolSettings",0,function(e){let[o,s]=(0,i.useState)(void 0);return{protocolSettingsForm:(0,i.useMemo)(()=>{if("protocols"in e&&e.protocols.experimentation?.edgeConfigSyncingSupport){let e=o?.experimentation?.edgeConfigSyncingEnabled??!1;return(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:(0,t.jsx)(r.IntegrationResourceFormControlWithDescription,{controlKey:"",description:(0,t.jsxs)(t.Fragment,{children:["Synchronizes integration data with Edge Config for ultra-low latency resolution. Additional costs may apply for Edge Config usage."," ",(0,t.jsx)(a.Link,{external:!0,href:"https://vercel.com/docs/integrations/marketplace-flows#experimentation-edge-config-syncing",tab:!0,variant:"highlight",children:"Learn more"})]}),children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,t.jsx)(n.Toggle,{checked:e,onChange:e=>{s(t=>({...t,experimentation:{...t?.experimentation,edgeConfigSyncingEnabled:e}}))},size:"large"}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-900",children:"Enable Edge Config Syncing"})]})})})}return null},[e,o,s]),protocolSettings:o}}])},5628754,e=>{"use strict";e.i(5313122),e.i(9203481),e.i(680627),e.i(8026771),e.i(9691190),e.s([])},4422059,e=>{"use strict";var t=e.i(1053524);e.s(["usePrevious",0,function(e){let a=(0,t.useRef)(void 0);return(0,t.useEffect)(()=>{a.current=e}),a.current}])},8139291,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 4C7.17157 4 6.5 3.32843 6.5 2.5C6.5 1.67157 7.17157 1 8 1C8.82843 1 9.5 1.67157 9.5 2.5C9.5 3.32843 8.82843 4 8 4ZM8 9.5C7.17157 9.5 6.5 8.82843 6.5 8C6.5 7.17157 7.17157 6.5 8 6.5C8.82843 6.5 9.5 7.17157 9.5 8C9.5 8.82843 8.82843 9.5 8 9.5ZM6.5 13.5C6.5 14.3284 7.17157 15 8 15C8.82843 15 9.5 14.3284 9.5 13.5C9.5 12.6716 8.82843 12 8 12C7.17157 12 6.5 12.6716 6.5 13.5Z" fill="currentColor"/>');e.s(["MoreVertical",0,t])},9712980,e=>{e.v({button:"dots-menu-module__9VTPLq__button",container:"dots-menu-module__9VTPLq__container",disabled:"dots-menu-module__9VTPLq__disabled",menu:"dots-menu-module__9VTPLq__menu"})},779588,e=>{"use strict";var t=e.i(1381818),a=e.i(9722978),n=e.i(4004502),i=e.i(8139291),r=e.i(4064233),o=e.i(8674454),s=e.i(6694387),l=e.i(4991687),c=e.i(9544652),d=e.i(6143247),u=e.i(9712980);e.s(["DotsMenu",0,function(e){let{children:p,closeOnSelect:g,disabled:m,iconSize:h=18,menuButtonProps:f,menuButtonClassName:x,menuListTestId:y="",horizontal:b=!0,...v}=e;return(0,t.jsxs)(l.MenuContainer,{closeOnSelect:g,position:"bottom-end",children:[(0,t.jsx)(s.MenuButton,{className:(0,d.cn)(u.default.button,x),"data-testid":(0,n.tid)("legacy","dots-menu"),disabled:m,shape:"square",size:"small",type:"tertiary",...f,children:(0,t.jsx)(c.DisabledContext.Consumer,{children:e=>(0,t.jsx)("span",{className:(0,a.clsx)(u.default.container,{[String(u.default.disabled)]:e||m}),"data-geist-dots-menu":"",children:(0,t.jsx)("span",{className:u.default.menu,children:b?(0,t.jsx)(r.MoreHorizontal,{size:h}):(0,t.jsx)(i.MoreVertical,{size:h})})})})}),(0,t.jsx)(o.Menu,{"data-testid":(0,n.tid)("legacy","dots-menu-list",y),style:{minWidth:200},width:"auto",...v,children:p})]})}])},9716741,e=>{"use strict";var t=e.i(1381818),a=e.i(1053524),n=e.i(9722978);function i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e?a.default.createElement(n,{},t):t}function r(e){let a=a=>{let{noMargin:i,weight:r,code:o,uppercase:s,capitalize:l,center:c,Component:d=e,children:u,className:p,preset:g,maxWidth:m,style:h,...f}=a;return(0,t.jsx)(d,{className:(0,n.clsx)(p,"geist-text",{"geist-text-no-margin":i,"geist-text-mono":o,"geist-text-upper":s,"geist-text-capitalize":l,"geist-text-center":c},g||e,r?`w-${r}`:void 0),style:{maxWidth:m,...h},...f,children:u})};return a.displayName="Text_"+e,a}let o=r("h1"),s=r("h2"),l=r("h3"),c=r("h4"),d=r("h5"),u=r("h6"),p=r("p"),g=[o,s,l,c,d,u,p,r("small"),r("span")],m=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{defaultFill:r,hasFill:o}=i;function s(a){var i;let{className:s,forwardedRef:l,...c}=a,{type:d}=c,u=c.fill||r;!1===o&&(u=r||!1);let p=(0,n.clsx)((i=u,d?["geist-themed",`geist-${d}`,i?`geist-${d}-fill`:null]:null),s);return(0,t.jsx)(e,{className:p,...c,ref:l})}let l=(e,a)=>(0,t.jsx)(s,{...e,forwardedRef:a});return l.displayName=e.displayName||e.name,a.default.forwardRef(l)}(function(e){let{Component:a,h1:n,h2:r,h3:o,h4:s,h5:l,h6:c,p:d,small:u,span:m,mark:h,underline:f,strike:x,bold:y,italic:b,children:v,...j}=e,k=g[[n,r,o,s,l,c,d,u,m].indexOf(!0)]||p;return(0,t.jsx)(k,{Component:a,...j,children:((e,t)=>{let{mark:a,underline:n,strike:r,bold:o,italic:s}=t,l=e;return l=i(a,l,"mark"),l=i(n,l,"u"),l=i(r,l,"s"),l=i(o,l,"b"),l=i(s,l,"i")})(v,{mark:h,underline:f,strike:x,bold:y,italic:b})})},{hasFill:!1});e.s(["H1",0,o,"H2",0,s,"H3",0,l,"H4",0,c,"H5",0,d,"H6",0,u,"P",0,p,"default",0,m],9716741)},7186942,e=>{e.v({actions:"entity-module__Nhea9G__actions",avatar:"entity-module__Nhea9G__avatar",avatarRow:"entity-module__Nhea9G__avatarRow",avatarWrap:"entity-module__Nhea9G__avatarWrap",checkbox:"entity-module__Nhea9G__checkbox",content:"entity-module__Nhea9G__content",description:"entity-module__Nhea9G__description",descriptionWithAvatar:"entity-module__Nhea9G__descriptionWithAvatar",disabled:"entity-module__Nhea9G__disabled",editing:"entity-module__Nhea9G__editing",entity:"entity-module__Nhea9G__entity",entityGroup:"entity-module__Nhea9G__entityGroup",field:"entity-module__Nhea9G__field",filled:"entity-module__Nhea9G__filled",first:"entity-module__Nhea9G__first",footer:"entity-module__Nhea9G__footer",form:"entity-module__Nhea9G__form",formFooter:"entity-module__Nhea9G__formFooter",formFooterDestructiveAction:"entity-module__Nhea9G__formFooterDestructiveAction",formFooterNote:"entity-module__Nhea9G__formFooterNote",formFooterNoteInline:"entity-module__Nhea9G__formFooterNoteInline",formFooterPrimaryAction:"entity-module__Nhea9G__formFooterPrimaryAction",formFooterSecondaryAction:"entity-module__Nhea9G__formFooterSecondaryAction",formFooterSpacer:"entity-module__Nhea9G__formFooterSpacer",formTitle:"entity-module__Nhea9G__formTitle",header:"entity-module__Nhea9G__header",label:"entity-module__Nhea9G__label",last:"entity-module__Nhea9G__last",menu:"entity-module__Nhea9G__menu",rightAligned:"entity-module__Nhea9G__rightAligned",separator:"entity-module__Nhea9G__separator",sm:"entity-module__Nhea9G__sm",specifierHack:"entity-module__Nhea9G__specifierHack",thumbnail:"entity-module__Nhea9G__thumbnail",title:"entity-module__Nhea9G__title",vertical:"entity-module__Nhea9G__vertical"})},2530776,e=>{"use strict";var t=e.i(1381818),a=e.i(9722978),n=e.i(779588),i=e.i(5255926),r=e.i(9318197),o=e.i(5468328),s=e.i(9771394),l=e.i(4450569),c=e.i(9716741),d=e.i(7186942);let u=e=>{let{children:a,isDotMenuDisabled:i,disabledDotMenuTooltip:r,menuButtonProps:s,menuListTestId:c}=e,d=(0,t.jsx)(n.DotsMenu,{disabled:i,menuButtonProps:s,menuListTestId:c,children:a});return r?(0,t.jsx)(l.default,{children:(0,t.jsx)(o.Tooltip,{delayTime:300,disableTriggers:!i,position:"bottom",text:r,children:d})}):d};e.s(["EntityMenu",0,u,"default",0,e=>{let{title:n,description:o,descriptionTitle:p,avatar:g,label:m=!1,active:h=!0,right:f,width:x,minWidth:y,height:b,thumbnail:v,thumbnailSize:j,thumbnailWrapOnMobile:k,menuItems:w,actions:C,checkbox:_,vertical:A=!1,checkboxSize:N,titleSkeletonWidth:I,descriptionSkeletonWidth:S,descriptionWrap:P=!0,isFirstItem:M,isLastItem:R,className:T,children:E,isDotMenuDisabled:L,disabledDotMenuTooltip:O,menuButtonProps:B,menuListTestId:$,"data-testid":D}=e,F=(0,s.usePlaceholder)(),W=void 0===n?null:m?(0,t.jsx)(c.default,{Component:"div",className:(0,a.clsx)("geist-ellipsis",d.default.label),noMargin:!0,preset:"label",type:"secondary",children:n}):(0,t.jsx)(c.default,{Component:"div",className:(0,a.clsx)("geist-ellipsis",d.default.title),noMargin:!0,preset:"body-2",type:h?"default":"secondary",weight:400,children:n}),z=void 0===o?null:(0,t.jsx)(c.default,{Component:"div",className:(0,a.clsx)(d.default.description,{"geist-ellipsis":P},"w-fit"),noMargin:!0,preset:"body-2",title:p||"",type:"secondary",children:o}),U=void 0===g?z:(0,t.jsxs)("div",{className:d.default.descriptionWithAvatar,children:[z,z?(0,t.jsx)(r.Spacer,{x:.5}):null,g]}),V=_,G=v,q=w,K=C;return F&&W&&(W=(0,t.jsx)(i.Skeleton,{boxHeight:18,height:14,vcenter:!0,width:I||"40%"})),F&&U&&(U=g?(0,t.jsxs)("div",{className:d.default.descriptionWithAvatar,children:[z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Skeleton,{boxHeight:18,height:14,vcenter:!0,width:S||"60%"}),(0,t.jsx)(r.Spacer,{inline:!0,x:.5})]}):null,(0,t.jsx)(i.Skeleton,{rounded:!0,children:g})]}):(0,t.jsx)(i.Skeleton,{boxHeight:22,height:14,vcenter:!0,width:S||"60%"})),F&&V&&(V=(0,t.jsx)(i.Skeleton,{height:N,vcenter:!0,width:N})),F&&j&&(G=(0,t.jsx)(i.Skeleton,{height:j,rounded:!0,width:j})),F&&K&&(K=(0,t.jsx)(i.Skeleton,{show:!0,children:K})),q&&(q=F?(0,t.jsx)(i.Skeleton,{height:32,width:32}):(0,t.jsx)(u,{disabledDotMenuTooltip:O,isDotMenuDisabled:L,menuButtonProps:B,menuListTestId:$,children:q})),(0,t.jsxs)(l.default,{className:(0,a.clsx)(d.default.specifierHack,d.default.field,T,{[d.default.avatarWrap]:k,[d.default.first]:M,[d.default.last]:R}),"data-testid":D,row:!A,style:{...x?{flexGrow:0,flexShrink:0,flexBasis:x}:{},minWidth:y||void 0},vcenter:!0,children:[V?(0,t.jsx)("div",{className:d.default.checkbox,children:V}):null,G?(0,t.jsx)("div",{className:d.default.avatar,children:G}):null,(0,t.jsxs)(l.default,{className:(0,a.clsx)(d.default.content,{[d.default.rightAligned]:f}),style:b?{height:b}:void 0,vcenter:!0,children:[W,U,E]}),K?(0,t.jsx)("div",{className:(0,a.clsx)(d.default.actions,{[d.default.vertical]:A}),children:K}):null,q?(0,t.jsx)("div",{className:d.default.menu,"data-geist-entity-menu":"",children:q}):null]})}])},3351201,e=>{e.v({iconContainer:"entity-thumbnail-module__dKxJJW__iconContainer"})},6297948,e=>{"use strict";var t=e.i(1381818),a=e.i(5255926),n=e.i(9771394),i=e.i(4450569),r=e.i(3351201);e.s(["default",0,e=>{let{size:o,children:s,circular:l}=e;return(0,n.usePlaceholder)()?(0,t.jsx)(a.Skeleton,{height:o,rounded:!0,width:o}):l?(0,t.jsx)(i.default,{center:!0,className:r.default.iconContainer,style:{width:o,height:o},children:s}):(0,t.jsx)(t.Fragment,{children:s})}])},8062867,e=>{"use strict";var t=e.i(1381818),a=e.i(1053524),n=e.i(9722978),i=e.i(8449001),r=e.i(9544652),o=e.i(9771394),s=e.i(6143247),l=e.i(4450569),c=e.i(7186942),d=e.i(5255926),u=e.i(6677848),p=e.i(9716741);let g=e=>{let{indent:a=0,height:i,placeholder:r,children:o,className:s}=e;return(0,t.jsx)(l.default,{className:(0,n.clsx)(c.default.footer,s),row:!0,style:{"--indent":a?(0,u.px)(a+16):0,"--height":(0,u.px)(i)},vcenter:!0,children:r?(0,t.jsx)(d.Skeleton,{boxHeight:i,height:16,vcenter:!0,width:100}):(0,t.jsx)(p.default,{Component:"div",noMargin:!0,preset:"body-2",style:{width:"100%"},type:"secondary",children:o})})};var m=e.i(6297948);let h=a.default.forwardRef((e,s)=>{let{checkbox:d,checkboxSize:u=16,menuItems:p,actions:h,footer:f,height:x,thumbnail:y=null,footerHeight:b=24,placeholder:v,editing:j,filled:k,children:w,gapSize:C="normal",indent:_=!0,className:A="",disabled:N,isDotMenuDisabled:I,disabledDotMenuTooltip:S,as:P,menuButtonProps:M,menuListTestId:R,onClick:T,size:E,vertical:L,disableDisabledWall:O,containerClassName:B,footerClassName:$,...D}=e,F={"data-index":D["data-index"],"data-item-index":D["data-item-index"],"data-known-size":D["data-known-size"]},W=0,z=!1;y?.type===m.default&&(W=y.props.size,z=y.props.wrap);let U=a.default.Children.toArray(w),V=U.map((e,t)=>{let n=0===t,i=t===U.length-1,r=n?{checkbox:d,checkboxSize:u}:null,o=n?{thumbnail:y,thumbnailSize:W,thumbnailWrapOnMobile:z}:null;return a.default.cloneElement(e,{...r,...o,...n||i?{menuItems:p,actions:h,isFirstItem:n,isLastItem:i,isDotMenuDisabled:I,disabledDotMenuTooltip:S,menuButtonProps:M,menuListTestId:R}:null,vertical:L})}),G=d||!_?0:W,q=(0,r.useDisabled)(N),K=(0,o.usePlaceholder)(v);return(0,t.jsx)(o.PlaceholderContext.Provider,{value:K,children:(0,t.jsx)(r.DisabledContext.Provider,{value:q,children:(0,t.jsxs)(P||"div",{...F,className:(0,n.clsx)(c.default.entity,A,{"geist-disabled":q,[c.default.disabled]:q,[c.default.editing]:j,[c.default.filled]:k,[c.default[E||""]]:E}),"data-geist-entity":"","data-testid":D["data-testid"],"data-version":"v1",onClick:T,ref:s,style:{height:x||"auto","--gapSize":"normal"===C?"var(--geist-space-4x)":"var(--geist-space-2x)"},children:[!O&&(0,t.jsx)(i.DisabledWall,{}),(0,t.jsx)(l.default,{className:B,direction:["column","row"],gap:2/3,children:V}),f?(0,t.jsx)(g,{className:$,height:b,indent:G,placeholder:K,children:f}):null]})})})});e.s(["EntityGroup",0,function(e){let{children:a,className:n}=e;return(0,t.jsx)("div",{className:(0,s.cn)(c.default.entityGroup,n),children:a})},"default",0,h],8062867)},5819220,e=>{"use strict";var t=e.i(8062867);e.s(["Entity",()=>t.default])},979715,e=>{"use strict";var t=e.i(2530776);e.s(["EntityField",()=>t.default])},4418317,e=>{"use strict";function t(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return new Promise(e=>{requestAnimationFrame(()=>{e(window.open(...t))})})}class a{id;url;width;height;callbacks;prerenderHtml;popup;interval;constructor({id:e,url:t,width:a=800,height:n=600,callbacks:i={},prerenderHtml:r}){this.id=e,this.url=t,this.width=a,this.height=n,this.callbacks=i,this.prerenderHtml=r}async open(){var e,a;let n;if(this.popup&&!this.popup.closed)return void await t("",this.id).then(e=>e?.focus());let i="maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,r=(e=this.width,a=this.height,{width:e,height:a,top:(n=window.top)?n.outerHeight/2+n.screenY-a/2:0,left:n?n.outerWidth/2+n.screenX-e/2:0});this.popup=await t(this.url,this.id,Object.entries(r).map(e=>{let[t,a]=e;return`${t}=${a}`}).join(",")),this.popup&&this.prerenderHtml&&!i&&(this.popup.document.write(this.prerenderHtml),this.popup.location.href=this.url),!this.popup||this.popup.closed||void 0===this.popup.closed?(this.callbacks.onBlocked?.(),this.cancelPolling(),this.popup=null):(this.callbacks.onOpen?.(this.popup),this.poll())}close(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cancelPolling(),this.popup&&!this.popup.closed&&(this.popup.close(),e||this.callbacks.onClose?.())}poll(){this.interval=setInterval(()=>{try{if(!this.popup||this.popup.closed){this.cancelPolling(),this.callbacks.onAbort?.();return}this.callbacks.onPoll?.(this.popup)}catch(e){}},1e3)}cancelPolling(){this.interval&&(clearInterval(this.interval),this.interval=null)}}e.s(["default",()=>a],4418317)},6864621,e=>{"use strict";var t=e.i(850302);e.s(["useCreateDatabaseModal",0,function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{data:a,mutate:n}=(0,t.default)("showCreateDatabaseModal",null,{fallbackData:e});return{showCreateDatabaseModal:a,setShowCreateDatabaseModal:n}}])},7512194,e=>{"use strict";var t=e.i(1381818),a=e.i(1053524),n=e.i(7849855),i=e.i(39509),r=e.i(328065),o=e.i(3758860),s=e.i(6864621);let l={active:!1,modalKey:0,type:i.ResourceModalsActionTypes.ModalClosed,steps:[]};e.s(["ResourceModalsProviderBase",0,function(e){let{children:c,Modal:d,protocolType:u}=e,{showCreateDatabaseModal:p,setShowCreateDatabaseModal:g}=(0,s.useCreateDatabaseModal)(),{hasProject:m}=(0,n.useProjectSlug)(),h=(0,a.useCallback)(()=>{g(!1)},[g]),f=(0,a.useCallback)((e,t)=>(function(e){let{hasProject:t,onClose:a}=e;return(e,n)=>{if(!n.type.startsWith("open-")&&"animation-done"!==n.type&&"resource-updated"!==n.type&&e.type===i.ResourceModalsActionTypes.ModalClosed)throw Error(`Cannot handle action "${n.type}" without opening the modal`);switch(n.type){case`open-${i.ResourceModalsActionTypes.BrowseProducts}`:return{modalKey:e.modalKey,type:i.ResourceModalsActionTypes.BrowseProducts,steps:[i.ResourceModalsActionTypes.BrowseProducts,i.ResourceModalsActionTypes.CreateResource],active:!0};case`open-${i.ResourceModalsActionTypes.BrowseProductsOrSelectResources}`:return{modalKey:e.modalKey,type:i.ResourceModalsActionTypes.BrowseProductsOrSelectResources,steps:[i.ResourceModalsActionTypes.BrowseProductsOrSelectResources,i.ResourceModalsActionTypes.CreateResource,i.ResourceModalsActionTypes.CreateEnvs],tab:n.tab,active:!0};case`go-to-step-${i.ResourceModalsActionTypes.CreateResource}`:case`open-${i.ResourceModalsActionTypes.CreateResource}`:{let a=e.steps,r="integration"===n.resourceWithProduct.type&&(0,o.showProjectConnectionAfterResourceCreation)(n.resourceWithProduct.product),s="integration"===n.resourceWithProduct.type&&(0,o.supportsAnyDrainProtocol)(n.resourceWithProduct.product);if("open-create-resource"===n.type&&(a=(t||r)&&!s?[i.ResourceModalsActionTypes.CreateResource,i.ResourceModalsActionTypes.CreateEnvs]:[i.ResourceModalsActionTypes.CreateResource]),"go-to-step-create-resource"!==n.type||!r||a.includes(i.ResourceModalsActionTypes.CreateEnvs)||s||a.push(i.ResourceModalsActionTypes.CreateEnvs),0===a.length||a[0]===i.ResourceModalsActionTypes.CreateEnvs||a[0]===i.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${a.join(",")}" for action "${n.type}"`);let{resourceWithProduct:l}=n;return{modalKey:e.modalKey,type:i.ResourceModalsActionTypes.CreateResource,resourceWithProduct:l,backOrCancelLabel:a[0]===i.ResourceModalsActionTypes.CreateResource?"Cancel":"Go Back",steps:a,active:!0}}case`go-to-step-${i.ResourceModalsActionTypes.CreateEnvs}`:case`open-${i.ResourceModalsActionTypes.CreateEnvs}`:{let t=e.steps,a="Cancel";if("open-create-envs"===n.type?t=[i.ResourceModalsActionTypes.CreateEnvs]:e.type===i.ResourceModalsActionTypes.BrowseProductsOrSelectResources&&(a="Go Back"),0===t.length||t[0]===i.ResourceModalsActionTypes.CreateResource&&t[1]!==i.ResourceModalsActionTypes.CreateEnvs||t[0]===i.ResourceModalsActionTypes.BrowseProducts&&!(0,o.showProjectConnectionAfterResourceCreation)(e.resource)||t[0]===i.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${t.join(",")}" for action "${n.type}"`);return{backOrCancelLabel:a,modalKey:e.modalKey,type:i.ResourceModalsActionTypes.CreateEnvs,resource:n.resource,connection:"connection"in n?n.connection:void 0,forceProjectSelector:"forceProjectSelector"in n?n.forceProjectSelector:void 0,steps:t,active:!0}}case"browse-products-or-select-resources-switch-tabs":if(e.type!==i.ResourceModalsActionTypes.BrowseProductsOrSelectResources)throw Error('Cannot switch tabs outside of the "browse-stores-or-select-existing" step');return{modalKey:e.modalKey,steps:e.steps,type:e.type,tab:n.tab,active:!0};case"back":if(e.type===i.ResourceModalsActionTypes.CreateEnvs&&"Go Back"===e.backOrCancelLabel&&e.steps[0]===i.ResourceModalsActionTypes.BrowseProductsOrSelectResources)return{modalKey:e.modalKey,steps:e.steps,type:i.ResourceModalsActionTypes.BrowseProductsOrSelectResources,tab:"browse-existing",active:!0};if("create-resource"===e.type)switch(e.steps[0]){case i.ResourceModalsActionTypes.BrowseProductsOrSelectResources:return{modalKey:e.modalKey,steps:e.steps,type:i.ResourceModalsActionTypes.BrowseProductsOrSelectResources,tab:"browse-new",active:!0};case i.ResourceModalsActionTypes.BrowseProducts:return{modalKey:e.modalKey,steps:e.steps,type:i.ResourceModalsActionTypes.BrowseProducts,active:!0}}return a(),{...e,active:!1};case"close":return a(),{...e,active:!1};case"animation-done":return{...l,modalKey:e.modalKey+1};case"resource-updated":if(e.type===i.ResourceModalsActionTypes.ModalClosed)return e;return{...e,resource:n.resource,isConnected:n.isConnected};case"open-delete-envs":return{...e,active:!0,resource:n.resource,resourceId:n.resourceId,connections:n.connections,type:i.ResourceModalsActionTypes.DeleteEnvs,steps:[i.ResourceModalsActionTypes.DeleteEnvs]}}}})({hasProject:m,onClose:h})(e,t),[m,h]),[x,y]=(0,a.useReducer)(f,l);(0,a.useEffect)(()=>{p&&(m?y({type:"open-browse-products-or-select-resources",tab:"browse-new"}):y({type:"open-browse-products"}))},[p,y,m]);let b=(0,a.useMemo)(()=>({state:x,dispatch:y,protocolType:u}),[x,u]),v=(0,r.getResourceModalsContext)();return(0,t.jsxs)(v.Provider,{value:b,children:[d,c]})}])},15312,1211664,6356390,e=>{"use strict";var t=e.i(1381818),a=e.i(7512194),n=e.i(6891161),i=e.i(8923565),r=e.i(1053524),o=e.i(6352514),s=e.i(1853611),l=e.i(9668517);e.i(6887680);var c=e.i(6810699),d=e.i(8711152);e.i(5628754);var u=e.i(680627),p=e.i(1017032),g=e.i(5074599),m=e.i(4981413),h=e.i(3758860),f=e.i(7849855),x=e.i(7137779),y=e.i(2483721),b=e.i(3183079),v=e.i(39509),j=e.i(8522580),k=e.i(8735244),w=e.i(5338940),C=e.i(9544652),_=e.i(3677672),A=e.i(3798983);e.i(2331088);var N=e.i(545169),I=e.i(6817234),S=e.i(9623675),P=e.i(57106),M=e.i(1717203),R=e.i(7557283),T=e.i(7623643),E=e.i(9186321),L=e.i(2512825),O=e.i(3788585),B=e.i(4004502),$=e.i(553769),D=e.i(2557188),F=e.i(1914640),W=e.i(373291),z=e.i(3922573);function U(e){let{integration:a,product:i,cancelLabel:o,onBack:s,onNext:l,isLoading:c=!1,isTransitioning:d,source:u,teamId:p}=e,{hasMetadataErrors:g,isLoading:m,metadataState:f,areMetadataChanged:x,formError:y}=(0,W.useStoreIntegrationFormContext)(),{plan:b,isBillingPlanSelectionValid:v}=(0,I.useMarketplaceBillingPlansContext)(),j=(0,r.useMemo)(()=>Object.keys(a.metadataSchema?.properties??{}).length>0,[a]);return(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(n.Modal.Action,{"data-testid":(0,B.tid)("create-integration-button","store-modal-continue"),disabled:g||!b||!v||c,loading:m||d,onClick:()=>{b&&l(f,b)},children:"Continue"}),cancelLabel:o,checkoutContentVariant:"default",from:"installation",integration:a,onBack:s,product:i,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-5 flex-initial",children:[y.form?(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial px-6 pt-6",children:(0,t.jsx)(z.InstallationProcessError,{error:y,integration:a,preselectedProduct:i})}):null,j?(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial border-0 border-b border-solid border-gray-alpha-400 bg-background-200 p-6 px-0",children:(0,t.jsx)(N.ResourceMetadataFieldsWithErrorBoundary,{integrationId:a.id,isLoading:c,productId:"iap_none"})}):null,(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial py-6",children:g?(0,t.jsx)(D.BillingPlanMetadataErrors,{integrationSlug:a.slug,integrationFlags:a.flags,isInstallationLevel:!0}):(0,t.jsx)(D.MarketplaceBillingPlanSelectorWithErrorBoundary,{areMetadataChanged:x,arePermissionsLoading:!1,hasLogDrainsSupport:a.products.some(e=>(0,h.isProtocolSupported)(e,"logDrain")),integrationId:a.id,integrationName:a.name,integrationSlug:a.slug,integrationFlags:a.flags,isInstallationLevel:!0,metadata:f,source:u,teamId:p,type:"new-installation"})})]})})}function V(e){let{integration:a,product:i,onBack:r,onNext:o,isTransitioning:s}=e,{isLoading:l,metadataState:c,formError:d}=(0,W.useStoreIntegrationFormContext)(),{plan:u}=(0,I.useMarketplaceBillingPlansContext)();return(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsxs)(n.Modal.Action,{"data-testid":(0,B.tid)("create-integration-button","store-modal-create"),loading:l||s,onClick:o,children:["Create ",(0,g.getAccountTitleBySlug)({slug:i.slug})]}),cancelLabel:"Back",checkoutContentVariant:"no-padding",from:"installation",integration:a,onBack:r,product:i,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial p-6",children:[(0,t.jsx)("p",{className:"text-[16px] leading-[24px] font-medium",children:"Your Selection"}),d.form?(0,t.jsx)(z.InstallationProcessError,{error:d,integration:a,preselectedProduct:i}):null,(0,t.jsx)(F.ReadOnlyMetadataWithErrorBoundary,{integrationId:a.id,metadata:c,metadataErrors:d.metadata,productId:i.id,target:"create"}),(0,t.jsx)(F.ReadOnlyBillingPlan,{billingPlan:u,isAwsIntegration:(0,$.isAwsIntegration)(a)})]})})}var G=e.i(9588822),q=e.i(8843717),K=e.i(1008179),H=e.i(6111613);function Y(e){let{team:a,requireNew:n,paymentMethodState:i,onBack:r,onNext:o}=e;return(0,t.jsx)(H.PaymentMethodAction,{onBack:r,onNext:o,paymentMethodState:i,requireNew:n,team:a})}var J=e.i(2504781),X=e.i(4030453),Z=e.i(762945),Q=e.i(5761705),ee=e.i(4987761);function et(e){let{teamId:a,integration:i,authorizationId:r,onChangePaymentMethod:o,onBack:s,onNext:l,product:c,success:d,error:u,isTransitioning:p}=e,{authorization:g,error:m,handleUserActions:h}=(0,ee.usePollAuthorization)(a,r),f=!!(m||u||g?.status==="failed"),x=g?.status==="requires_action";return(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(n.Modal.Action,{disabled:!d,loading:!f&&!d||p,onClick:()=>l(),children:d?"Done":"Processing"}),cancelLabel:"Back",checkoutContentVariant:"no-padding-no-bottom",hideCancel:!(f||x)||d,from:"resource",integration:i,onBack:s,product:c,children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial p-6 pb-0",children:(0,t.jsx)(ea,{authorization:g,error:u||(m?"Unknown error":void 0),handleUserActions:h,integration:i,onChangePaymentMethod:o,success:d})})})}function ea(e){let{authorization:a,error:n,success:i,integration:r,handleUserActions:o,onChangePaymentMethod:s}=e;return i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(Q.CheckCircle,{color:"green-900",size:16}),(0,t.jsxs)("p",{className:"text-[14px] leading-[20px] font-medium text-green-900","data-testid":(0,B.tid)("create-resource-modal","successfully-created"),children:[r.name," Account Created Successfully"]})]}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["Your"," ",(0,t.jsx)("span",{className:"text-copy-14 text-gray-1000",children:r.name})," ","account has been created successfully."]})]}):a?.status==="requires_action"?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(Z.Warning,{color:"amber-900",size:16}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:"Authentication Needed"})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Further action is needed. Please authenticate your payment method to continue."}),(0,t.jsx)(J.Button,{onClick:()=>{o()},children:"Authenticate"})]}):a?.status==="failed"?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(X.Error,{children:"Preauthorization Failed"}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"There was an error using your payment method. Please try again with a different payment method."}),(0,t.jsx)(J.Button,{onClick:()=>s(),children:"Change Payment Method"})]}):n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(X.Error,{children:n}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["There was an error creating your"," ",(0,t.jsx)("span",{className:"text-copy-14 text-gray-1000",children:r.name})," ","account. Please try again later."]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(k.Spinner,{size:16}),(0,t.jsx)("p",{className:"text-[16px] leading-[24px] font-medium",children:"Processing"})]}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["Almost ready, we're setting up your"," ",(0,t.jsx)("span",{className:"text-copy-14 text-gray-1000",children:r.name}),"."]})]})}var en=e.i(8794163),ei=e.i(9871375);function er(e){let{product:a,cancelLabel:n,integration:i,isLoading:r,onSuccess:o,onBack:s,team:l,checkoutContentVariant:c,source:d}=e,u=l.enabledInvoiceItems?.vercelMarketplace?.enabled===!0,{can:p,isLoading:g}=(0,M.default)({teamId:l.id}),m=p(R.Action.Create,R.Resource.IntegrationConfiguration);return u?m||g?(0,t.jsx)(el,{isLoading:r,cancelLabel:n,integration:i,product:a,source:d,team:l,onBack:s,onSuccess:o}):(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(L.InstallButton,{account:l,canInstall:!1,hasPermission:!1,onClick:()=>{},children:"Continue"}),cancelLabel:n,checkoutContentVariant:c,from:"installation",integration:i,onBack:s,product:a,children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:(0,t.jsxs)(j.Note,{type:"warning",children:["You need additional permissions to install integrations to"," ",l.name||"this"," account. Please contact your account administrator to request the necessary permissions."," ",(0,t.jsx)(P.Link,{external:!0,href:"https://vercel.com/docs/accounts/team-members-and-roles",target:"_blank",children:(0,t.jsx)("p",{className:"text-copy-14",children:"Learn more"})})]})})}):(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(P.ButtonLink,{href:"/contact/sales",children:"Contact Sales"}),cancelLabel:n,checkoutContentVariant:c,from:"installation",integration:i,onBack:s,product:a,children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial min-h-0",children:(0,t.jsx)(j.Note,{type:"warning",children:"Your Enterprise account is not yet available to use the Vercel Marketplace. To gain access, contact our team to discuss an account upgrade."})})})}function eo(e){let{team:a,integration:n,product:i,isLoading:l,cancelLabel:c,onBack:d,onSuccess:u}=e,[p,g]=(0,r.useState)("policies"),{onSubmit:m,metadataState:h,formError:f,isLoading:x}=(0,W.useStoreIntegrationFormContext)(),y=n.flags?.includes(E.LaunchDarklyIntegrationFlags.MarketplaceInstallationOnlyPlan),b=(n.metadataSchema?.required?.length??0)>0,v=y||b,{plan:j}=(0,I.useMarketplaceBillingPlansContext)(),[k,w]=(0,r.useState)(!1),{data:C}=(0,q.useIntegrationPaymentMethodState)(),_=(0,K.useAwaitData)(C),[A,N]=(0,r.useState)(),{createAuthorization:P}=(0,ee.useMarketplaceBillingAuthorizationApi)(),M=(0,ee.useAwaitAuthorization)(),[R,B]=(0,r.useState)(null),[$,D]=(0,r.useTransition)(),[F,G]=(0,r.useState)(),{connectProjectAndReturnToV0:J}=(0,en.useV0Marketplace)()||{},X=(0,ei.useProjectCloneContext)().projectId?"deploy-button":J?"v0":"marketplace",Z=e=>{if(F)return void u(F,j??void 0);s.analytics.track(o.AnalyticsEvent.MARKETPLACE_INSTALLATION_CREATE_CLICKED,{integration:{id:n.id,slug:n.slug},source:X});let t=e.paymentMethodId??A;j&&g("provisioning"),m(async()=>{let e,i={},r=new Date().toISOString();if(n.eulaDocUri&&(i.eula=r),n.privacyDocUri&&(i.privacy=r),j){let i=await P(a.id,{integrationIdOrSlug:n.id,billingPlanId:j.id,metadata:h,integrationConfigurationId:void 0,paymentMethodId:t,source:X});if(B(i?.id??null),e=i?.id,i&&"succeeded"!==(await M(a.id,i.id)).status)return}let o=await (0,T.installMarketplaceIntegration)({integration:n,teamId:a.id,acceptedPolicies:i,metadata:h,billingPlanId:j?.id,authorizationId:e,source:X});G(o),t&&await (0,q.updateInstallationPaymentMethod)(a.id,o.id,t),u(o,j??void 0)})},Q=`Accept and ${v?"Continue":"Create"}`;switch(p){case"policies":return(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(L.InstallButton,{account:a,canInstall:!f.form,hasPermission:!0,loading:l||$||x,onClick:()=>{v?g("select-plan"):Z({paymentMethodId:void 0})},children:Q}),cancelLabel:c,checkoutContentVariant:"default",from:"installation",integration:n,onBack:d,product:i,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[f.form?(0,t.jsx)(z.InstallationProcessError,{error:f,integration:n,preselectedProduct:i}):null,(0,t.jsx)(O.TermsAndConditions,{buttonCaption:Q,integrations:[n]})]})});case"select-plan":return(0,t.jsx)(U,{cancelLabel:"Back",integration:n,isLoading:l,isTransitioning:$,onBack:()=>g("policies"),onNext:function(){D(async()=>{if(j?.paymentMethodRequired){let e=await _;if((0,H.getIsPaymentMethodStepNeeded)(a,e,j))return void g("payment-method")}g("confirm-plan")})},product:i,source:X,teamId:a.id});case"confirm-plan":return(0,t.jsx)(V,{integration:n,isTransitioning:$,onBack:()=>g("select-plan"),onNext:function(){s.analytics.track(o.AnalyticsEvent.MARKETPLACE_INSTALLATION_PLAN_SELECTED,{integration:{id:n.id,slug:n.slug}}),Z({paymentMethodId:A})},product:i});case"payment-method":return C?(0,t.jsx)(Y,{onBack:()=>g("confirm-plan"),onNext:e=>{N(e),w(!1),g("confirm-plan")},paymentMethodState:C,requireNew:k,team:a}):null;case"provisioning":return(0,t.jsx)(et,{authorizationId:R,error:f.form??void 0,integration:n,isTransitioning:$,onBack:()=>g("confirm-plan"),onChangePaymentMethod:()=>{w(!0),g("payment-method")},onNext:()=>{F&&j&&u(F,j)},product:i,success:!!F,teamId:a.id})}}let es={type:"object",properties:{},additionalProperties:!1,required:[]},el=(0,G.withStripe)(function(e){return(0,t.jsx)(I.MarketplaceInstallationBillingPlansProvider,{target:"create",source:e.source,children:(0,t.jsx)(N.ResourceFormProvider,{metadataSchema:e.integration.metadataSchema??es,resourceTitle:"Account",target:"create",children:(0,t.jsx)(eo,{...e})})})}),ec=e=>(0,r.useEffect)(e,[]);e.s(["useMountEffect",0,ec],1211664);var ed=e.i(455575),eu=e.i(4655443),ep=e.i(2210374),eg=e.i(9219571),em=e.i(9349058),eh=e.i(9722978),ef=e.i(5328446),ex=e.i(8647445),ey=e.i(6835270),eb=e.i(6143247);function ev(e){let{product:a,integration:n,installationId:i,cancelLabel:r,onBack:o,onNext:s,isLoading:l,isTransitioning:c,source:d,...u}=e;return(0,t.jsx)(ej,{cancelLabel:r,installationId:i,integration:n,isLoading:l,isTransitioning:c,onBack:o,onNext:s,product:a,source:d,...u})}function ej(e){let{product:a,integration:i,installationId:o,cancelLabel:s,onBack:l,onNext:c,isLoading:d,isTransitioning:u,source:p,...g}=e,m=i.flags?.includes(E.LaunchDarklyIntegrationFlags.MarketplaceInstallationOnlyPlan),{hasMetadataErrors:f,isLoading:x,metadataState:y,areMetadataChanged:b,target:v}=(0,W.useStoreIntegrationFormContext)(),{plan:k,isSelectedPlanValid:w,isBillingPlanPreselected:C}=(0,I.useMarketplaceBillingPlansContext)(),_=(0,r.useMemo)(()=>Object.keys(a.metadataSchema.properties).length>0,[a]),A=i.supportsInstallationBillingPlans??!1,{protocolSettings:P,protocolSettingsForm:M}=(0,ex.useResourceProtocolSettings)(a),{data:R}=(0,ef.default)(o),{data:T}=(0,eg.useMarketplaceBillingBalance)(o),L=(0,$.isAwsIntegration)(i),O=T?.balance?.currencyValueInCents?`$${(T.balance.currencyValueInCents/100).toFixed(2)}`:null,F=m?!!(k??(A?R?.billingPlan:void 0)):!!(k&&w),z=(0,ey.useInstallMarketplaceProductDisplayMode)();return(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(n.Modal.Action,{"data-testid":(0,B.tid)("create-integration-button","store-modal-create"),disabled:f||!F||d,loading:x||u,onClick:()=>{let e=k??(A?R?.billingPlan:void 0);e&&c(y,e,P)},children:"create"===v?"Continue":"Save"}),cancelLabel:s,checkoutContentVariant:"no-padding",from:"resource",integration:i,configuration:R,onBack:l,product:a,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-5 flex-initial",children:[_?(0,t.jsx)("div",{className:(0,eb.cn)("flex flex-col items-stretch justify-start flex-initial border-0 border-b border-solid border-gray-alpha-400 bg-background-200",{"p-6":"modal"===z,"pb-6":"inline"===z}),children:(0,t.jsx)(N.ResourceMetadataFieldsWithErrorBoundary,{integrationId:i.id,isLoading:d,productId:a.id})}):null,M?(0,t.jsx)("div",{className:(0,eh.clsx)("flex flex-col items-stretch justify-start flex-initial border-0 border-b border-solid border-gray-alpha-400 bg-background-200 px-6",{"pb-6 pt-0":_,"py-6":!_},"inline"===z?" !px-0 pt-0":""),children:M}):null,C?null:(0,t.jsxs)("div",{className:(0,eb.cn)("flex flex-col items-stretch justify-start flex-initial gap-4","modal"===z?"p-6":"p-0"),children:[L&&O?(0,t.jsxs)(j.Note,{type:"secondary",children:[(0,t.jsx)("strong",{children:O})," in credits remaining"]}):null,f?(0,t.jsx)(D.BillingPlanMetadataErrors,{integrationSlug:i.slug,integrationFlags:i.flags,isInstallationLevel:A}):(0,t.jsx)(D.MarketplaceBillingPlanSelectorWithErrorBoundary,{areMetadataChanged:b,arePermissionsLoading:d,hasLogDrainsSupport:(0,h.isProtocolSupported)(a,"logDrain"),installationId:o,integrationId:i.id,integrationName:i.name,integrationSlug:i.slug,integrationFlags:i.flags,isInstallationLevel:A,metadata:y,productId:a.id,source:p,...g})]})]})})}var ek=e.i(3500331),ew=e.i(1906681),eC=e.i(4585051),e_=e.i(5468328),eA=e.i(3322724),eN=e.i(1595844),eI=e.i(1571992),eS=e.i(6060673);function eP(e){let{team:a,integration:i,configuration:l,installationBalance:c,product:d,onBack:u,onNext:p,source:m,projectId:f,defaultResourceName:x}=e,y=i.flags?.includes(E.LaunchDarklyIntegrationFlags.MarketplaceInstallationOnlyPlan),{isLoading:b,formError:v,metadataState:k}=(0,W.useStoreIntegrationFormContext)(),{plan:w,defaultPlan:C,topUpForm:_,shouldAddTopUpFormStep:A}=(0,I.useMarketplaceBillingPlansContext)(),N=(0,r.useMemo)(()=>{if(x)return x;let e=d.slug.toLowerCase();d.capabilities?.sandbox&&(e+="-sandbox");let t=Object.entries(d.metadataSchema?.properties||{}).find(e=>{let[t,a]=e;return"git-namespace"===a["ui:control"]});if(t&&k[t[0]]){let a=k[t[0]];if(a&&"string"==typeof a){let t=(0,eI.stringToGitNamespace)(a);t&&(e+=`-${t.slug}`)}}return`${e}-${(0,eN.generateRandomName)()}`},[d,k,x]),T=(0,g.getResourceNameLabelByProduct)(d),{name:L,setName:O,resourceNameError:D,characterCount:z,isAtLimit:U,maxLength:V,minLength:G}=(0,eN.useResourceName)({product:d,defaultName:N}),q=(0,r.useRef)(null),[K,H]=(0,r.useState)(!1),Y=(0,eA.useIsMobile)();(0,r.useEffect)(()=>{Y||setTimeout(()=>{q.current?.focus(),q.current?.select()},0)},[Y]);let J=!!(C&&w?.id!==C.id),Z=(0,ey.useInstallMarketplaceProductDisplayMode)(),Q=Object.keys(d.metadataSchema?.properties??{}).length>0,{data:ee}=(0,eS.useProject)(f),{can:et}=(0,M.default)(),ea=et(R.Action.Create,R.Resource.Drain),en=(0,h.isProtocolSupported)(d,"traceDrain"),ei=(0,h.hasFreeBillingPlan)(a),er=en&&ea&&!ei&&!!f,[eo,es]=(0,r.useState)(er);return(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(n.Modal.Action,{"data-testid":(0,B.tid)("create-resource-modal","confirm-create"),disabled:!L,loading:b,onClick:()=>{if(H(!0),D)return;let e={integration:{id:i.id,slug:i.slug},productSlug:d.slug},t=m?{...e,source:m}:e;s.analytics.track(o.AnalyticsEvent.MARKETPLACE_RESOURCE_PROVISION_CLICKED,t);let a=er&&eo&&f?{name:`${L}-${Math.random().toString(36).substring(2,8).toLowerCase()}`,projects:"some",projectIds:[f],sampling:[],schemas:{trace:{version:"v1"}}}:void 0;p({resourceName:L,createDrainPayload:a})},children:(0,g.createResourceConfirmationStepLabel)(d)}),cancelLabel:"Back",checkoutContentVariant:"no-padding",from:"resource",integration:i,configuration:l,onBack:u,product:d,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-5 flex-initial",children:[(0,t.jsxs)("div",{className:(0,eh.default)("flex flex-col items-stretch justify-start gap-2.5 flex-initial","inline"===Z?"bg-background-200":"border-0 border-b border-solid border-gray-alpha-400 bg-background-200 p-6"),children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:[(0,t.jsx)(ek.Input,{"aria-label":`${T} Name`,disabled:b,error:K?D:void 0,label:`${T} Name (*)`,maxLength:V+1,minLength:G,onChange:e=>{O(e.currentTarget.value)},placeholder:`${T.toLowerCase().replaceAll(" ","-")}-name`,ref:q,value:L,width:"100%"}),(0,t.jsxs)("p",{className:(0,eh.default)("text-label-12",U?"text-red-900":"text-gray-900"),style:{textAlign:"right"},children:[z,"/",V]})]}),(0,t.jsxs)("p",{className:"text-copy-13 text-gray-900",children:["This is how we call your ",T," in the Vercel dashboard and in ",i.name,"."]}),d.disableResourceRenaming&&(0,t.jsx)(j.Note,{fill:!0,type:"warning",children:"The name cannot be changed after the resource is created."})]}),(J||v.form||Q||A&&void 0!==_.getAmountToAdd()||c?.currencyValueInCents!==void 0||!y||er&&ee)&&(0,t.jsxs)("div",{className:(0,eh.default)("flex flex-col items-stretch justify-start gap-4 flex-initial py-6","inline"===Z?"px-0":"px-6"),children:[(0,t.jsx)("p",{className:"text-[16px] leading-[24px] font-medium",children:"Your Selection"}),J?(0,t.jsx)(j.Note,{fill:!0,type:"secondary",children:"You have selected to upgrade your plan. This upgrade will apply at the installation level."}):null,v.form?(0,t.jsx)(X.Error,{children:v.form}):null,(0,t.jsx)(F.ReadOnlyMetadataWithErrorBoundary,{integrationId:i.id,metadata:k,metadataErrors:v.metadata,productId:d.id,target:"create"}),A&&void 0!==_.getAmountToAdd()?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(F.ReadOnlyPanel,{title:"Manage Funds",children:[(0,t.jsx)(F.ReadOnlyPanelRecord,{title:"Initial credit balance",children:(0,t.jsx)("p",{className:"text-copy-14",children:_.formatCurrency(_.addFundsForm.getValues().amountToAdd)})}),_.rechargeSettingsForm.getValues().autoRecharge?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(F.ReadOnlyPanelRecord,{className:"items-center",title:"Auto recharge",titleWrap:!1,children:(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900 text-right text-balance",children:["add"," ",(0,t.jsx)("span",{className:"text-copy-14",children:_.formatCurrency(_.rechargeSettingsForm.getValues().topUpAmount)})," ","when balance falls below"," ",(0,t.jsx)("span",{className:"text-copy-14",children:_.formatCurrency(_.rechargeSettingsForm.getValues().topUpThreshold)}),", up to"," ",(0,t.jsx)("span",{className:"text-copy-14",children:_.formatCurrency(_.rechargeSettingsForm.getValues().periodSpendMaximum)})," ","per month"]})})}):null]})}):(0,t.jsx)(t.Fragment,{children:c?.currencyValueInCents!==void 0?(0,t.jsx)(F.ReadOnlyPanel,{title:(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"Current balance"}),children:(0,t.jsx)(F.ReadOnlyPanelRecord,{title:"Current installation balance",children:(0,t.jsx)("p",{className:"text-copy-14",children:_.formatCurrency((c.currencyValueInCents/100).toFixed(2))})})}):null}),y?null:(0,t.jsx)(F.ReadOnlyBillingPlan,{billingPlan:w,isAwsIntegration:(0,$.isAwsIntegration)(i)}),er&&ee?(0,t.jsxs)("div",{className:"flex w-full flex-col items-start gap-1",children:[(0,t.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,t.jsx)(ew.Toggle,{checked:eo,onChange:e=>es(e)}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-1 text-sm",children:[(0,t.jsx)("span",{className:"shrink-0 whitespace-nowrap",children:"Drain traces from"}),(0,t.jsx)(eC.Avatar,{hash:ee.id,size:16,className:"shrink-0"}),(0,t.jsx)(e_.Tooltip,{text:ee.name,className:"min-w-0 max-w-full flex-shrink inline-flex items-center overflow-hidden",children:(0,t.jsx)("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:ee.name})}),(0,t.jsx)("span",{className:"shrink-0 whitespace-nowrap",children:"to this product"})]})]}),(0,t.jsx)("div",{className:"text-gray-900",children:(0,t.jsx)(P.Link,{href:"/docs/drains#usage-and-pricing",target:"_blank",underline:!0,children:"Learn about Drains pricing"})})]}):null]})]})})}var eM=e.i(4419068),eR=e.i(7089806);function eT(e){let{integration:a,product:i,onBack:l,onNext:c,cancelLabel:d,installationId:u,source:p,configuration:m}=e,{hasMetadataErrors:f,isLoading:x,metadataState:y,areMetadataChanged:b,formError:v}=(0,W.useStoreIntegrationFormContext)(),{plan:k,isSelectedPlanValid:w,isBillingPlanPreselected:C}=(0,I.useMarketplaceBillingPlansContext)(),{data:_}=(0,ef.default)(u),{data:A}=(0,eM.useMarketplaceBillingPlans)({type:"installation",installationId:u,integrationId:a.id,source:p,metadata:{}}),P=A?.plans?.[0],{amount:M}=(0,eR.getAwsRemainingCredits)(P),R=(0,r.useMemo)(()=>Object.keys(i.metadataSchema.properties).length>0,[i]),T=a.supportsInstallationBillingPlans??!1,{protocolSettings:E,protocolSettingsForm:L}=(0,ex.useResourceProtocolSettings)(i),O=(0,r.useMemo)(()=>{let e=i.slug.toLowerCase();i.capabilities?.sandbox&&(e+="-sandbox");let t=Object.entries(i.metadataSchema?.properties||{}).find(e=>{let[t,a]=e;return"git-namespace"===a["ui:control"]});if(t&&y[t[0]]){let a=y[t[0]];if(a&&"string"==typeof a){let t=(0,eI.stringToGitNamespace)(a);t&&(e+=`-${t.slug}`)}}return`${e}-${(0,eN.generateRandomName)()}`},[i,y]),$=(0,g.getResourceNameLabelByProduct)(i),{name:F,setName:U,resourceNameError:V,characterCount:G,isAtLimit:q,maxLength:K,minLength:H}=(0,eN.useResourceName)({product:i,defaultName:O}),Y=(0,r.useRef)(null),[J,X]=(0,r.useState)(!1),Z=(0,eA.useIsMobile)();(0,r.useEffect)(()=>{Z||setTimeout(()=>{Y.current?.focus(),Y.current?.select()},0)},[Z]);let Q=(0,ey.useInstallMarketplaceProductDisplayMode)(),ee=_?.installationType==="external",et=ee||k&&w;return(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(n.Modal.Action,{"data-testid":(0,B.tid)("create-resource-modal","combined-create"),disabled:f||!et||!F,loading:x,onClick:()=>{X(!0),!V&&(ee||k)&&(s.analytics.track(o.AnalyticsEvent.MARKETPLACE_RESOURCE_PROVISION_CLICKED,{integration:{id:a.id,slug:a.slug},productSlug:i.slug}),c(F,y,ee?void 0:k??void 0,E))},children:(0,g.createResourceConfirmationStepLabel)(i)}),cancelLabel:d,checkoutContentVariant:"no-padding",from:"resource",integration:a,configuration:m,onBack:l,product:i,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-5 flex-initial",children:[R?(0,t.jsx)("div",{className:(0,eb.cn)("flex flex-col items-stretch justify-start flex-initial border-0 border-b border-solid border-gray-alpha-400 bg-background-200",{"p-6":"modal"===Q,"pb-6":"inline"===Q}),children:(0,t.jsx)(N.ResourceMetadataFieldsWithErrorBoundary,{integrationId:a.id,isLoading:!1,productId:i.id})}):null,L?(0,t.jsx)("div",{className:(0,eb.cn)("flex flex-col items-stretch justify-start flex-initial border-0 border-b border-solid border-gray-alpha-400 bg-background-200 px-6",{"pb-6 pt-0":R,"py-6":!R},"inline"===Q?" !px-0 pt-0":""),children:L}):null,(0,t.jsxs)("div",{className:(0,eb.cn)("flex flex-col items-stretch justify-start gap-2.5 flex-initial","inline"===Q?"bg-background-200":"border-0 border-b border-solid border-gray-alpha-400 bg-background-200 p-6"),children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:[(0,t.jsx)(ek.Input,{"aria-label":`${$} Name`,disabled:x,error:J?V:void 0,label:`${$} Name (*)`,maxLength:K+1,minLength:H,onChange:e=>{U(e.currentTarget.value)},placeholder:`${$.toLowerCase().replaceAll(" ","-")}-name`,ref:Y,value:F,width:"100%"}),(0,t.jsxs)("p",{className:(0,eh.default)("text-label-12",q?"text-red-900":"text-gray-900"),style:{textAlign:"right"},children:[G,"/",K]})]}),(0,t.jsxs)("p",{className:"text-copy-13 text-gray-900",children:["This is how we call your ",$," in the Vercel dashboard and in ",a.name,"."]}),i.disableResourceRenaming&&(0,t.jsx)(j.Note,{fill:!0,type:"warning",children:"The name cannot be changed after the resource is created."})]}),C||_?.installationType==="external"?null:(0,t.jsxs)("div",{className:(0,eb.cn)("flex flex-col items-stretch justify-start flex-initial gap-4 border-0 border-b border-solid border-gray-alpha-400",{"px-6 pb-6":"modal"===Q,"pb-6":"inline"===Q}),children:[M?(0,t.jsxs)(j.Note,{type:"secondary",children:[(0,t.jsx)("strong",{children:M})," in credits remaining"]}):null,f?(0,t.jsx)(D.BillingPlanMetadataErrors,{integrationSlug:a.slug,integrationFlags:a.flags,isInstallationLevel:T}):(0,t.jsx)(D.MarketplaceBillingPlanSelectorWithErrorBoundary,{areMetadataChanged:b,arePermissionsLoading:!1,hasLogDrainsSupport:(0,h.isProtocolSupported)(i,"logDrain"),installationId:u,integrationId:a.id,integrationName:a.name,integrationSlug:a.slug,integrationFlags:a.flags,isInstallationLevel:T,metadata:y,productId:i.id,source:p,type:"product"})]}),v.form?(0,t.jsx)("div",{className:(0,eb.cn)("flex flex-col items-stretch justify-start flex-initial","inline"===Q?"px-0":"px-6"),children:(0,t.jsx)(z.InstallationProcessError,{error:v,integration:a,preselectedProduct:i})}):null]})})}function eE(e){let{team:a,configuration:n,requireNew:i,paymentMethodState:r,onBack:o,onNext:s}=e;return(0,t.jsx)(H.PaymentMethodInstallationAction,{installationId:n.id,onBack:o,onNext:s,paymentMethodState:r,requireNew:i,team:a})}var eL=e.i(1155101),eO=e.i(5779481),eB=e.i(6838069),e$=e.i(397510),eD=e.i(7114720);e.i(6483798);var eF=e.i(8287059);function eW(e){let{success:t,onboardingRequired:a,modalDisplayMode:n,drainAddedAfterCreation:i,createdResource:r}=e;return t&&!a&&"inline"===n&&!i&&null!=r&&"integration"===r.type&&(0,h.supportsAnyDrainProtocol)(r.product)}function ez(e){let{success:t,onboardingRequired:a,modalDisplayMode:n,drainAddedAfterCreation:i,createdResource:r,isFreePlan:o}=e;return o&&eW({success:t,onboardingRequired:a,modalDisplayMode:n,drainAddedAfterCreation:i,createdResource:r})}function eU(e){let{team:a,authorizationId:i,onChangePaymentMethod:o,onBack:s,onNext:l,onSkipOnboarding:c,integration:d,configuration:u,product:p,resourceName:m,success:f,isTransitioning:x,createdResource:y,createdDrain:b}=e,v=(0,eu.useRouter)(),[j,k]=(0,r.useState)(!1),{authorization:C,error:_,handleUserActions:A}=(0,ee.usePollAuthorization)(a.id,i),{formError:N}=(0,W.useStoreIntegrationFormContext)(),I=!!(_||N.form||C?.status==="failed"),P=C?.status==="requires_action",M=(0,g.getResourceTitleByProduct)(p),R=(0,ey.useInstallMarketplaceProductDisplayMode)(),T=b?.projectIds&&b.projectIds.length>0?b.projectIds[0]:void 0,{data:E}=(0,eS.useProject)(T),{data:L}=(0,eO.useResourceItem)({resourceId:y?.id||null}),O=L?.store,B="onboarding"===(O?O.status:y?.status),$=()=>{y&&v.push((0,eB.getResourceDashboardLink)(y,{teamSlug:a.slug}))},{mutate:D}=(0,w.useTeam)(),F=(0,eF.useOpenUpgradeModal)(),z=(0,h.hasFreeBillingPlan)(a),U=ez({success:f,onboardingRequired:B,modalDisplayMode:R,drainAddedAfterCreation:j,createdResource:y,isFreePlan:z}),V=function(e){let{success:t,onboardingRequired:a,modalDisplayMode:n,drainAddedAfterCreation:i,createdResource:r,isFreePlan:o}=e;return eW({success:t,onboardingRequired:a,modalDisplayMode:n,drainAddedAfterCreation:i,createdResource:r})&&!o}({success:f,onboardingRequired:B,modalDisplayMode:R,drainAddedAfterCreation:j,createdResource:y,isFreePlan:z});return(0,t.jsx)(S.ResourceModalWrapper,{SecondaryButton:function(e){let{showUpgradeUpsell:a,showAddDrainButton:i,createdResource:r,teamSlug:o,onNext:s,onDrainCreated:l}=e;return a?(0,t.jsx)(n.Modal.Action,{onClick:()=>s(),type:"secondary",children:"Done"}):i&&r?(0,t.jsx)(eD.MarketplaceAddDrainButton,{resource:r,teamSlug:o,type:"secondary",onDrainCreated:l}):void 0}({showUpgradeUpsell:U,showAddDrainButton:V,createdResource:y,teamSlug:a.slug,onNext:l,onDrainCreated:async()=>{k(!0)}}),SuccessAction:function(e){let{onboardingRequired:a,createdResource:i,showUpgradeUpsell:r,openUpgradeModal:o,mutateTeam:s,success:l,hasErrors:c,isTransitioning:d,onNext:u,goToResource:p}=e;return a&&i?(0,t.jsx)(e$.OpenInPartnerDashboardButton,{buttonVariant:"default",componentType:"button",integrationConfigurationId:i.product.integrationConfigurationId,label:"Complete Onboarding",onClick:()=>{p()},productId:i.product.id,externalResourceId:i.externalResourceId,teamIdOrSlug:i.ownerId,path:"onboarding"}):r?(0,t.jsx)(J.Button,{onClick:()=>{o({source:"marketplace-install-flow-upgrade",forceImmediateUpgrade:!0,onConversionSuccess:()=>{s()}})},children:"Upgrade"}):(0,t.jsx)(n.Modal.Action,{disabled:!l,loading:!c&&!l||d,onClick:()=>u(),children:l?"Done":"Processing"})}({onboardingRequired:B,createdResource:y,showUpgradeUpsell:U,openUpgradeModal:F,mutateTeam:D,success:f,hasErrors:I,isTransitioning:x,onNext:l,goToResource:$}),cancelLabel:B?"Later":"Back",checkoutContentVariant:"no-padding-no-bottom",hideCancel:(!(I||P)||f)&&!B,from:"resource",integration:d,configuration:u,onBack:()=>{B?c?c(y):$():s()},product:p,children:(0,t.jsx)("div",{className:(0,eb.cn)("flex flex-col gap-4","inline"===R?"p-0":"p-6"),children:(0,t.jsx)(eV,{authorization:C,configuration:u,createdDrain:b,createdResource:y,drainAddedAfterCreation:j,error:N.form||(_?_ instanceof Error?_.message:`There was an error creating your ${m||M}`:void 0),formError:N,handleUserActions:A,integration:d,isFreePlan:z,modalDisplayMode:R,onChangePaymentMethod:o,onboardingRequired:B,product:p,project:E,resourceName:m,success:f,team:a})})})}function eV(e){let{product:a,resourceName:n,authorization:i,error:r,formError:o,success:s,onboardingRequired:l,integration:c,handleUserActions:d,onChangePaymentMethod:u,project:p,createdDrain:m,createdResource:h,isFreePlan:f,modalDisplayMode:x,drainAddedAfterCreation:y,team:b,configuration:v}=e,w=(0,g.getResourceTitleByProduct)(a);if(s){let e=ez({success:s,onboardingRequired:l,modalDisplayMode:x,drainAddedAfterCreation:y,createdResource:h,isFreePlan:f});return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial mb-3",children:[(0,t.jsx)(Q.CheckCircle,{color:"green-900",size:16}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-green-900","data-testid":(0,B.tid)("create-resource-modal","successfully-created"),children:m?`${w} and Trace Drain Created Successfully`:`${w} Created Successfully`})]}),e?(0,t.jsxs)(j.Note,{fill:!0,type:"secondary",children:["The"," ",(0,t.jsx)("span",{className:"text-copy-14 text-gray-1000",children:n||`${c.name} ${w}`})," ","has been created, but you will need to upgrade in order to start using Drains."]}):(0,t.jsx)("div",{className:"rounded-md bg-gray-200 p-4",children:(0,t.jsxs)("p",{className:"leading-relaxed",children:["The"," ",(0,t.jsx)("span",{className:"font-semibold",children:n||`${c.name} ${w}`})," ","has been created successfully",l?(0,t.jsx)(t.Fragment,{children:", but you will need to proceed to the partner dashboard to continue onboarding and complete the setup."}):"."]})}),m&&p?(0,t.jsx)("div",{className:"rounded-md bg-gray-200 p-4",children:(0,t.jsxs)("p",{className:"leading-relaxed text-gray-900",children:["The trace drain"," ",(0,t.jsx)("span",{className:"text-gray-1000",children:m.name})," has been created and connected to"," ",(0,t.jsx)(eC.Avatar,{className:"top-[2px]",hash:p.id,size:16})," ",(0,t.jsx)("span",{className:"text-gray-1000",children:p.name}),"."]})}):null]})}return i?.status==="requires_action"?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(Z.Warning,{color:"amber-900",size:16}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:"Authentication Needed"})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Further action is needed. Please authenticate your payment method to continue."}),(0,t.jsx)(J.Button,{onClick:()=>{d()},children:"Authenticate"})]}):i?.status==="failed"?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(X.Error,{children:"Preauthorization Failed"}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"There was an error using your payment method. Please try again with a different payment method."}),(0,t.jsx)(J.Button,{onClick:()=>u(),children:"Change Payment Method"})]}):r?(0,t.jsx)(z.InstallationProcessError,{error:o.form?o:(0,eL.upperFirst)(r),integration:c,preselectedProduct:a,integrationConfigurationId:v?.id,teamIdOrSlug:b.slug}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(k.Spinner,{size:16}),(0,t.jsx)("p",{className:"text-[16px] leading-[24px] font-medium",children:"Processing"})]}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["Almost ready, we're setting up your"," ",(0,t.jsx)("span",{className:"text-copy-14 text-gray-1000",children:n||w}),"."]})]})}var eG=e.i(7063289);function eq(e){let a=(0,I.useMarketplaceBillingPlansContext)();return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(n.Modal.Action,{disabled:!1,loading:e.isTransitioning,onClick:async()=>{let t=await a.topUpForm.addFundsForm.trigger(),n=await a.topUpForm.rechargeSettingsForm.trigger();t&&n&&e.onNext()},children:"Continue"}),cancelLabel:"Back",checkoutContentVariant:"default",from:"top-up",integration:e.integration,onBack:()=>{e.onBack()},product:e.product,children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-5 flex-initial pb-6",children:(0,t.jsx)("form",{children:(0,t.jsx)(eG.TopUpFormFields,{topUpForm:a.topUpForm,variant:"create"})})})})})}var eK=e.i(4758962);let eH=(0,G.withStripe)(function(e){let{arePermissionsLoading:a,isTransitioning:n,startTransition:i,team:l,integration:c,product:d,configuration:u,onBack:p,onIntegrationResourceCreate:g,cancelLabel:m,onStepChange:f,onSkipOnboarding:x,source:y,defaultResourceName:b}=e,v=(0,eu.useSearchParams)(),j=v?.get("external-id")||void 0,{connectProjectAndReturnToV0:k}=(0,en.useV0Marketplace)()||{},{projectId:w}=(0,ei.useProjectCloneContext)(),{createDrain:C}=(0,eK.useCreateDrain)(l.slug,w??void 0),[_,A]=(0,r.useState)(null),[N,S]=(0,r.useState)(!1),{onSubmit:P}=(0,W.useStoreIntegrationFormContext)(),M=(0,I.useMarketplaceBillingPlansContext)(),R=(0,$.isAwsIntegration)(c),T=c.flags?.includes(E.LaunchDarklyIntegrationFlags.MarketplaceInstallationOnlyPlan),L=Object.keys(d.metadataSchema?.properties??{}).length>0,O=(0,h.isProtocolSupported)(d,"logDrain"),B=T&&!L&&!O&&M.isBillingPlanPreselected,D=()=>R?"combined":B?"confirm":"select-plan",[F,z]=(0,r.useState)(D()),{createResource:U}=(0,em.useMutateResource)(),{data:V}=(0,eg.useMarketplaceBillingBalance)(u.id),[G,Y]=(0,r.useState)(B?u.billingPlan:void 0),[J,X]=(0,r.useState)(null),[Z,Q]=(0,r.useState)(!1),{data:et}=(0,q.useInstallationPaymentMethodState)({integrationConfigurationId:u.id}),ea=(0,K.useAwaitData)(et),{createAuthorization:er}=(0,ee.useMarketplaceBillingAuthorizationApi)(),eo=(0,ee.useAwaitAuthorization)(),[es,el]=(0,r.useState)(null),[eh,ef]=(0,r.useState)(null),[ex,ey]=(0,r.useState)(),eb=D(),ej=(0,r.useCallback)((e,t)=>{s.analytics.track(e,{integration_id:c.id,integration_slug:c.slug,product_id:d.id,product_slug:d.slug,team_slug:l.slug,source:y,...t},{send_to:{product_analytics:!0}})},[c.id,c.slug,d.id,d.slug,l.slug,y]);ec(()=>{ej("marketplace_checkout_viewed",{integration_name:c.name,product_name:d.name,initial_step:eb})}),(0,r.useEffect)(()=>{if(F===eb)return;let e={"select-plan":"marketplace_checkout_plan_viewed","top-up":"marketplace_checkout_topup_viewed","payment-method":"marketplace_checkout_payment_viewed",confirm:"marketplace_checkout_confirm_viewed",provisioning:"marketplace_checkout_provisioning_started",combined:"marketplace_checkout_combined_viewed"}[F];e&&ej(e)},[F,eb,ej]);let ek=(0,r.useCallback)((e,t)=>{e.paymentMethodRequired||t?i(async()=>{let t=await ea;(0,H.getIsPaymentMethodStepNeeded)(l,t,e)?z("payment-method"):z("confirm")}):z("confirm")},[ea,i,l]),ew=(0,r.useCallback)(()=>{G&&(ej("marketplace_checkout_topup_continued"),ek(G,!0))},[G,ek,ej]),eC=(0,r.useCallback)(()=>{ej("marketplace_checkout_payment_continued"),z("confirm"),Q(!1)},[ej]),e_=(0,r.useCallback)(()=>{Q(!0),z("payment-method")},[]);function eA(e){let{resourceName:t,createDrainPayload:a,billingPlanOverride:n}=e;ej("marketplace_checkout_confirmed",{resource_name:t,has_drain:!!a}),X(t),S(!!a),P(async e=>{let i,{metadata:r}=e;z("provisioning");let p=n??G??u.billingPlan??M.plan??M.defaultPlan,g=p?.type==="prepayment"?M.topUpForm.getAmountToAdd():void 0;if(p?.id&&(i=await er(l.id,{integrationIdOrSlug:c.id,productId:d.id,integrationConfigurationId:u.id,billingPlanId:p.id,metadata:r,source:y,prepaymentAmountCents:g}),el(i?.id??null),i)&&"succeeded"!==(await eo(l.id,i.id)).status)return;let m=await U({metadata:r,externalId:j,billingPlanId:p?.id,name:t,integrationConfigurationId:u.id,integrationProductIdOrSlug:d.id,authorizationId:i?.id??void 0,protocolSettings:ex,source:y});s.analytics.track(o.AnalyticsEvent.MARKETPLACE_RESOURCE_INSTALL_CLICKED,{integration:{id:c.id,slug:c.slug},productSlug:d.slug,source:y}),p&&"prepayment"===p.type&&await M.topUpForm.requests.updateRechargeSettingsForResource({billingPlanId:p.id,resourceId:m.id,teamId:l.id,configurationId:u.id,metadata:r}),ef(m),a&&A(await C({...a,source:{kind:"integration",resourceId:m.id}})),ej("marketplace_checkout_provisioning_completed")},{noTransition:!0,resourceName:t})}let eN=(0,r.useCallback)(()=>{if(!eh)throw Error("Not created");i(async()=>{if(k){ed.toasts.success(`Created ${eh.name} successfully. Redirecting back to v0.`);try{(0,ep.track)("v0/marketplace/integration-connected",{integrationId:c.id,productId:d.id}),await k({integrationId:c.id,productId:d.id,resourceId:eh.id,productSlug:d.slug})}catch(t){let e="[object Error]"===Object.prototype.toString.call(t)?t.message:String(t);(0,ep.track)("v0/marketplace/integration-connect-failed",{integrationId:c.id,productId:d.id,error:e}),ed.toasts.error("Failed to connect integration to v0.")}}else await g(eh)})},[eh,i,k,c.id,d.id,d.slug,g]);switch(F){case"combined":return(0,t.jsx)(eT,{cancelLabel:m,installationId:u.id,configuration:u,integration:c,onBack:()=>{f?.(),p()},onNext:(e,t,a,n)=>{f?.(),Y(a??null),ey(n),eA({resourceName:e,billingPlanOverride:a})},product:d,source:y});case"select-plan":return(0,t.jsx)(ev,{cancelLabel:m,installationId:u.id,configuration:u,integration:c,isLoading:a,isTransitioning:n,onBack:()=>{f?.(),p()},onNext:(e,t,a)=>{f?.(),function(e,t,a){if(s.analytics.track(o.AnalyticsEvent.MARKETPLACE_PRODUCT_PLAN_SELECTED,{integration:{id:c.id,slug:c.slug},productSlug:d.slug,source:y}),ej("marketplace_checkout_plan_continued",{billing_plan_id:t.id,billing_plan_type:t.type}),Y(t),ey(a),M.shouldAddTopUpFormStep&&("installation"!==t.scope||(V?.balance?.currencyValueInCents??0)===0)){let e=V?.balance?.currencyValueInCents;M.topUpForm.setup({type:"create",billingPlan:t,currentBalance:e?(e/100).toString():void 0}),z("top-up");return}ek(t,!1)}(0,t,a)},product:d,source:y,type:"product"});case"payment-method":return et?(0,t.jsx)(eE,{configuration:u,onBack:()=>{f?.(),z("select-plan")},onNext:()=>{f?.(),eC()},paymentMethodState:et,requireNew:Z,team:l}):null;case"confirm":return(0,t.jsx)(eP,{cancelLabel:m,installationBalance:V?.balance,configuration:u,integration:c,onBack:()=>{f?.(),z("select-plan")},onNext:e=>{f?.(),eA({resourceName:e.resourceName,createDrainPayload:e.createDrainPayload})},product:d,projectId:w??void 0,source:y,team:l,defaultResourceName:b});case"provisioning":return(0,t.jsx)(eU,{authorizationId:es,cancelLabel:m,configurationId:u.id,configuration:u,createdDrain:_,createdResource:eh,integration:c,isTransitioning:n||N&&!_,onBack:()=>{f?.(),z("confirm")},onChangePaymentMethod:e_,onNext:()=>{f?.(),eN()},onSkipOnboarding:x,product:d,resourceName:J,success:!!eh&&(!N||!!_),team:l});case"top-up":return(0,t.jsx)(eq,{integration:c,isTransitioning:n,onBack:()=>{f?.(),z("select-plan")},onNext:()=>{f?.(),ew()},product:d})}});function eY(e){let{onBack:a,onIntegrationResourceCreate:n,onSkipOnboarding:i,cancelLabel:r,product:o,integration:s,teamSlug:l,team:c,initialConfigurationStatus:u,onStepChange:p,defaultResourceName:g,initialMetadata:m,planId:h}=e,{team:f}=(0,w.useTeam)(l),x=c??f,{configurationStatus:y,onConfigurationInstalled:b}=(0,d.useConfigurationStatus)({initialConfigurationStatus:u}),{data:v}=(0,ef.default)(!y.isLoading&&y.isInstalled?y.configuration.id:void 0),{connectProjectAndReturnToV0:j}=(0,en.useV0Marketplace)()||{},k=(0,ei.useProjectCloneContext)().projectId?"deploy-button":j?"v0":"marketplace";if(y.isLoading||!x)return(0,t.jsx)(eX,{cancelLabel:r,integration:s,onBack:a,product:o});if(!y.isInstalled)return(0,t.jsx)(er,{cancelLabel:r,checkoutContentVariant:"default",integration:s,isLoading:!s,onBack:a,onSuccess:b,product:o,source:k,team:x});if(!v)return(0,t.jsx)(eX,{cancelLabel:r,integration:s,onBack:a,product:o});let C=s.supportsInstallationBillingPlans?v.billingPlan??y.configuration.billingPlan:void 0;return(0,t.jsx)(eJ,{onStepChange:p,cancelLabel:r,configuration:v,installationBillingPlan:y.billingPlan??C,integration:s,onBack:a,onIntegrationResourceCreate:n,onSkipOnboarding:i,preselectedBillingPlan:y.billingPlan,product:o,source:k,team:x,defaultResourceName:g,initialMetadata:m,planId:h})}function eJ(e){let{team:a,installationBillingPlan:n,preselectedBillingPlan:i,integration:o,product:s,configuration:l,onStepChange:c,onBack:d,onIntegrationResourceCreate:u,onSkipOnboarding:p,cancelLabel:m,source:h,defaultResourceName:f,initialMetadata:x,planId:y}=e,{canCreateResource:b,isLoading:v,isDeleteRequested:k}=(0,_.useInstallationPermissions)(l.id),[w,P]=(0,r.useTransition)();return k?(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:null,cancelLabel:m,checkoutContentVariant:"default",from:"resource",integration:o,onBack:d,product:s,children:(0,t.jsx)(j.Note,{type:"warning",children:`${(0,g.pendingDeletionLabel)("create",s,a.name)}`})}):v||b?(0,t.jsx)(N.ResourceFormProvider,{metadataSchema:s.metadataSchema,resourceTitle:A.storeTitle.integration,target:"create",initialMetadata:x,children:(0,t.jsx)(I.MarketplaceInstallationBillingPlansProvider,{defaultPlan:i??n,isBillingPlanPreselected:!!i,target:"create",source:h,preselectedBillingPlanId:y,children:(0,t.jsx)(C.DisabledContext.Provider,{value:v||w,children:(0,t.jsx)(eH,{arePermissionsLoading:v,cancelLabel:m,configuration:l,integration:o,isTransitioning:w,onBack:d,onIntegrationResourceCreate:u,product:s,source:h,startTransition:P,team:a,onStepChange:c,onSkipOnboarding:p,defaultResourceName:f})})})}):(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:null,cancelLabel:m,checkoutContentVariant:"default",from:"resource",integration:o,onBack:d,product:s,children:(0,t.jsx)(j.Note,{type:"warning",children:`${(0,g.missingPermissionLabel)("create",s,a.name)}`})})}function eX(e){return(0,t.jsx)(S.ResourceModalWrapper,{SuccessAction:(0,t.jsx)(n.Modal.Action,{buttonType:"submit",disabled:!0,loading:!0,children:"Continue"}),from:"installation",checkoutContentVariant:"default",...e,children:(0,t.jsx)("div",{className:"flex size-full items-center justify-center py-16",children:(0,t.jsx)(k.Spinner,{})})})}e.s(["CreateResourceModal",0,eY],6356390);var eZ=e.i(3584802);function eQ(){let e=(0,l.useTeamSlug)(),{data:a}=(0,p.useConfigurations)({type:"provisioning",skipBillingData:!0}),{hasProject:i,projectSlug:c}=(0,f.useProjectSlug)(),{state:u,onClose:j,onBack:k,onAnimationDone:w,protocolType:C,onResourceUpdated:_,maybeGoToConnectProjectStep:A,goToCreateResourceStep:N,switchTab:I}=(0,b.useResourceModalsContext)(),S=(0,eu.useRouter)(),P=`create-connect-${u.modalKey}`,[M,R]=(0,r.useState)(),T=(0,r.useRef)(null),E=(0,r.useCallback)(()=>{R(void 0),w()},[w]),L=(0,r.useCallback)(()=>{R(void 0),j()},[j]),O=(0,r.useCallback)(e=>{"integration"===e.type&&(0,h.supportsAnyDrainProtocol)(e.product)?(_({resource:e,isConnected:!0}),j()):(_({resource:e,isConnected:!1}),A(e))},[A,_,j]);switch(u.type){case v.ResourceModalsActionTypes.ModalClosed:return(0,t.jsx)(n.Modal.Modal,{active:u.active,allowOverflow:!0,onAnimationDone:E,onClickOutside:j,width:620,children:(0,t.jsx)("div",{})},P);case v.ResourceModalsActionTypes.BrowseProductsOrSelectResources:return(0,t.jsx)(e0,{active:u.active,goToCreateResourceStep:N,maybeGoToConnectProjectStep:A,modalKey:u.modalKey,onAnimationDone:E,onClose:L,protocolType:C,projectSlug:c,storeTypeWithProduct:M,setStoreTypeWithProduct:R,switchTab:I,tab:u.tab,teamSlug:e});case v.ResourceModalsActionTypes.BrowseProducts:return(0,t.jsx)(n.Modal.Modal,{active:u.active,allowOverflow:!0,onAnimationDone:E,onClickOutside:j,width:540,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{className:"p-8",children:(0,t.jsxs)("div",{ref:T,className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:(0,t.jsx)(n.Modal.Title,{center:!0,children:(0,g.browseProductsModalTitle)(C)})}),(0,t.jsx)(m.BrowseProducts,{onClickProduct:e=>{R(e)},protocolType:C,selectedProduct:M})]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:L,type:"secondary",children:"Cancel"}),(0,t.jsx)(n.Modal.Action,{disabled:!M,onClick:()=>{M&&("integration"===M.type?(j(),S.push((0,eZ.getIntegrationCheckoutUrl)({params:{teamSlug:e??"",integrationSlug:M.integration.slug},searchParams:{productSlug:M.product.slug,projectSlug:c??void 0,cancelUrl:`${window.location.pathname}${window.location.search}`}})),s.analytics.track(o.AnalyticsEvent.MARKETPLACE_PRODUCT_INSTALL_CLICKED,{source:"storage",integration:{id:M.integration.id,slug:M.integration.slug},productSlug:M.product.slug}),s.analytics.track("marketplace_product_install_clicked",{integration_id:M.integration.id,integration_slug:M.integration.slug,product_slug:M.product.slug,source:"resource"},{send_to:{product_analytics:!0}})):N(M))},children:"Continue"})]})]})},P);case v.ResourceModalsActionTypes.CreateResource:{if("integration"!==u.resourceWithProduct.type)return null;let i=u.resourceWithProduct.integration;return(0,t.jsx)(n.Modal.Modal,{active:u.active,allowOverflow:!0,onAnimationDone:E,onClickOutside:j,width:540,children:(0,t.jsx)(eY,{cancelLabel:u.backOrCancelLabel,initialConfigurationStatus:(0,d.getConfigurationStatusByIntegrationId)(a,i.id),integration:i,onBack:k,onIntegrationResourceCreate:O,product:(0,h.getProductWithSupportedProtocols)(u.resourceWithProduct.product),teamSlug:e??""})},P)}case v.ResourceModalsActionTypes.CreateEnvs:if(u.connection)return(0,t.jsx)(x.UpdateResourceConnectionModal,{active:u.active,connection:u.connection,onAnimationDone:E,onClickOutside:j,onConnectionCreated:()=>_({resource:u.resource,isConnected:!0}),resourceId:u.resource.id,store:u.resource},P);if(i&&!u.forceProjectSelector)return(0,t.jsx)(n.Modal.Modal,{active:u.active,allowOverflow:!0,onAnimationDone:E,onClickOutside:j,width:540,children:(0,t.jsx)(x.ConnectResourceForCurrentProjectStep,{resource:u.resource})},P);return(0,t.jsx)(x.CreateResourceConnectionModal,{active:u.active,onAnimationDone:E,onClickOutside:j,onConnectionCreated:()=>_({resource:u.resource,isConnected:!0}),resourceId:u.resource.id,store:u.resource},P);case v.ResourceModalsActionTypes.DeleteEnvs:return(0,t.jsx)(y.DeleteStoreConnectionModal,{active:u.active,connections:u.connections,onAnimationDone:E,onClickOutside:j,resourceId:u.resourceId,resource:u.resource},P)}}function e0(e){let{active:a,modalKey:o,tab:s,protocolType:l,teamSlug:d,projectSlug:p,storeTypeWithProduct:h,setStoreTypeWithProduct:f,onAnimationDone:x,onClose:y,switchTab:b,maybeGoToConnectProjectStep:v,goToCreateResourceStep:j}=e,k=(0,eu.useRouter)(),w=(0,r.useRef)(null),{data:C}=(0,c.useResourceList)({protocolType:l,skip:!a});return(0,t.jsx)(n.Modal.Modal,{active:a,allowOverflow:!0,onAnimationDone:()=>{f(void 0),x()},onClickOutside:y,width:"browse-new"===s?540:620,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{className:"p-8",children:(0,t.jsxs)("div",{ref:w,className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:(0,t.jsx)(n.Modal.Title,{center:!0,children:(0,g.browseProductsOrSelectResourcesModalTitle)(l)})}),(0,t.jsxs)(i.Switch,{name:"switch-new-existing-tab",children:[(0,t.jsx)(i.Switch.Control,{defaultChecked:"browse-new"===s,label:"Create New",onChange:()=>{b("browse-new")},size:"large",value:"create",width:104}),(0,t.jsx)(i.Switch.Control,{defaultChecked:"browse-existing"===s,disabled:C?.stores.length===0,label:"Select Existing",onChange:()=>{b("browse-existing")},size:"large",value:"connect",width:122})]}),"browse-new"===s?(0,t.jsx)(m.BrowseProducts,{onClickProduct:e=>{f(e)},protocolType:l,selectedProduct:h}):null,"browse-existing"===s?(0,t.jsx)(u.SelectResources,{hasCreateConnectButton:!1,onClickConnectStoreModal:e=>{v(e)},protocolType:l}):null]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:y,type:"secondary",children:"Cancel"}),"browse-new"===s?(0,t.jsx)(n.Modal.Action,{disabled:!h,onClick:()=>{h&&("integration"===h.type?(y(),k.push((0,eZ.getIntegrationCheckoutUrl)({params:{teamSlug:d??"",integrationSlug:h.integration.slug},searchParams:{productSlug:h.product.slug,projectSlug:p??void 0,cancelUrl:d?`/${d}/~/integrations/${h.integration.slug}`:`/marketplace/${h.integration.slug}`}}))):j(h))},children:"Continue"}):null]})]})},`create-connect-${o}`)}e.s(["ResourceModalsProvider",0,function(e){let{children:n,protocolType:i}=e;return(0,t.jsx)(a.ResourceModalsProviderBase,{Modal:(0,t.jsx)(eQ,{}),protocolType:i,children:n})}],15312)}]);

//# debugId=97957ffe-df2b-c279-e39e-2522aadeec2e
//# sourceMappingURL=a417486d93f8847e.js.map